var Ku=Object.defineProperty;var Yu=(r,n,l)=>n in r?Ku(r,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[n]=l;var ei=(r,n,l)=>(Yu(r,typeof n!="symbol"?n+"":n,l),l);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))a(h);new MutationObserver(h=>{for(const s of h)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function l(h){const s={};return h.integrity&&(s.integrity=h.integrity),h.referrerPolicy&&(s.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?s.credentials="include":h.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(h){if(h.ep)return;h.ep=!0;const s=l(h);fetch(h.href,s)}})();var Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jt={},ma={exports:{}};/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */(function(r){(function(n,l){r.exports=n.document?l(n,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return l(a)}})(typeof window<"u"?window:Se,function(n,l){var a=[],h=Object.getPrototypeOf,s=a.slice,p=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},y=a.push,d=a.indexOf,c={},f=c.toString,g=c.hasOwnProperty,m=g.toString,C=m.call(Object),w={},_=function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},A=function(t){return t!=null&&t===t.window},x=n.document,N={type:!0,src:!0,nonce:!0,noModule:!0};function B(e,t,o){o=o||x;var u,v,b=o.createElement("script");if(b.text=e,t)for(u in N)v=t[u]||t.getAttribute&&t.getAttribute(u),v&&b.setAttribute(u,v);o.head.appendChild(b).parentNode.removeChild(b)}function q(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?c[f.call(e)]||"object":typeof e}var H="3.7.0",X=/HTML$/i,i=function(e,t){return new i.fn.init(e,t)};i.fn=i.prototype={jquery:H,constructor:i,length:0,toArray:function(){return s.call(this)},get:function(e){return e==null?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=i.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return i.each(this,e)},map:function(e){return this.pushStack(i.map(this,function(t,o){return e.call(t,o,t)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,o=+e+(e<0?t:0);return this.pushStack(o>=0&&o<t?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:y,sort:a.sort,splice:a.splice},i.extend=i.fn.extend=function(){var e,t,o,u,v,b,k=arguments[0]||{},E=1,S=arguments.length,I=!1;for(typeof k=="boolean"&&(I=k,k=arguments[E]||{},E++),typeof k!="object"&&!_(k)&&(k={}),E===S&&(k=this,E--);E<S;E++)if((e=arguments[E])!=null)for(t in e)u=e[t],!(t==="__proto__"||k===u)&&(I&&u&&(i.isPlainObject(u)||(v=Array.isArray(u)))?(o=k[t],v&&!Array.isArray(o)?b=[]:!v&&!i.isPlainObject(o)?b={}:b=o,v=!1,k[t]=i.extend(I,b,u)):u!==void 0&&(k[t]=u));return k},i.extend({expando:"jQuery"+(H+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,o;return!e||f.call(e)!=="[object Object]"?!1:(t=h(e),t?(o=g.call(t,"constructor")&&t.constructor,typeof o=="function"&&m.call(o)===C):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,o){B(e,{nonce:t&&t.nonce},o)},each:function(e,t){var o,u=0;if(P(e))for(o=e.length;u<o&&t.call(e[u],u,e[u])!==!1;u++);else for(u in e)if(t.call(e[u],u,e[u])===!1)break;return e},text:function(e){var t,o="",u=0,v=e.nodeType;if(v){if(v===1||v===9||v===11)return e.textContent;if(v===3||v===4)return e.nodeValue}else for(;t=e[u++];)o+=i.text(t);return o},makeArray:function(e,t){var o=t||[];return e!=null&&(P(Object(e))?i.merge(o,typeof e=="string"?[e]:e):y.call(o,e)),o},inArray:function(e,t,o){return t==null?-1:d.call(t,e,o)},isXMLDoc:function(e){var t=e&&e.namespaceURI,o=e&&(e.ownerDocument||e).documentElement;return!X.test(t||o&&o.nodeName||"HTML")},merge:function(e,t){for(var o=+t.length,u=0,v=e.length;u<o;u++)e[v++]=t[u];return e.length=v,e},grep:function(e,t,o){for(var u,v=[],b=0,k=e.length,E=!o;b<k;b++)u=!t(e[b],b),u!==E&&v.push(e[b]);return v},map:function(e,t,o){var u,v,b=0,k=[];if(P(e))for(u=e.length;b<u;b++)v=t(e[b],b,o),v!=null&&k.push(v);else for(b in e)v=t(e[b],b,o),v!=null&&k.push(v);return p(k)},guid:1,support:w}),typeof Symbol=="function"&&(i.fn[Symbol.iterator]=a[Symbol.iterator]),i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function P(e){var t=!!e&&"length"in e&&e.length,o=q(e);return _(e)||A(e)?!1:o==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function z(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Z=a.pop,F=a.sort,K=a.splice,W="[\\x20\\t\\r\\n\\f]",se=new RegExp("^"+W+"+|((?:^|[^\\\\])(?:\\\\.)*)"+W+"+$","g");i.contains=function(e,t){var o=t&&t.parentNode;return e===o||!!(o&&o.nodeType===1&&(e.contains?e.contains(o):e.compareDocumentPosition&&e.compareDocumentPosition(o)&16))};var pe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function ke(e,t){return t?e==="\0"?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}i.escapeSelector=function(e){return(e+"").replace(pe,ke)};var he=x,Ie=y;(function(){var e,t,o,u,v,b=Ie,k,E,S,I,L,j=i.expando,M=0,V=0,ce=ir(),be=ir(),de=ir(),Me=ir(),$e=function(T,O){return T===O&&(v=!0),0},ot="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",at="(?:\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ve="\\["+W+"*("+at+")(?:"+W+"*([*^$|!~]?=)"+W+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+at+"))|)"+W+"*\\]",Lt=":("+at+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ve+")*)|.*)\\)|)",Ce=new RegExp(W+"+","g"),Ae=new RegExp("^"+W+"*,"+W+"*"),Tn=new RegExp("^"+W+"*([>+~]|"+W+")"+W+"*"),Gr=new RegExp(W+"|>"),ct=new RegExp(Lt),xn=new RegExp("^"+at+"$"),ut={ID:new RegExp("^#("+at+")"),CLASS:new RegExp("^\\.("+at+")"),TAG:new RegExp("^("+at+"|[*])"),ATTR:new RegExp("^"+ve),PSEUDO:new RegExp("^"+Lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+W+"*(even|odd|(([+-]|)(\\d*)n|)"+W+"*(?:([+-]|)"+W+"*(\\d+)|))"+W+"*\\)|)","i"),bool:new RegExp("^(?:"+ot+")$","i"),needsContext:new RegExp("^"+W+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+W+"*((?:-\\d)?\\d*)"+W+"*\\)|)(?=[^-]|$)","i")},Ct=/^(?:input|select|textarea|button)$/i,kt=/^h\d$/i,Ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Jr=/[+~]/,pt=new RegExp("\\\\[\\da-fA-F]{1,6}"+W+"?|\\\\([^\\r\\n\\f])","g"),gt=function(T,O){var R="0x"+T.slice(1)-65536;return O||(R<0?String.fromCharCode(R+65536):String.fromCharCode(R>>10|55296,R&1023|56320))},Hu=function(){_t()},Vu=ar(function(T){return T.disabled===!0&&z(T,"fieldset")},{dir:"parentNode",next:"legend"});function Wu(){try{return k.activeElement}catch{}}try{b.apply(a=s.call(he.childNodes),he.childNodes),a[he.childNodes.length].nodeType}catch{b={apply:function(O,R){Ie.apply(O,s.call(R))},call:function(O){Ie.apply(O,s.call(arguments,1))}}}function Te(T,O,R,D){var U,J,Y,te,Q,me,ae,ue=O&&O.ownerDocument,ye=O?O.nodeType:9;if(R=R||[],typeof T!="string"||!T||ye!==1&&ye!==9&&ye!==11)return R;if(!D&&(_t(O),O=O||k,S)){if(ye!==11&&(Q=Ye.exec(T)))if(U=Q[1]){if(ye===9)if(Y=O.getElementById(U)){if(Y.id===U)return b.call(R,Y),R}else return R;else if(ue&&(Y=ue.getElementById(U))&&Te.contains(O,Y)&&Y.id===U)return b.call(R,Y),R}else{if(Q[2])return b.apply(R,O.getElementsByTagName(T)),R;if((U=Q[3])&&O.getElementsByClassName)return b.apply(R,O.getElementsByClassName(U)),R}if(!Me[T+" "]&&(!I||!I.test(T))){if(ae=T,ue=O,ye===1&&(Gr.test(T)||Tn.test(T))){for(ue=Jr.test(T)&&Xr(O.parentNode)||O,(ue!=O||!w.scope)&&((te=O.getAttribute("id"))?te=i.escapeSelector(te):O.setAttribute("id",te=j)),me=sr(T),J=me.length;J--;)me[J]=(te?"#"+te:":scope")+" "+or(me[J]);ae=me.join(",")}try{return b.apply(R,ue.querySelectorAll(ae)),R}catch{Me(T,!0)}finally{te===j&&O.removeAttribute("id")}}}return Qs(T.replace(se,"$1"),O,R,D)}function ir(){var T=[];function O(R,D){return T.push(R+" ")>t.cacheLength&&delete O[T.shift()],O[R+" "]=D}return O}function nt(T){return T[j]=!0,T}function cn(T){var O=k.createElement("fieldset");try{return!!T(O)}catch{return!1}finally{O.parentNode&&O.parentNode.removeChild(O),O=null}}function zu(T){return function(O){return z(O,"input")&&O.type===T}}function Gu(T){return function(O){return(z(O,"input")||z(O,"button"))&&O.type===T}}function Ks(T){return function(O){return"form"in O?O.parentNode&&O.disabled===!1?"label"in O?"label"in O.parentNode?O.parentNode.disabled===T:O.disabled===T:O.isDisabled===T||O.isDisabled!==!T&&Vu(O)===T:O.disabled===T:"label"in O?O.disabled===T:!1}}function qt(T){return nt(function(O){return O=+O,nt(function(R,D){for(var U,J=T([],R.length,O),Y=J.length;Y--;)R[U=J[Y]]&&(R[U]=!(D[U]=R[U]))})})}function Xr(T){return T&&typeof T.getElementsByTagName<"u"&&T}function _t(T){var O,R=T?T.ownerDocument||T:he;return R==k||R.nodeType!==9||!R.documentElement||(k=R,E=k.documentElement,S=!i.isXMLDoc(k),L=E.matches||E.webkitMatchesSelector||E.msMatchesSelector,he!=k&&(O=k.defaultView)&&O.top!==O&&O.addEventListener("unload",Hu),w.getById=cn(function(D){return E.appendChild(D).id=i.expando,!k.getElementsByName||!k.getElementsByName(i.expando).length}),w.disconnectedMatch=cn(function(D){return L.call(D,"*")}),w.scope=cn(function(){return k.querySelectorAll(":scope")}),w.cssHas=cn(function(){try{return k.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),w.getById?(t.filter.ID=function(D){var U=D.replace(pt,gt);return function(J){return J.getAttribute("id")===U}},t.find.ID=function(D,U){if(typeof U.getElementById<"u"&&S){var J=U.getElementById(D);return J?[J]:[]}}):(t.filter.ID=function(D){var U=D.replace(pt,gt);return function(J){var Y=typeof J.getAttributeNode<"u"&&J.getAttributeNode("id");return Y&&Y.value===U}},t.find.ID=function(D,U){if(typeof U.getElementById<"u"&&S){var J,Y,te,Q=U.getElementById(D);if(Q){if(J=Q.getAttributeNode("id"),J&&J.value===D)return[Q];for(te=U.getElementsByName(D),Y=0;Q=te[Y++];)if(J=Q.getAttributeNode("id"),J&&J.value===D)return[Q]}return[]}}),t.find.TAG=function(D,U){return typeof U.getElementsByTagName<"u"?U.getElementsByTagName(D):U.querySelectorAll(D)},t.find.CLASS=function(D,U){if(typeof U.getElementsByClassName<"u"&&S)return U.getElementsByClassName(D)},I=[],cn(function(D){var U;E.appendChild(D).innerHTML="<a id='"+j+"' href='' disabled='disabled'></a><select id='"+j+"-\r\\' disabled='disabled'><option selected=''></option></select>",D.querySelectorAll("[selected]").length||I.push("\\["+W+"*(?:value|"+ot+")"),D.querySelectorAll("[id~="+j+"-]").length||I.push("~="),D.querySelectorAll("a#"+j+"+*").length||I.push(".#.+[+~]"),D.querySelectorAll(":checked").length||I.push(":checked"),U=k.createElement("input"),U.setAttribute("type","hidden"),D.appendChild(U).setAttribute("name","D"),E.appendChild(D).disabled=!0,D.querySelectorAll(":disabled").length!==2&&I.push(":enabled",":disabled"),U=k.createElement("input"),U.setAttribute("name",""),D.appendChild(U),D.querySelectorAll("[name='']").length||I.push("\\["+W+"*name"+W+"*="+W+`*(?:''|"")`)}),w.cssHas||I.push(":has"),I=I.length&&new RegExp(I.join("|")),$e=function(D,U){if(D===U)return v=!0,0;var J=!D.compareDocumentPosition-!U.compareDocumentPosition;return J||(J=(D.ownerDocument||D)==(U.ownerDocument||U)?D.compareDocumentPosition(U):1,J&1||!w.sortDetached&&U.compareDocumentPosition(D)===J?D===k||D.ownerDocument==he&&Te.contains(he,D)?-1:U===k||U.ownerDocument==he&&Te.contains(he,U)?1:u?d.call(u,D)-d.call(u,U):0:J&4?-1:1)}),k}Te.matches=function(T,O){return Te(T,null,null,O)},Te.matchesSelector=function(T,O){if(_t(T),S&&!Me[O+" "]&&(!I||!I.test(O)))try{var R=L.call(T,O);if(R||w.disconnectedMatch||T.document&&T.document.nodeType!==11)return R}catch{Me(O,!0)}return Te(O,k,null,[T]).length>0},Te.contains=function(T,O){return(T.ownerDocument||T)!=k&&_t(T),i.contains(T,O)},Te.attr=function(T,O){(T.ownerDocument||T)!=k&&_t(T);var R=t.attrHandle[O.toLowerCase()],D=R&&g.call(t.attrHandle,O.toLowerCase())?R(T,O,!S):void 0;return D!==void 0?D:T.getAttribute(O)},Te.error=function(T){throw new Error("Syntax error, unrecognized expression: "+T)},i.uniqueSort=function(T){var O,R=[],D=0,U=0;if(v=!w.sortStable,u=!w.sortStable&&s.call(T,0),F.call(T,$e),v){for(;O=T[U++];)O===T[U]&&(D=R.push(U));for(;D--;)K.call(T,R[D],1)}return u=null,T},i.fn.uniqueSort=function(){return this.pushStack(i.uniqueSort(s.apply(this)))},t=i.expr={cacheLength:50,createPseudo:nt,match:ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(T){return T[1]=T[1].replace(pt,gt),T[3]=(T[3]||T[4]||T[5]||"").replace(pt,gt),T[2]==="~="&&(T[3]=" "+T[3]+" "),T.slice(0,4)},CHILD:function(T){return T[1]=T[1].toLowerCase(),T[1].slice(0,3)==="nth"?(T[3]||Te.error(T[0]),T[4]=+(T[4]?T[5]+(T[6]||1):2*(T[3]==="even"||T[3]==="odd")),T[5]=+(T[7]+T[8]||T[3]==="odd")):T[3]&&Te.error(T[0]),T},PSEUDO:function(T){var O,R=!T[6]&&T[2];return ut.CHILD.test(T[0])?null:(T[3]?T[2]=T[4]||T[5]||"":R&&ct.test(R)&&(O=sr(R,!0))&&(O=R.indexOf(")",R.length-O)-R.length)&&(T[0]=T[0].slice(0,O),T[2]=R.slice(0,O)),T.slice(0,3))}},filter:{TAG:function(T){var O=T.replace(pt,gt).toLowerCase();return T==="*"?function(){return!0}:function(R){return z(R,O)}},CLASS:function(T){var O=ce[T+" "];return O||(O=new RegExp("(^|"+W+")"+T+"("+W+"|$)"))&&ce(T,function(R){return O.test(typeof R.className=="string"&&R.className||typeof R.getAttribute<"u"&&R.getAttribute("class")||"")})},ATTR:function(T,O,R){return function(D){var U=Te.attr(D,T);return U==null?O==="!=":O?(U+="",O==="="?U===R:O==="!="?U!==R:O==="^="?R&&U.indexOf(R)===0:O==="*="?R&&U.indexOf(R)>-1:O==="$="?R&&U.slice(-R.length)===R:O==="~="?(" "+U.replace(Ce," ")+" ").indexOf(R)>-1:O==="|="?U===R||U.slice(0,R.length+1)===R+"-":!1):!0}},CHILD:function(T,O,R,D,U){var J=T.slice(0,3)!=="nth",Y=T.slice(-4)!=="last",te=O==="of-type";return D===1&&U===0?function(Q){return!!Q.parentNode}:function(Q,me,ae){var ue,ye,oe,xe,We,De=J!==Y?"nextSibling":"previousSibling",Qe=Q.parentNode,lt=te&&Q.nodeName.toLowerCase(),un=!ae&&!te,Fe=!1;if(Qe){if(J){for(;De;){for(oe=Q;oe=oe[De];)if(te?z(oe,lt):oe.nodeType===1)return!1;We=De=T==="only"&&!We&&"nextSibling"}return!0}if(We=[Y?Qe.firstChild:Qe.lastChild],Y&&un){for(ye=Qe[j]||(Qe[j]={}),ue=ye[T]||[],xe=ue[0]===M&&ue[1],Fe=xe&&ue[2],oe=xe&&Qe.childNodes[xe];oe=++xe&&oe&&oe[De]||(Fe=xe=0)||We.pop();)if(oe.nodeType===1&&++Fe&&oe===Q){ye[T]=[M,xe,Fe];break}}else if(un&&(ye=Q[j]||(Q[j]={}),ue=ye[T]||[],xe=ue[0]===M&&ue[1],Fe=xe),Fe===!1)for(;(oe=++xe&&oe&&oe[De]||(Fe=xe=0)||We.pop())&&!((te?z(oe,lt):oe.nodeType===1)&&++Fe&&(un&&(ye=oe[j]||(oe[j]={}),ye[T]=[M,Fe]),oe===Q)););return Fe-=U,Fe===D||Fe%D===0&&Fe/D>=0}}},PSEUDO:function(T,O){var R,D=t.pseudos[T]||t.setFilters[T.toLowerCase()]||Te.error("unsupported pseudo: "+T);return D[j]?D(O):D.length>1?(R=[T,T,"",O],t.setFilters.hasOwnProperty(T.toLowerCase())?nt(function(U,J){for(var Y,te=D(U,O),Q=te.length;Q--;)Y=d.call(U,te[Q]),U[Y]=!(J[Y]=te[Q])}):function(U){return D(U,0,R)}):D}},pseudos:{not:nt(function(T){var O=[],R=[],D=Zr(T.replace(se,"$1"));return D[j]?nt(function(U,J,Y,te){for(var Q,me=D(U,null,te,[]),ae=U.length;ae--;)(Q=me[ae])&&(U[ae]=!(J[ae]=Q))}):function(U,J,Y){return O[0]=U,D(O,null,Y,R),O[0]=null,!R.pop()}}),has:nt(function(T){return function(O){return Te(T,O).length>0}}),contains:nt(function(T){return T=T.replace(pt,gt),function(O){return(O.textContent||i.text(O)).indexOf(T)>-1}}),lang:nt(function(T){return xn.test(T||"")||Te.error("unsupported lang: "+T),T=T.replace(pt,gt).toLowerCase(),function(O){var R;do if(R=S?O.lang:O.getAttribute("xml:lang")||O.getAttribute("lang"))return R=R.toLowerCase(),R===T||R.indexOf(T+"-")===0;while((O=O.parentNode)&&O.nodeType===1);return!1}}),target:function(T){var O=n.location&&n.location.hash;return O&&O.slice(1)===T.id},root:function(T){return T===E},focus:function(T){return T===Wu()&&k.hasFocus()&&!!(T.type||T.href||~T.tabIndex)},enabled:Ks(!1),disabled:Ks(!0),checked:function(T){return z(T,"input")&&!!T.checked||z(T,"option")&&!!T.selected},selected:function(T){return T.parentNode&&T.parentNode.selectedIndex,T.selected===!0},empty:function(T){for(T=T.firstChild;T;T=T.nextSibling)if(T.nodeType<6)return!1;return!0},parent:function(T){return!t.pseudos.empty(T)},header:function(T){return kt.test(T.nodeName)},input:function(T){return Ct.test(T.nodeName)},button:function(T){return z(T,"input")&&T.type==="button"||z(T,"button")},text:function(T){var O;return z(T,"input")&&T.type==="text"&&((O=T.getAttribute("type"))==null||O.toLowerCase()==="text")},first:qt(function(){return[0]}),last:qt(function(T,O){return[O-1]}),eq:qt(function(T,O,R){return[R<0?R+O:R]}),even:qt(function(T,O){for(var R=0;R<O;R+=2)T.push(R);return T}),odd:qt(function(T,O){for(var R=1;R<O;R+=2)T.push(R);return T}),lt:qt(function(T,O,R){var D;for(R<0?D=R+O:R>O?D=O:D=R;--D>=0;)T.push(D);return T}),gt:qt(function(T,O,R){for(var D=R<0?R+O:R;++D<O;)T.push(D);return T})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=zu(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=Gu(e);function Ys(){}Ys.prototype=t.filters=t.pseudos,t.setFilters=new Ys;function sr(T,O){var R,D,U,J,Y,te,Q,me=be[T+" "];if(me)return O?0:me.slice(0);for(Y=T,te=[],Q=t.preFilter;Y;){(!R||(D=Ae.exec(Y)))&&(D&&(Y=Y.slice(D[0].length)||Y),te.push(U=[])),R=!1,(D=Tn.exec(Y))&&(R=D.shift(),U.push({value:R,type:D[0].replace(se," ")}),Y=Y.slice(R.length));for(J in t.filter)(D=ut[J].exec(Y))&&(!Q[J]||(D=Q[J](D)))&&(R=D.shift(),U.push({value:R,type:J,matches:D}),Y=Y.slice(R.length));if(!R)break}return O?Y.length:Y?Te.error(T):be(T,te).slice(0)}function or(T){for(var O=0,R=T.length,D="";O<R;O++)D+=T[O].value;return D}function ar(T,O,R){var D=O.dir,U=O.next,J=U||D,Y=R&&J==="parentNode",te=V++;return O.first?function(Q,me,ae){for(;Q=Q[D];)if(Q.nodeType===1||Y)return T(Q,me,ae);return!1}:function(Q,me,ae){var ue,ye,oe=[M,te];if(ae){for(;Q=Q[D];)if((Q.nodeType===1||Y)&&T(Q,me,ae))return!0}else for(;Q=Q[D];)if(Q.nodeType===1||Y)if(ye=Q[j]||(Q[j]={}),U&&z(Q,U))Q=Q[D]||Q;else{if((ue=ye[J])&&ue[0]===M&&ue[1]===te)return oe[2]=ue[2];if(ye[J]=oe,oe[2]=T(Q,me,ae))return!0}return!1}}function Kr(T){return T.length>1?function(O,R,D){for(var U=T.length;U--;)if(!T[U](O,R,D))return!1;return!0}:T[0]}function Ju(T,O,R){for(var D=0,U=O.length;D<U;D++)Te(T,O[D],R);return R}function cr(T,O,R,D,U){for(var J,Y=[],te=0,Q=T.length,me=O!=null;te<Q;te++)(J=T[te])&&(!R||R(J,D,U))&&(Y.push(J),me&&O.push(te));return Y}function Yr(T,O,R,D,U,J){return D&&!D[j]&&(D=Yr(D)),U&&!U[j]&&(U=Yr(U,J)),nt(function(Y,te,Q,me){var ae,ue,ye,oe,xe=[],We=[],De=te.length,Qe=Y||Ju(O||"*",Q.nodeType?[Q]:Q,[]),lt=T&&(Y||!O)?cr(Qe,xe,T,Q,me):Qe;if(R?(oe=U||(Y?T:De||D)?[]:te,R(lt,oe,Q,me)):oe=lt,D)for(ae=cr(oe,We),D(ae,[],Q,me),ue=ae.length;ue--;)(ye=ae[ue])&&(oe[We[ue]]=!(lt[We[ue]]=ye));if(Y){if(U||T){if(U){for(ae=[],ue=oe.length;ue--;)(ye=oe[ue])&&ae.push(lt[ue]=ye);U(null,oe=[],ae,me)}for(ue=oe.length;ue--;)(ye=oe[ue])&&(ae=U?d.call(Y,ye):xe[ue])>-1&&(Y[ae]=!(te[ae]=ye))}}else oe=cr(oe===te?oe.splice(De,oe.length):oe),U?U(null,te,oe,me):b.apply(te,oe)})}function Qr(T){for(var O,R,D,U=T.length,J=t.relative[T[0].type],Y=J||t.relative[" "],te=J?1:0,Q=ar(function(ue){return ue===O},Y,!0),me=ar(function(ue){return d.call(O,ue)>-1},Y,!0),ae=[function(ue,ye,oe){var xe=!J&&(oe||ye!=o)||((O=ye).nodeType?Q(ue,ye,oe):me(ue,ye,oe));return O=null,xe}];te<U;te++)if(R=t.relative[T[te].type])ae=[ar(Kr(ae),R)];else{if(R=t.filter[T[te].type].apply(null,T[te].matches),R[j]){for(D=++te;D<U&&!t.relative[T[D].type];D++);return Yr(te>1&&Kr(ae),te>1&&or(T.slice(0,te-1).concat({value:T[te-2].type===" "?"*":""})).replace(se,"$1"),R,te<D&&Qr(T.slice(te,D)),D<U&&Qr(T=T.slice(D)),D<U&&or(T))}ae.push(R)}return Kr(ae)}function Xu(T,O){var R=O.length>0,D=T.length>0,U=function(J,Y,te,Q,me){var ae,ue,ye,oe=0,xe="0",We=J&&[],De=[],Qe=o,lt=J||D&&t.find.TAG("*",me),un=M+=Qe==null?1:Math.random()||.1,Fe=lt.length;for(me&&(o=Y==k||Y||me);xe!==Fe&&(ae=lt[xe])!=null;xe++){if(D&&ae){for(ue=0,!Y&&ae.ownerDocument!=k&&(_t(ae),te=!S);ye=T[ue++];)if(ye(ae,Y||k,te)){b.call(Q,ae);break}me&&(M=un)}R&&((ae=!ye&&ae)&&oe--,J&&We.push(ae))}if(oe+=xe,R&&xe!==oe){for(ue=0;ye=O[ue++];)ye(We,De,Y,te);if(J){if(oe>0)for(;xe--;)We[xe]||De[xe]||(De[xe]=Z.call(Q));De=cr(De)}b.apply(Q,De),me&&!J&&De.length>0&&oe+O.length>1&&i.uniqueSort(Q)}return me&&(M=un,o=Qe),We};return R?nt(U):U}function Zr(T,O){var R,D=[],U=[],J=de[T+" "];if(!J){for(O||(O=sr(T)),R=O.length;R--;)J=Qr(O[R]),J[j]?D.push(J):U.push(J);J=de(T,Xu(U,D)),J.selector=T}return J}function Qs(T,O,R,D){var U,J,Y,te,Q,me=typeof T=="function"&&T,ae=!D&&sr(T=me.selector||T);if(R=R||[],ae.length===1){if(J=ae[0]=ae[0].slice(0),J.length>2&&(Y=J[0]).type==="ID"&&O.nodeType===9&&S&&t.relative[J[1].type]){if(O=(t.find.ID(Y.matches[0].replace(pt,gt),O)||[])[0],O)me&&(O=O.parentNode);else return R;T=T.slice(J.shift().value.length)}for(U=ut.needsContext.test(T)?0:J.length;U--&&(Y=J[U],!t.relative[te=Y.type]);)if((Q=t.find[te])&&(D=Q(Y.matches[0].replace(pt,gt),Jr.test(J[0].type)&&Xr(O.parentNode)||O))){if(J.splice(U,1),T=D.length&&or(J),!T)return b.apply(R,D),R;break}}return(me||Zr(T,ae))(D,O,!S,R,!O||Jr.test(T)&&Xr(O.parentNode)||O),R}w.sortStable=j.split("").sort($e).join("")===j,_t(),w.sortDetached=cn(function(T){return T.compareDocumentPosition(k.createElement("fieldset"))&1}),i.find=Te,i.expr[":"]=i.expr.pseudos,i.unique=i.uniqueSort,Te.compile=Zr,Te.select=Qs,Te.setDocument=_t,Te.escape=i.escapeSelector,Te.getText=i.text,Te.isXML=i.isXMLDoc,Te.selectors=i.expr,Te.support=i.support,Te.uniqueSort=i.uniqueSort})();var Ne=function(e,t,o){for(var u=[],v=o!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(v&&i(e).is(o))break;u.push(e)}return u},$t=function(e,t){for(var o=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&o.push(e);return o},et=i.expr.match.needsContext,Pt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function It(e,t,o){return _(t)?i.grep(e,function(u,v){return!!t.call(u,v,u)!==o}):t.nodeType?i.grep(e,function(u){return u===t!==o}):typeof t!="string"?i.grep(e,function(u){return d.call(t,u)>-1!==o}):i.filter(t,e,o)}i.filter=function(e,t,o){var u=t[0];return o&&(e=":not("+e+")"),t.length===1&&u.nodeType===1?i.find.matchesSelector(u,e)?[u]:[]:i.find.matches(e,i.grep(t,function(v){return v.nodeType===1}))},i.fn.extend({find:function(e){var t,o,u=this.length,v=this;if(typeof e!="string")return this.pushStack(i(e).filter(function(){for(t=0;t<u;t++)if(i.contains(v[t],this))return!0}));for(o=this.pushStack([]),t=0;t<u;t++)i.find(e,v[t],o);return u>1?i.uniqueSort(o):o},filter:function(e){return this.pushStack(It(this,e||[],!1))},not:function(e){return this.pushStack(It(this,e||[],!0))},is:function(e){return!!It(this,typeof e=="string"&&et.test(e)?i(e):e||[],!1).length}});var Nt,Yn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Qn=i.fn.init=function(e,t,o){var u,v;if(!e)return this;if(o=o||Nt,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?u=[null,e,null]:u=Yn.exec(e),u&&(u[1]||!t))if(u[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(u[1],t&&t.nodeType?t.ownerDocument||t:x,!0)),Pt.test(u[1])&&i.isPlainObject(t))for(u in t)_(this[u])?this[u](t[u]):this.attr(u,t[u]);return this}else return v=x.getElementById(u[2]),v&&(this[0]=v,this.length=1),this;else return!t||t.jquery?(t||o).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(_(e))return o.ready!==void 0?o.ready(e):e(i)}return i.makeArray(e,this)};Qn.prototype=i.fn,Nt=i(x);var re=/^(?:parents|prev(?:Until|All))/,ie={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(e){var t=i(e,this),o=t.length;return this.filter(function(){for(var u=0;u<o;u++)if(i.contains(this,t[u]))return!0})},closest:function(e,t){var o,u=0,v=this.length,b=[],k=typeof e!="string"&&i(e);if(!et.test(e)){for(;u<v;u++)for(o=this[u];o&&o!==t;o=o.parentNode)if(o.nodeType<11&&(k?k.index(o)>-1:o.nodeType===1&&i.find.matchesSelector(o,e))){b.push(o);break}}return this.pushStack(b.length>1?i.uniqueSort(b):b)},index:function(e){return e?typeof e=="string"?d.call(i(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function ee(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}i.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return Ne(e,"parentNode")},parentsUntil:function(e,t,o){return Ne(e,"parentNode",o)},next:function(e){return ee(e,"nextSibling")},prev:function(e){return ee(e,"previousSibling")},nextAll:function(e){return Ne(e,"nextSibling")},prevAll:function(e){return Ne(e,"previousSibling")},nextUntil:function(e,t,o){return Ne(e,"nextSibling",o)},prevUntil:function(e,t,o){return Ne(e,"previousSibling",o)},siblings:function(e){return $t((e.parentNode||{}).firstChild,e)},children:function(e){return $t(e.firstChild)},contents:function(e){return e.contentDocument!=null&&h(e.contentDocument)?e.contentDocument:(z(e,"template")&&(e=e.content||e),i.merge([],e.childNodes))}},function(e,t){i.fn[e]=function(o,u){var v=i.map(this,t,o);return e.slice(-5)!=="Until"&&(u=o),u&&typeof u=="string"&&(v=i.filter(u,v)),this.length>1&&(ie[e]||i.uniqueSort(v),re.test(e)&&v.reverse()),this.pushStack(v)}});var ge=/[^\x20\t\r\n\f]+/g;function Ee(e){var t={};return i.each(e.match(ge)||[],function(o,u){t[u]=!0}),t}i.Callbacks=function(e){e=typeof e=="string"?Ee(e):i.extend({},e);var t,o,u,v,b=[],k=[],E=-1,S=function(){for(v=v||e.once,u=t=!0;k.length;E=-1)for(o=k.shift();++E<b.length;)b[E].apply(o[0],o[1])===!1&&e.stopOnFalse&&(E=b.length,o=!1);e.memory||(o=!1),t=!1,v&&(o?b=[]:b="")},I={add:function(){return b&&(o&&!t&&(E=b.length-1,k.push(o)),function L(j){i.each(j,function(M,V){_(V)?(!e.unique||!I.has(V))&&b.push(V):V&&V.length&&q(V)!=="string"&&L(V)})}(arguments),o&&!t&&S()),this},remove:function(){return i.each(arguments,function(L,j){for(var M;(M=i.inArray(j,b,M))>-1;)b.splice(M,1),M<=E&&E--}),this},has:function(L){return L?i.inArray(L,b)>-1:b.length>0},empty:function(){return b&&(b=[]),this},disable:function(){return v=k=[],b=o="",this},disabled:function(){return!b},lock:function(){return v=k=[],!o&&!t&&(b=o=""),this},locked:function(){return!!v},fireWith:function(L,j){return v||(j=j||[],j=[L,j.slice?j.slice():j],k.push(j),t||S()),this},fire:function(){return I.fireWith(this,arguments),this},fired:function(){return!!u}};return I};function Oe(e){return e}function G(e){throw e}function we(e,t,o,u){var v;try{e&&_(v=e.promise)?v.call(e).done(t).fail(o):e&&_(v=e.then)?v.call(e,t,o):t.apply(void 0,[e].slice(u))}catch(b){o.apply(void 0,[b])}}i.extend({Deferred:function(e){var t=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",u={state:function(){return o},always:function(){return v.done(arguments).fail(arguments),this},catch:function(b){return u.then(null,b)},pipe:function(){var b=arguments;return i.Deferred(function(k){i.each(t,function(E,S){var I=_(b[S[4]])&&b[S[4]];v[S[1]](function(){var L=I&&I.apply(this,arguments);L&&_(L.promise)?L.promise().progress(k.notify).done(k.resolve).fail(k.reject):k[S[0]+"With"](this,I?[L]:arguments)})}),b=null}).promise()},then:function(b,k,E){var S=0;function I(L,j,M,V){return function(){var ce=this,be=arguments,de=function(){var $e,ot;if(!(L<S)){if($e=M.apply(ce,be),$e===j.promise())throw new TypeError("Thenable self-resolution");ot=$e&&(typeof $e=="object"||typeof $e=="function")&&$e.then,_(ot)?V?ot.call($e,I(S,j,Oe,V),I(S,j,G,V)):(S++,ot.call($e,I(S,j,Oe,V),I(S,j,G,V),I(S,j,Oe,j.notifyWith))):(M!==Oe&&(ce=void 0,be=[$e]),(V||j.resolveWith)(ce,be))}},Me=V?de:function(){try{de()}catch($e){i.Deferred.exceptionHook&&i.Deferred.exceptionHook($e,Me.error),L+1>=S&&(M!==G&&(ce=void 0,be=[$e]),j.rejectWith(ce,be))}};L?Me():(i.Deferred.getErrorHook?Me.error=i.Deferred.getErrorHook():i.Deferred.getStackHook&&(Me.error=i.Deferred.getStackHook()),n.setTimeout(Me))}}return i.Deferred(function(L){t[0][3].add(I(0,L,_(E)?E:Oe,L.notifyWith)),t[1][3].add(I(0,L,_(b)?b:Oe)),t[2][3].add(I(0,L,_(k)?k:G))}).promise()},promise:function(b){return b!=null?i.extend(b,u):u}},v={};return i.each(t,function(b,k){var E=k[2],S=k[5];u[k[1]]=E.add,S&&E.add(function(){o=S},t[3-b][2].disable,t[3-b][3].disable,t[0][2].lock,t[0][3].lock),E.add(k[3].fire),v[k[0]]=function(){return v[k[0]+"With"](this===v?void 0:this,arguments),this},v[k[0]+"With"]=E.fireWith}),u.promise(v),e&&e.call(v,v),v},when:function(e){var t=arguments.length,o=t,u=Array(o),v=s.call(arguments),b=i.Deferred(),k=function(E){return function(S){u[E]=this,v[E]=arguments.length>1?s.call(arguments):S,--t||b.resolveWith(u,v)}};if(t<=1&&(we(e,b.done(k(o)).resolve,b.reject,!t),b.state()==="pending"||_(v[o]&&v[o].then)))return b.then();for(;o--;)we(v[o],k(o),b.reject);return b.promise()}});var fe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&fe.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},i.readyException=function(e){n.setTimeout(function(){throw e})};var le=i.Deferred();i.fn.ready=function(e){return le.then(e).catch(function(t){i.readyException(t)}),this},i.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--i.readyWait:i.isReady)||(i.isReady=!0,!(e!==!0&&--i.readyWait>0)&&le.resolveWith(x,[i]))}}),i.ready.then=le.then;function Re(){x.removeEventListener("DOMContentLoaded",Re),n.removeEventListener("load",Re),i.ready()}x.readyState==="complete"||x.readyState!=="loading"&&!x.documentElement.doScroll?n.setTimeout(i.ready):(x.addEventListener("DOMContentLoaded",Re),n.addEventListener("load",Re));var Je=function(e,t,o,u,v,b,k){var E=0,S=e.length,I=o==null;if(q(o)==="object"){v=!0;for(E in o)Je(e,t,E,o[E],!0,b,k)}else if(u!==void 0&&(v=!0,_(u)||(k=!0),I&&(k?(t.call(e,u),t=null):(I=t,t=function(L,j,M){return I.call(i(L),M)})),t))for(;E<S;E++)t(e[E],o,k?u:u.call(e[E],E,t(e[E],o)));return v?e:I?t.call(e):S?t(e[0],o):b},en=/^-ms-/,Ir=/-([a-z])/g;function ru(e,t){return t.toUpperCase()}function st(e){return e.replace(en,"ms-").replace(Ir,ru)}var mn=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function yn(){this.expando=i.expando+yn.uid++}yn.uid=1,yn.prototype={cache:function(e){var t=e[this.expando];return t||(t={},mn(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,o){var u,v=this.cache(e);if(typeof t=="string")v[st(t)]=o;else for(u in t)v[st(u)]=t[u];return v},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][st(t)]},access:function(e,t,o){return t===void 0||t&&typeof t=="string"&&o===void 0?this.get(e,t):(this.set(e,t,o),o!==void 0?o:t)},remove:function(e,t){var o,u=e[this.expando];if(u!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(st):(t=st(t),t=t in u?[t]:t.match(ge)||[]),o=t.length;o--;)delete u[t[o]];(t===void 0||i.isEmptyObject(u))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!i.isEmptyObject(t)}};var ne=new yn,je=new yn,iu=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,su=/[A-Z]/g;function ou(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:iu.test(e)?JSON.parse(e):e}function bs(e,t,o){var u;if(o===void 0&&e.nodeType===1)if(u="data-"+t.replace(su,"-$&").toLowerCase(),o=e.getAttribute(u),typeof o=="string"){try{o=ou(o)}catch{}je.set(e,t,o)}else o=void 0;return o}i.extend({hasData:function(e){return je.hasData(e)||ne.hasData(e)},data:function(e,t,o){return je.access(e,t,o)},removeData:function(e,t){je.remove(e,t)},_data:function(e,t,o){return ne.access(e,t,o)},_removeData:function(e,t){ne.remove(e,t)}}),i.fn.extend({data:function(e,t){var o,u,v,b=this[0],k=b&&b.attributes;if(e===void 0){if(this.length&&(v=je.get(b),b.nodeType===1&&!ne.get(b,"hasDataAttrs"))){for(o=k.length;o--;)k[o]&&(u=k[o].name,u.indexOf("data-")===0&&(u=st(u.slice(5)),bs(b,u,v[u])));ne.set(b,"hasDataAttrs",!0)}return v}return typeof e=="object"?this.each(function(){je.set(this,e)}):Je(this,function(E){var S;if(b&&E===void 0)return S=je.get(b,e),S!==void 0||(S=bs(b,e),S!==void 0)?S:void 0;this.each(function(){je.set(this,e,E)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){je.remove(this,e)})}}),i.extend({queue:function(e,t,o){var u;if(e)return t=(t||"fx")+"queue",u=ne.get(e,t),o&&(!u||Array.isArray(o)?u=ne.access(e,t,i.makeArray(o)):u.push(o)),u||[]},dequeue:function(e,t){t=t||"fx";var o=i.queue(e,t),u=o.length,v=o.shift(),b=i._queueHooks(e,t),k=function(){i.dequeue(e,t)};v==="inprogress"&&(v=o.shift(),u--),v&&(t==="fx"&&o.unshift("inprogress"),delete b.stop,v.call(e,k,b)),!u&&b&&b.empty.fire()},_queueHooks:function(e,t){var o=t+"queueHooks";return ne.get(e,o)||ne.access(e,o,{empty:i.Callbacks("once memory").add(function(){ne.remove(e,[t+"queue",o])})})}}),i.fn.extend({queue:function(e,t){var o=2;return typeof e!="string"&&(t=e,e="fx",o--),arguments.length<o?i.queue(this[0],e):t===void 0?this:this.each(function(){var u=i.queue(this,e,t);i._queueHooks(this,e),e==="fx"&&u[0]!=="inprogress"&&i.dequeue(this,e)})},dequeue:function(e){return this.each(function(){i.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,u=1,v=i.Deferred(),b=this,k=this.length,E=function(){--u||v.resolveWith(b,[b])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";k--;)o=ne.get(b[k],e+"queueHooks"),o&&o.empty&&(u++,o.empty.add(E));return E(),v.promise(t)}});var ws=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vn=new RegExp("^(?:([+-])=|)("+ws+")([a-z%]*)$","i"),ht=["Top","Right","Bottom","Left"],Rt=x.documentElement,tn=function(e){return i.contains(e.ownerDocument,e)},au={composed:!0};Rt.getRootNode&&(tn=function(e){return i.contains(e.ownerDocument,e)||e.getRootNode(au)===e.ownerDocument});var Zn=function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&tn(e)&&i.css(e,"display")==="none"};function Cs(e,t,o,u){var v,b,k=20,E=u?function(){return u.cur()}:function(){return i.css(e,t,"")},S=E(),I=o&&o[3]||(i.cssNumber[t]?"":"px"),L=e.nodeType&&(i.cssNumber[t]||I!=="px"&&+S)&&vn.exec(i.css(e,t));if(L&&L[3]!==I){for(S=S/2,I=I||L[3],L=+S||1;k--;)i.style(e,t,L+I),(1-b)*(1-(b=E()/S||.5))<=0&&(k=0),L=L/b;L=L*2,i.style(e,t,L+I),o=o||[]}return o&&(L=+L||+S||0,v=o[1]?L+(o[1]+1)*o[2]:+o[2],u&&(u.unit=I,u.start=L,u.end=v)),v}var ks={};function cu(e){var t,o=e.ownerDocument,u=e.nodeName,v=ks[u];return v||(t=o.body.appendChild(o.createElement(u)),v=i.css(t,"display"),t.parentNode.removeChild(t),v==="none"&&(v="block"),ks[u]=v,v)}function nn(e,t){for(var o,u,v=[],b=0,k=e.length;b<k;b++)u=e[b],u.style&&(o=u.style.display,t?(o==="none"&&(v[b]=ne.get(u,"display")||null,v[b]||(u.style.display="")),u.style.display===""&&Zn(u)&&(v[b]=cu(u))):o!=="none"&&(v[b]="none",ne.set(u,"display",o)));for(b=0;b<k;b++)v[b]!=null&&(e[b].style.display=v[b]);return e}i.fn.extend({show:function(){return nn(this,!0)},hide:function(){return nn(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){Zn(this)?i(this).show():i(this).hide()})}});var bn=/^(?:checkbox|radio)$/i,_s=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ts=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=x.createDocumentFragment(),t=e.appendChild(x.createElement("div")),o=x.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),t.appendChild(o),w.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",w.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",w.option=!!t.lastChild})();var Ke={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td,w.option||(Ke.optgroup=Ke.option=[1,"<select multiple='multiple'>","</select>"]);function He(e,t){var o;return typeof e.getElementsByTagName<"u"?o=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?o=e.querySelectorAll(t||"*"):o=[],t===void 0||t&&z(e,t)?i.merge([e],o):o}function Nr(e,t){for(var o=0,u=e.length;o<u;o++)ne.set(e[o],"globalEval",!t||ne.get(t[o],"globalEval"))}var uu=/<|&#?\w+;/;function xs(e,t,o,u,v){for(var b,k,E,S,I,L,j=t.createDocumentFragment(),M=[],V=0,ce=e.length;V<ce;V++)if(b=e[V],b||b===0)if(q(b)==="object")i.merge(M,b.nodeType?[b]:b);else if(!uu.test(b))M.push(t.createTextNode(b));else{for(k=k||j.appendChild(t.createElement("div")),E=(_s.exec(b)||["",""])[1].toLowerCase(),S=Ke[E]||Ke._default,k.innerHTML=S[1]+i.htmlPrefilter(b)+S[2],L=S[0];L--;)k=k.lastChild;i.merge(M,k.childNodes),k=j.firstChild,k.textContent=""}for(j.textContent="",V=0;b=M[V++];){if(u&&i.inArray(b,u)>-1){v&&v.push(b);continue}if(I=tn(b),k=He(j.appendChild(b),"script"),I&&Nr(k),o)for(L=0;b=k[L++];)Ts.test(b.type||"")&&o.push(b)}return j}var Ss=/^([^.]*)(?:\.(.+)|)/;function rn(){return!0}function sn(){return!1}function Rr(e,t,o,u,v,b){var k,E;if(typeof t=="object"){typeof o!="string"&&(u=u||o,o=void 0);for(E in t)Rr(e,E,o,u,t[E],b);return e}if(u==null&&v==null?(v=o,u=o=void 0):v==null&&(typeof o=="string"?(v=u,u=void 0):(v=u,u=o,o=void 0)),v===!1)v=sn;else if(!v)return e;return b===1&&(k=v,v=function(S){return i().off(S),k.apply(this,arguments)},v.guid=k.guid||(k.guid=i.guid++)),e.each(function(){i.event.add(this,t,v,u,o)})}i.event={global:{},add:function(e,t,o,u,v){var b,k,E,S,I,L,j,M,V,ce,be,de=ne.get(e);if(mn(e))for(o.handler&&(b=o,o=b.handler,v=b.selector),v&&i.find.matchesSelector(Rt,v),o.guid||(o.guid=i.guid++),(S=de.events)||(S=de.events=Object.create(null)),(k=de.handle)||(k=de.handle=function(Me){return typeof i<"u"&&i.event.triggered!==Me.type?i.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(ge)||[""],I=t.length;I--;)E=Ss.exec(t[I])||[],V=be=E[1],ce=(E[2]||"").split(".").sort(),V&&(j=i.event.special[V]||{},V=(v?j.delegateType:j.bindType)||V,j=i.event.special[V]||{},L=i.extend({type:V,origType:be,data:u,handler:o,guid:o.guid,selector:v,needsContext:v&&i.expr.match.needsContext.test(v),namespace:ce.join(".")},b),(M=S[V])||(M=S[V]=[],M.delegateCount=0,(!j.setup||j.setup.call(e,u,ce,k)===!1)&&e.addEventListener&&e.addEventListener(V,k)),j.add&&(j.add.call(e,L),L.handler.guid||(L.handler.guid=o.guid)),v?M.splice(M.delegateCount++,0,L):M.push(L),i.event.global[V]=!0)},remove:function(e,t,o,u,v){var b,k,E,S,I,L,j,M,V,ce,be,de=ne.hasData(e)&&ne.get(e);if(!(!de||!(S=de.events))){for(t=(t||"").match(ge)||[""],I=t.length;I--;){if(E=Ss.exec(t[I])||[],V=be=E[1],ce=(E[2]||"").split(".").sort(),!V){for(V in S)i.event.remove(e,V+t[I],o,u,!0);continue}for(j=i.event.special[V]||{},V=(u?j.delegateType:j.bindType)||V,M=S[V]||[],E=E[2]&&new RegExp("(^|\\.)"+ce.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=b=M.length;b--;)L=M[b],(v||be===L.origType)&&(!o||o.guid===L.guid)&&(!E||E.test(L.namespace))&&(!u||u===L.selector||u==="**"&&L.selector)&&(M.splice(b,1),L.selector&&M.delegateCount--,j.remove&&j.remove.call(e,L));k&&!M.length&&((!j.teardown||j.teardown.call(e,ce,de.handle)===!1)&&i.removeEvent(e,V,de.handle),delete S[V])}i.isEmptyObject(S)&&ne.remove(e,"handle events")}},dispatch:function(e){var t,o,u,v,b,k,E=new Array(arguments.length),S=i.event.fix(e),I=(ne.get(this,"events")||Object.create(null))[S.type]||[],L=i.event.special[S.type]||{};for(E[0]=S,t=1;t<arguments.length;t++)E[t]=arguments[t];if(S.delegateTarget=this,!(L.preDispatch&&L.preDispatch.call(this,S)===!1)){for(k=i.event.handlers.call(this,S,I),t=0;(v=k[t++])&&!S.isPropagationStopped();)for(S.currentTarget=v.elem,o=0;(b=v.handlers[o++])&&!S.isImmediatePropagationStopped();)(!S.rnamespace||b.namespace===!1||S.rnamespace.test(b.namespace))&&(S.handleObj=b,S.data=b.data,u=((i.event.special[b.origType]||{}).handle||b.handler).apply(v.elem,E),u!==void 0&&(S.result=u)===!1&&(S.preventDefault(),S.stopPropagation()));return L.postDispatch&&L.postDispatch.call(this,S),S.result}},handlers:function(e,t){var o,u,v,b,k,E=[],S=t.delegateCount,I=e.target;if(S&&I.nodeType&&!(e.type==="click"&&e.button>=1)){for(;I!==this;I=I.parentNode||this)if(I.nodeType===1&&!(e.type==="click"&&I.disabled===!0)){for(b=[],k={},o=0;o<S;o++)u=t[o],v=u.selector+" ",k[v]===void 0&&(k[v]=u.needsContext?i(v,this).index(I)>-1:i.find(v,this,null,[I]).length),k[v]&&b.push(u);b.length&&E.push({elem:I,handlers:b})}}return I=this,S<t.length&&E.push({elem:I,handlers:t.slice(S)}),E},addProp:function(e,t){Object.defineProperty(i.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(o){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:o})}})},fix:function(e){return e[i.expando]?e:new i.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return bn.test(t.type)&&t.click&&z(t,"input")&&er(t,"click",!0),!1},trigger:function(e){var t=this||e;return bn.test(t.type)&&t.click&&z(t,"input")&&er(t,"click"),!0},_default:function(e){var t=e.target;return bn.test(t.type)&&t.click&&z(t,"input")&&ne.get(t,"click")||z(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function er(e,t,o){if(!o){ne.get(e,t)===void 0&&i.event.add(e,t,rn);return}ne.set(e,t,!1),i.event.add(e,t,{namespace:!1,handler:function(u){var v,b=ne.get(this,t);if(u.isTrigger&1&&this[t]){if(b)(i.event.special[t]||{}).delegateType&&u.stopPropagation();else if(b=s.call(arguments),ne.set(this,t,b),this[t](),v=ne.get(this,t),ne.set(this,t,!1),b!==v)return u.stopImmediatePropagation(),u.preventDefault(),v}else b&&(ne.set(this,t,i.event.trigger(b[0],b.slice(1),this)),u.stopPropagation(),u.isImmediatePropagationStopped=rn)}})}i.removeEvent=function(e,t,o){e.removeEventListener&&e.removeEventListener(t,o)},i.Event=function(e,t){if(!(this instanceof i.Event))return new i.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?rn:sn,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&i.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[i.expando]=!0},i.Event.prototype={constructor:i.Event,isDefaultPrevented:sn,isPropagationStopped:sn,isImmediatePropagationStopped:sn,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=rn,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=rn,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=rn,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},i.event.addProp),i.each({focus:"focusin",blur:"focusout"},function(e,t){function o(u){if(x.documentMode){var v=ne.get(this,"handle"),b=i.event.fix(u);b.type=u.type==="focusin"?"focus":"blur",b.isSimulated=!0,v(u),b.target===b.currentTarget&&v(b)}else i.event.simulate(t,u.target,i.event.fix(u))}i.event.special[e]={setup:function(){var u;if(er(this,e,!0),x.documentMode)u=ne.get(this,t),u||this.addEventListener(t,o),ne.set(this,t,(u||0)+1);else return!1},trigger:function(){return er(this,e),!0},teardown:function(){var u;if(x.documentMode)u=ne.get(this,t)-1,u?ne.set(this,t,u):(this.removeEventListener(t,o),ne.remove(this,t));else return!1},_default:function(u){return ne.get(u.target,e)},delegateType:t},i.event.special[t]={setup:function(){var u=this.ownerDocument||this.document||this,v=x.documentMode?this:u,b=ne.get(v,t);b||(x.documentMode?this.addEventListener(t,o):u.addEventListener(e,o,!0)),ne.set(v,t,(b||0)+1)},teardown:function(){var u=this.ownerDocument||this.document||this,v=x.documentMode?this:u,b=ne.get(v,t)-1;b?ne.set(v,t,b):(x.documentMode?this.removeEventListener(t,o):u.removeEventListener(e,o,!0),ne.remove(v,t))}}}),i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){i.event.special[e]={delegateType:t,bindType:t,handle:function(o){var u,v=this,b=o.relatedTarget,k=o.handleObj;return(!b||b!==v&&!i.contains(v,b))&&(o.type=k.origType,u=k.handler.apply(this,arguments),o.type=t),u}}}),i.fn.extend({on:function(e,t,o,u){return Rr(this,e,t,o,u)},one:function(e,t,o,u){return Rr(this,e,t,o,u,1)},off:function(e,t,o){var u,v;if(e&&e.preventDefault&&e.handleObj)return u=e.handleObj,i(e.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof e=="object"){for(v in e)this.off(v,t,e[v]);return this}return(t===!1||typeof t=="function")&&(o=t,t=void 0),o===!1&&(o=sn),this.each(function(){i.event.remove(this,e,o,t)})}});var lu=/<script|<style|<link/i,fu=/checked\s*(?:[^=]|=\s*.checked.)/i,du=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Es(e,t){return z(e,"table")&&z(t.nodeType!==11?t:t.firstChild,"tr")&&i(e).children("tbody")[0]||e}function hu(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function pu(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function As(e,t){var o,u,v,b,k,E,S;if(t.nodeType===1){if(ne.hasData(e)&&(b=ne.get(e),S=b.events,S)){ne.remove(t,"handle events");for(v in S)for(o=0,u=S[v].length;o<u;o++)i.event.add(t,v,S[v][o])}je.hasData(e)&&(k=je.access(e),E=i.extend({},k),je.set(t,E))}}function gu(e,t){var o=t.nodeName.toLowerCase();o==="input"&&bn.test(e.type)?t.checked=e.checked:(o==="input"||o==="textarea")&&(t.defaultValue=e.defaultValue)}function on(e,t,o,u){t=p(t);var v,b,k,E,S,I,L=0,j=e.length,M=j-1,V=t[0],ce=_(V);if(ce||j>1&&typeof V=="string"&&!w.checkClone&&fu.test(V))return e.each(function(be){var de=e.eq(be);ce&&(t[0]=V.call(this,be,de.html())),on(de,t,o,u)});if(j&&(v=xs(t,e[0].ownerDocument,!1,e,u),b=v.firstChild,v.childNodes.length===1&&(v=b),b||u)){for(k=i.map(He(v,"script"),hu),E=k.length;L<j;L++)S=v,L!==M&&(S=i.clone(S,!0,!0),E&&i.merge(k,He(S,"script"))),o.call(e[L],S,L);if(E)for(I=k[k.length-1].ownerDocument,i.map(k,pu),L=0;L<E;L++)S=k[L],Ts.test(S.type||"")&&!ne.access(S,"globalEval")&&i.contains(I,S)&&(S.src&&(S.type||"").toLowerCase()!=="module"?i._evalUrl&&!S.noModule&&i._evalUrl(S.src,{nonce:S.nonce||S.getAttribute("nonce")},I):B(S.textContent.replace(du,""),S,I))}return e}function Os(e,t,o){for(var u,v=t?i.filter(t,e):e,b=0;(u=v[b])!=null;b++)!o&&u.nodeType===1&&i.cleanData(He(u)),u.parentNode&&(o&&tn(u)&&Nr(He(u,"script")),u.parentNode.removeChild(u));return e}i.extend({htmlPrefilter:function(e){return e},clone:function(e,t,o){var u,v,b,k,E=e.cloneNode(!0),S=tn(e);if(!w.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!i.isXMLDoc(e))for(k=He(E),b=He(e),u=0,v=b.length;u<v;u++)gu(b[u],k[u]);if(t)if(o)for(b=b||He(e),k=k||He(E),u=0,v=b.length;u<v;u++)As(b[u],k[u]);else As(e,E);return k=He(E,"script"),k.length>0&&Nr(k,!S&&He(e,"script")),E},cleanData:function(e){for(var t,o,u,v=i.event.special,b=0;(o=e[b])!==void 0;b++)if(mn(o)){if(t=o[ne.expando]){if(t.events)for(u in t.events)v[u]?i.event.remove(o,u):i.removeEvent(o,u,t.handle);o[ne.expando]=void 0}o[je.expando]&&(o[je.expando]=void 0)}}}),i.fn.extend({detach:function(e){return Os(this,e,!0)},remove:function(e){return Os(this,e)},text:function(e){return Je(this,function(t){return t===void 0?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return on(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Es(this,e);t.appendChild(e)}})},prepend:function(){return on(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Es(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return on(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return on(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(i.cleanData(He(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return i.clone(this,e,t)})},html:function(e){return Je(this,function(t){var o=this[0]||{},u=0,v=this.length;if(t===void 0&&o.nodeType===1)return o.innerHTML;if(typeof t=="string"&&!lu.test(t)&&!Ke[(_s.exec(t)||["",""])[1].toLowerCase()]){t=i.htmlPrefilter(t);try{for(;u<v;u++)o=this[u]||{},o.nodeType===1&&(i.cleanData(He(o,!1)),o.innerHTML=t);o=0}catch{}}o&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return on(this,arguments,function(t){var o=this.parentNode;i.inArray(this,e)<0&&(i.cleanData(He(this)),o&&o.replaceChild(t,this))},e)}}),i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){i.fn[e]=function(o){for(var u,v=[],b=i(o),k=b.length-1,E=0;E<=k;E++)u=E===k?this:this.clone(!0),i(b[E])[t](u),y.apply(v,u.get());return this.pushStack(v)}});var Mr=new RegExp("^("+ws+")(?!px)[a-z%]+$","i"),Dr=/^--/,tr=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=n),t.getComputedStyle(e)},$s=function(e,t,o){var u,v,b={};for(v in t)b[v]=e.style[v],e.style[v]=t[v];u=o.call(e);for(v in t)e.style[v]=b[v];return u},mu=new RegExp(ht.join("|"),"i");(function(){function e(){if(I){S.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",I.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Rt.appendChild(S).appendChild(I);var L=n.getComputedStyle(I);o=L.top!=="1%",E=t(L.marginLeft)===12,I.style.right="60%",b=t(L.right)===36,u=t(L.width)===36,I.style.position="absolute",v=t(I.offsetWidth/3)===12,Rt.removeChild(S),I=null}}function t(L){return Math.round(parseFloat(L))}var o,u,v,b,k,E,S=x.createElement("div"),I=x.createElement("div");I.style&&(I.style.backgroundClip="content-box",I.cloneNode(!0).style.backgroundClip="",w.clearCloneStyle=I.style.backgroundClip==="content-box",i.extend(w,{boxSizingReliable:function(){return e(),u},pixelBoxStyles:function(){return e(),b},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),E},scrollboxSize:function(){return e(),v},reliableTrDimensions:function(){var L,j,M,V;return k==null&&(L=x.createElement("table"),j=x.createElement("tr"),M=x.createElement("div"),L.style.cssText="position:absolute;left:-11111px;border-collapse:separate",j.style.cssText="border:1px solid",j.style.height="1px",M.style.height="9px",M.style.display="block",Rt.appendChild(L).appendChild(j).appendChild(M),V=n.getComputedStyle(j),k=parseInt(V.height,10)+parseInt(V.borderTopWidth,10)+parseInt(V.borderBottomWidth,10)===j.offsetHeight,Rt.removeChild(L)),k}}))})();function wn(e,t,o){var u,v,b,k,E=Dr.test(t),S=e.style;return o=o||tr(e),o&&(k=o.getPropertyValue(t)||o[t],E&&k&&(k=k.replace(se,"$1")||void 0),k===""&&!tn(e)&&(k=i.style(e,t)),!w.pixelBoxStyles()&&Mr.test(k)&&mu.test(t)&&(u=S.width,v=S.minWidth,b=S.maxWidth,S.minWidth=S.maxWidth=S.width=k,k=o.width,S.width=u,S.minWidth=v,S.maxWidth=b)),k!==void 0?k+"":k}function Ps(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var Is=["Webkit","Moz","ms"],Ns=x.createElement("div").style,Rs={};function yu(e){for(var t=e[0].toUpperCase()+e.slice(1),o=Is.length;o--;)if(e=Is[o]+t,e in Ns)return e}function Lr(e){var t=i.cssProps[e]||Rs[e];return t||(e in Ns?e:Rs[e]=yu(e)||e)}var vu=/^(none|table(?!-c[ea]).+)/,bu={position:"absolute",visibility:"hidden",display:"block"},Ms={letterSpacing:"0",fontWeight:"400"};function Ds(e,t,o){var u=vn.exec(t);return u?Math.max(0,u[2]-(o||0))+(u[3]||"px"):t}function qr(e,t,o,u,v,b){var k=t==="width"?1:0,E=0,S=0,I=0;if(o===(u?"border":"content"))return 0;for(;k<4;k+=2)o==="margin"&&(I+=i.css(e,o+ht[k],!0,v)),u?(o==="content"&&(S-=i.css(e,"padding"+ht[k],!0,v)),o!=="margin"&&(S-=i.css(e,"border"+ht[k]+"Width",!0,v))):(S+=i.css(e,"padding"+ht[k],!0,v),o!=="padding"?S+=i.css(e,"border"+ht[k]+"Width",!0,v):E+=i.css(e,"border"+ht[k]+"Width",!0,v));return!u&&b>=0&&(S+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-b-S-E-.5))||0),S+I}function Ls(e,t,o){var u=tr(e),v=!w.boxSizingReliable()||o,b=v&&i.css(e,"boxSizing",!1,u)==="border-box",k=b,E=wn(e,t,u),S="offset"+t[0].toUpperCase()+t.slice(1);if(Mr.test(E)){if(!o)return E;E="auto"}return(!w.boxSizingReliable()&&b||!w.reliableTrDimensions()&&z(e,"tr")||E==="auto"||!parseFloat(E)&&i.css(e,"display",!1,u)==="inline")&&e.getClientRects().length&&(b=i.css(e,"boxSizing",!1,u)==="border-box",k=S in e,k&&(E=e[S])),E=parseFloat(E)||0,E+qr(e,t,o||(b?"border":"content"),k,u,E)+"px"}i.extend({cssHooks:{opacity:{get:function(e,t){if(t){var o=wn(e,"opacity");return o===""?"1":o}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,o,u){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var v,b,k,E=st(t),S=Dr.test(t),I=e.style;if(S||(t=Lr(E)),k=i.cssHooks[t]||i.cssHooks[E],o!==void 0){if(b=typeof o,b==="string"&&(v=vn.exec(o))&&v[1]&&(o=Cs(e,t,v),b="number"),o==null||o!==o)return;b==="number"&&!S&&(o+=v&&v[3]||(i.cssNumber[E]?"":"px")),!w.clearCloneStyle&&o===""&&t.indexOf("background")===0&&(I[t]="inherit"),(!k||!("set"in k)||(o=k.set(e,o,u))!==void 0)&&(S?I.setProperty(t,o):I[t]=o)}else return k&&"get"in k&&(v=k.get(e,!1,u))!==void 0?v:I[t]}},css:function(e,t,o,u){var v,b,k,E=st(t),S=Dr.test(t);return S||(t=Lr(E)),k=i.cssHooks[t]||i.cssHooks[E],k&&"get"in k&&(v=k.get(e,!0,o)),v===void 0&&(v=wn(e,t,u)),v==="normal"&&t in Ms&&(v=Ms[t]),o===""||o?(b=parseFloat(v),o===!0||isFinite(b)?b||0:v):v}}),i.each(["height","width"],function(e,t){i.cssHooks[t]={get:function(o,u,v){if(u)return vu.test(i.css(o,"display"))&&(!o.getClientRects().length||!o.getBoundingClientRect().width)?$s(o,bu,function(){return Ls(o,t,v)}):Ls(o,t,v)},set:function(o,u,v){var b,k=tr(o),E=!w.scrollboxSize()&&k.position==="absolute",S=E||v,I=S&&i.css(o,"boxSizing",!1,k)==="border-box",L=v?qr(o,t,v,I,k):0;return I&&E&&(L-=Math.ceil(o["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(k[t])-qr(o,t,"border",!1,k)-.5)),L&&(b=vn.exec(u))&&(b[3]||"px")!=="px"&&(o.style[t]=u,u=i.css(o,t)),Ds(o,u,L)}}}),i.cssHooks.marginLeft=Ps(w.reliableMarginLeft,function(e,t){if(t)return(parseFloat(wn(e,"marginLeft"))||e.getBoundingClientRect().left-$s(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),i.each({margin:"",padding:"",border:"Width"},function(e,t){i.cssHooks[e+t]={expand:function(o){for(var u=0,v={},b=typeof o=="string"?o.split(" "):[o];u<4;u++)v[e+ht[u]+t]=b[u]||b[u-2]||b[0];return v}},e!=="margin"&&(i.cssHooks[e+t].set=Ds)}),i.fn.extend({css:function(e,t){return Je(this,function(o,u,v){var b,k,E={},S=0;if(Array.isArray(u)){for(b=tr(o),k=u.length;S<k;S++)E[u[S]]=i.css(o,u[S],!1,b);return E}return v!==void 0?i.style(o,u,v):i.css(o,u)},e,t,arguments.length>1)}});function Ve(e,t,o,u,v){return new Ve.prototype.init(e,t,o,u,v)}i.Tween=Ve,Ve.prototype={constructor:Ve,init:function(e,t,o,u,v,b){this.elem=e,this.prop=o,this.easing=v||i.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=u,this.unit=b||(i.cssNumber[o]?"":"px")},cur:function(){var e=Ve.propHooks[this.prop];return e&&e.get?e.get(this):Ve.propHooks._default.get(this)},run:function(e){var t,o=Ve.propHooks[this.prop];return this.options.duration?this.pos=t=i.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):Ve.propHooks._default.set(this),this}},Ve.prototype.init.prototype=Ve.prototype,Ve.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=i.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){i.fx.step[e.prop]?i.fx.step[e.prop](e):e.elem.nodeType===1&&(i.cssHooks[e.prop]||e.elem.style[Lr(e.prop)]!=null)?i.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ve.propHooks.scrollTop=Ve.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},i.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},i.fx=Ve.prototype.init,i.fx.step={};var an,nr,wu=/^(?:toggle|show|hide)$/,Cu=/queueHooks$/;function Fr(){nr&&(x.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(Fr):n.setTimeout(Fr,i.fx.interval),i.fx.tick())}function qs(){return n.setTimeout(function(){an=void 0}),an=Date.now()}function rr(e,t){var o,u=0,v={height:e};for(t=t?1:0;u<4;u+=2-t)o=ht[u],v["margin"+o]=v["padding"+o]=e;return t&&(v.opacity=v.width=e),v}function Fs(e,t,o){for(var u,v=(tt.tweeners[t]||[]).concat(tt.tweeners["*"]),b=0,k=v.length;b<k;b++)if(u=v[b].call(o,t,e))return u}function ku(e,t,o){var u,v,b,k,E,S,I,L,j="width"in t||"height"in t,M=this,V={},ce=e.style,be=e.nodeType&&Zn(e),de=ne.get(e,"fxshow");o.queue||(k=i._queueHooks(e,"fx"),k.unqueued==null&&(k.unqueued=0,E=k.empty.fire,k.empty.fire=function(){k.unqueued||E()}),k.unqueued++,M.always(function(){M.always(function(){k.unqueued--,i.queue(e,"fx").length||k.empty.fire()})}));for(u in t)if(v=t[u],wu.test(v)){if(delete t[u],b=b||v==="toggle",v===(be?"hide":"show"))if(v==="show"&&de&&de[u]!==void 0)be=!0;else continue;V[u]=de&&de[u]||i.style(e,u)}if(S=!i.isEmptyObject(t),!(!S&&i.isEmptyObject(V))){j&&e.nodeType===1&&(o.overflow=[ce.overflow,ce.overflowX,ce.overflowY],I=de&&de.display,I==null&&(I=ne.get(e,"display")),L=i.css(e,"display"),L==="none"&&(I?L=I:(nn([e],!0),I=e.style.display||I,L=i.css(e,"display"),nn([e]))),(L==="inline"||L==="inline-block"&&I!=null)&&i.css(e,"float")==="none"&&(S||(M.done(function(){ce.display=I}),I==null&&(L=ce.display,I=L==="none"?"":L)),ce.display="inline-block")),o.overflow&&(ce.overflow="hidden",M.always(function(){ce.overflow=o.overflow[0],ce.overflowX=o.overflow[1],ce.overflowY=o.overflow[2]})),S=!1;for(u in V)S||(de?"hidden"in de&&(be=de.hidden):de=ne.access(e,"fxshow",{display:I}),b&&(de.hidden=!be),be&&nn([e],!0),M.done(function(){be||nn([e]),ne.remove(e,"fxshow");for(u in V)i.style(e,u,V[u])})),S=Fs(be?de[u]:0,u,M),u in de||(de[u]=S.start,be&&(S.end=S.start,S.start=0))}}function _u(e,t){var o,u,v,b,k;for(o in e)if(u=st(o),v=t[u],b=e[o],Array.isArray(b)&&(v=b[1],b=e[o]=b[0]),o!==u&&(e[u]=b,delete e[o]),k=i.cssHooks[u],k&&"expand"in k){b=k.expand(b),delete e[u];for(o in b)o in e||(e[o]=b[o],t[o]=v)}else t[u]=v}function tt(e,t,o){var u,v,b=0,k=tt.prefilters.length,E=i.Deferred().always(function(){delete S.elem}),S=function(){if(v)return!1;for(var j=an||qs(),M=Math.max(0,I.startTime+I.duration-j),V=M/I.duration||0,ce=1-V,be=0,de=I.tweens.length;be<de;be++)I.tweens[be].run(ce);return E.notifyWith(e,[I,ce,M]),ce<1&&de?M:(de||E.notifyWith(e,[I,1,0]),E.resolveWith(e,[I]),!1)},I=E.promise({elem:e,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},o),originalProperties:t,originalOptions:o,startTime:an||qs(),duration:o.duration,tweens:[],createTween:function(j,M){var V=i.Tween(e,I.opts,j,M,I.opts.specialEasing[j]||I.opts.easing);return I.tweens.push(V),V},stop:function(j){var M=0,V=j?I.tweens.length:0;if(v)return this;for(v=!0;M<V;M++)I.tweens[M].run(1);return j?(E.notifyWith(e,[I,1,0]),E.resolveWith(e,[I,j])):E.rejectWith(e,[I,j]),this}}),L=I.props;for(_u(L,I.opts.specialEasing);b<k;b++)if(u=tt.prefilters[b].call(I,e,L,I.opts),u)return _(u.stop)&&(i._queueHooks(I.elem,I.opts.queue).stop=u.stop.bind(u)),u;return i.map(L,Fs,I),_(I.opts.start)&&I.opts.start.call(e,I),I.progress(I.opts.progress).done(I.opts.done,I.opts.complete).fail(I.opts.fail).always(I.opts.always),i.fx.timer(i.extend(S,{elem:e,anim:I,queue:I.opts.queue})),I}i.Animation=i.extend(tt,{tweeners:{"*":[function(e,t){var o=this.createTween(e,t);return Cs(o.elem,e,vn.exec(t),o),o}]},tweener:function(e,t){_(e)?(t=e,e=["*"]):e=e.match(ge);for(var o,u=0,v=e.length;u<v;u++)o=e[u],tt.tweeners[o]=tt.tweeners[o]||[],tt.tweeners[o].unshift(t)},prefilters:[ku],prefilter:function(e,t){t?tt.prefilters.unshift(e):tt.prefilters.push(e)}}),i.speed=function(e,t,o){var u=e&&typeof e=="object"?i.extend({},e):{complete:o||!o&&t||_(e)&&e,duration:e,easing:o&&t||t&&!_(t)&&t};return i.fx.off?u.duration=0:typeof u.duration!="number"&&(u.duration in i.fx.speeds?u.duration=i.fx.speeds[u.duration]:u.duration=i.fx.speeds._default),(u.queue==null||u.queue===!0)&&(u.queue="fx"),u.old=u.complete,u.complete=function(){_(u.old)&&u.old.call(this),u.queue&&i.dequeue(this,u.queue)},u},i.fn.extend({fadeTo:function(e,t,o,u){return this.filter(Zn).css("opacity",0).show().end().animate({opacity:t},e,o,u)},animate:function(e,t,o,u){var v=i.isEmptyObject(e),b=i.speed(t,o,u),k=function(){var E=tt(this,i.extend({},e),b);(v||ne.get(this,"finish"))&&E.stop(!0)};return k.finish=k,v||b.queue===!1?this.each(k):this.queue(b.queue,k)},stop:function(e,t,o){var u=function(v){var b=v.stop;delete v.stop,b(o)};return typeof e!="string"&&(o=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var v=!0,b=e!=null&&e+"queueHooks",k=i.timers,E=ne.get(this);if(b)E[b]&&E[b].stop&&u(E[b]);else for(b in E)E[b]&&E[b].stop&&Cu.test(b)&&u(E[b]);for(b=k.length;b--;)k[b].elem===this&&(e==null||k[b].queue===e)&&(k[b].anim.stop(o),v=!1,k.splice(b,1));(v||!o)&&i.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,o=ne.get(this),u=o[e+"queue"],v=o[e+"queueHooks"],b=i.timers,k=u?u.length:0;for(o.finish=!0,i.queue(this,e,[]),v&&v.stop&&v.stop.call(this,!0),t=b.length;t--;)b[t].elem===this&&b[t].queue===e&&(b[t].anim.stop(!0),b.splice(t,1));for(t=0;t<k;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete o.finish})}}),i.each(["toggle","show","hide"],function(e,t){var o=i.fn[t];i.fn[t]=function(u,v,b){return u==null||typeof u=="boolean"?o.apply(this,arguments):this.animate(rr(t,!0),u,v,b)}}),i.each({slideDown:rr("show"),slideUp:rr("hide"),slideToggle:rr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){i.fn[e]=function(o,u,v){return this.animate(t,o,u,v)}}),i.timers=[],i.fx.tick=function(){var e,t=0,o=i.timers;for(an=Date.now();t<o.length;t++)e=o[t],!e()&&o[t]===e&&o.splice(t--,1);o.length||i.fx.stop(),an=void 0},i.fx.timer=function(e){i.timers.push(e),i.fx.start()},i.fx.interval=13,i.fx.start=function(){nr||(nr=!0,Fr())},i.fx.stop=function(){nr=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fn.delay=function(e,t){return e=i.fx&&i.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(o,u){var v=n.setTimeout(o,e);u.stop=function(){n.clearTimeout(v)}})},function(){var e=x.createElement("input"),t=x.createElement("select"),o=t.appendChild(x.createElement("option"));e.type="checkbox",w.checkOn=e.value!=="",w.optSelected=o.selected,e=x.createElement("input"),e.value="t",e.type="radio",w.radioValue=e.value==="t"}();var Bs,Cn=i.expr.attrHandle;i.fn.extend({attr:function(e,t){return Je(this,i.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){i.removeAttr(this,e)})}}),i.extend({attr:function(e,t,o){var u,v,b=e.nodeType;if(!(b===3||b===8||b===2)){if(typeof e.getAttribute>"u")return i.prop(e,t,o);if((b!==1||!i.isXMLDoc(e))&&(v=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?Bs:void 0)),o!==void 0){if(o===null){i.removeAttr(e,t);return}return v&&"set"in v&&(u=v.set(e,o,t))!==void 0?u:(e.setAttribute(t,o+""),o)}return v&&"get"in v&&(u=v.get(e,t))!==null?u:(u=i.find.attr(e,t),u??void 0)}},attrHooks:{type:{set:function(e,t){if(!w.radioValue&&t==="radio"&&z(e,"input")){var o=e.value;return e.setAttribute("type",t),o&&(e.value=o),t}}}},removeAttr:function(e,t){var o,u=0,v=t&&t.match(ge);if(v&&e.nodeType===1)for(;o=v[u++];)e.removeAttribute(o)}}),Bs={set:function(e,t,o){return t===!1?i.removeAttr(e,o):e.setAttribute(o,o),o}},i.each(i.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Cn[t]||i.find.attr;Cn[t]=function(u,v,b){var k,E,S=v.toLowerCase();return b||(E=Cn[S],Cn[S]=k,k=o(u,v,b)!=null?S:null,Cn[S]=E),k}});var Tu=/^(?:input|select|textarea|button)$/i,xu=/^(?:a|area)$/i;i.fn.extend({prop:function(e,t){return Je(this,i.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[i.propFix[e]||e]})}}),i.extend({prop:function(e,t,o){var u,v,b=e.nodeType;if(!(b===3||b===8||b===2))return(b!==1||!i.isXMLDoc(e))&&(t=i.propFix[t]||t,v=i.propHooks[t]),o!==void 0?v&&"set"in v&&(u=v.set(e,o,t))!==void 0?u:e[t]=o:v&&"get"in v&&(u=v.get(e,t))!==null?u:e[t]},propHooks:{tabIndex:{get:function(e){var t=i.find.attr(e,"tabindex");return t?parseInt(t,10):Tu.test(e.nodeName)||xu.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),w.optSelected||(i.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});function Mt(e){var t=e.match(ge)||[];return t.join(" ")}function Dt(e){return e.getAttribute&&e.getAttribute("class")||""}function Br(e){return Array.isArray(e)?e:typeof e=="string"?e.match(ge)||[]:[]}i.fn.extend({addClass:function(e){var t,o,u,v,b,k;return _(e)?this.each(function(E){i(this).addClass(e.call(this,E,Dt(this)))}):(t=Br(e),t.length?this.each(function(){if(u=Dt(this),o=this.nodeType===1&&" "+Mt(u)+" ",o){for(b=0;b<t.length;b++)v=t[b],o.indexOf(" "+v+" ")<0&&(o+=v+" ");k=Mt(o),u!==k&&this.setAttribute("class",k)}}):this)},removeClass:function(e){var t,o,u,v,b,k;return _(e)?this.each(function(E){i(this).removeClass(e.call(this,E,Dt(this)))}):arguments.length?(t=Br(e),t.length?this.each(function(){if(u=Dt(this),o=this.nodeType===1&&" "+Mt(u)+" ",o){for(b=0;b<t.length;b++)for(v=t[b];o.indexOf(" "+v+" ")>-1;)o=o.replace(" "+v+" "," ");k=Mt(o),u!==k&&this.setAttribute("class",k)}}):this):this.attr("class","")},toggleClass:function(e,t){var o,u,v,b,k=typeof e,E=k==="string"||Array.isArray(e);return _(e)?this.each(function(S){i(this).toggleClass(e.call(this,S,Dt(this),t),t)}):typeof t=="boolean"&&E?t?this.addClass(e):this.removeClass(e):(o=Br(e),this.each(function(){if(E)for(b=i(this),v=0;v<o.length;v++)u=o[v],b.hasClass(u)?b.removeClass(u):b.addClass(u);else(e===void 0||k==="boolean")&&(u=Dt(this),u&&ne.set(this,"__className__",u),this.setAttribute&&this.setAttribute("class",u||e===!1?"":ne.get(this,"__className__")||""))}))},hasClass:function(e){var t,o,u=0;for(t=" "+e+" ";o=this[u++];)if(o.nodeType===1&&(" "+Mt(Dt(o))+" ").indexOf(t)>-1)return!0;return!1}});var Su=/\r/g;i.fn.extend({val:function(e){var t,o,u,v=this[0];return arguments.length?(u=_(e),this.each(function(b){var k;this.nodeType===1&&(u?k=e.call(this,b,i(this).val()):k=e,k==null?k="":typeof k=="number"?k+="":Array.isArray(k)&&(k=i.map(k,function(E){return E==null?"":E+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,k,"value")===void 0)&&(this.value=k))})):v?(t=i.valHooks[v.type]||i.valHooks[v.nodeName.toLowerCase()],t&&"get"in t&&(o=t.get(v,"value"))!==void 0?o:(o=v.value,typeof o=="string"?o.replace(Su,""):o??"")):void 0}}),i.extend({valHooks:{option:{get:function(e){var t=i.find.attr(e,"value");return t??Mt(i.text(e))}},select:{get:function(e){var t,o,u,v=e.options,b=e.selectedIndex,k=e.type==="select-one",E=k?null:[],S=k?b+1:v.length;for(b<0?u=S:u=k?b:0;u<S;u++)if(o=v[u],(o.selected||u===b)&&!o.disabled&&(!o.parentNode.disabled||!z(o.parentNode,"optgroup"))){if(t=i(o).val(),k)return t;E.push(t)}return E},set:function(e,t){for(var o,u,v=e.options,b=i.makeArray(t),k=v.length;k--;)u=v[k],(u.selected=i.inArray(i.valHooks.option.get(u),b)>-1)&&(o=!0);return o||(e.selectedIndex=-1),b}}}}),i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=i.inArray(i(e).val(),t)>-1}},w.checkOn||(i.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var kn=n.location,Us={guid:Date.now()},Ur=/\?/;i.parseXML=function(e){var t,o;if(!e||typeof e!="string")return null;try{t=new n.DOMParser().parseFromString(e,"text/xml")}catch{}return o=t&&t.getElementsByTagName("parsererror")[0],(!t||o)&&i.error("Invalid XML: "+(o?i.map(o.childNodes,function(u){return u.textContent}).join(`
`):e)),t};var js=/^(?:focusinfocus|focusoutblur)$/,Hs=function(e){e.stopPropagation()};i.extend(i.event,{trigger:function(e,t,o,u){var v,b,k,E,S,I,L,j,M=[o||x],V=g.call(e,"type")?e.type:e,ce=g.call(e,"namespace")?e.namespace.split("."):[];if(b=j=k=o=o||x,!(o.nodeType===3||o.nodeType===8)&&!js.test(V+i.event.triggered)&&(V.indexOf(".")>-1&&(ce=V.split("."),V=ce.shift(),ce.sort()),S=V.indexOf(":")<0&&"on"+V,e=e[i.expando]?e:new i.Event(V,typeof e=="object"&&e),e.isTrigger=u?2:3,e.namespace=ce.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+ce.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),t=t==null?[e]:i.makeArray(t,[e]),L=i.event.special[V]||{},!(!u&&L.trigger&&L.trigger.apply(o,t)===!1))){if(!u&&!L.noBubble&&!A(o)){for(E=L.delegateType||V,js.test(E+V)||(b=b.parentNode);b;b=b.parentNode)M.push(b),k=b;k===(o.ownerDocument||x)&&M.push(k.defaultView||k.parentWindow||n)}for(v=0;(b=M[v++])&&!e.isPropagationStopped();)j=b,e.type=v>1?E:L.bindType||V,I=(ne.get(b,"events")||Object.create(null))[e.type]&&ne.get(b,"handle"),I&&I.apply(b,t),I=S&&b[S],I&&I.apply&&mn(b)&&(e.result=I.apply(b,t),e.result===!1&&e.preventDefault());return e.type=V,!u&&!e.isDefaultPrevented()&&(!L._default||L._default.apply(M.pop(),t)===!1)&&mn(o)&&S&&_(o[V])&&!A(o)&&(k=o[S],k&&(o[S]=null),i.event.triggered=V,e.isPropagationStopped()&&j.addEventListener(V,Hs),o[V](),e.isPropagationStopped()&&j.removeEventListener(V,Hs),i.event.triggered=void 0,k&&(o[S]=k)),e.result}},simulate:function(e,t,o){var u=i.extend(new i.Event,o,{type:e,isSimulated:!0});i.event.trigger(u,null,t)}}),i.fn.extend({trigger:function(e,t){return this.each(function(){i.event.trigger(e,t,this)})},triggerHandler:function(e,t){var o=this[0];if(o)return i.event.trigger(e,t,o,!0)}});var Eu=/\[\]$/,Vs=/\r?\n/g,Au=/^(?:submit|button|image|reset|file)$/i,Ou=/^(?:input|select|textarea|keygen)/i;function jr(e,t,o,u){var v;if(Array.isArray(t))i.each(t,function(b,k){o||Eu.test(e)?u(e,k):jr(e+"["+(typeof k=="object"&&k!=null?b:"")+"]",k,o,u)});else if(!o&&q(t)==="object")for(v in t)jr(e+"["+v+"]",t[v],o,u);else u(e,t)}i.param=function(e,t){var o,u=[],v=function(b,k){var E=_(k)?k():k;u[u.length]=encodeURIComponent(b)+"="+encodeURIComponent(E??"")};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!i.isPlainObject(e))i.each(e,function(){v(this.name,this.value)});else for(o in e)jr(o,e[o],t,v);return u.join("&")},i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=i.prop(this,"elements");return e?i.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!i(this).is(":disabled")&&Ou.test(this.nodeName)&&!Au.test(e)&&(this.checked||!bn.test(e))}).map(function(e,t){var o=i(this).val();return o==null?null:Array.isArray(o)?i.map(o,function(u){return{name:t.name,value:u.replace(Vs,`\r
`)}}):{name:t.name,value:o.replace(Vs,`\r
`)}}).get()}});var $u=/%20/g,Pu=/#.*$/,Iu=/([?&])_=[^&]*/,Nu=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ru=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mu=/^(?:GET|HEAD)$/,Du=/^\/\//,Ws={},Hr={},zs="*/".concat("*"),Vr=x.createElement("a");Vr.href=kn.href;function Gs(e){return function(t,o){typeof t!="string"&&(o=t,t="*");var u,v=0,b=t.toLowerCase().match(ge)||[];if(_(o))for(;u=b[v++];)u[0]==="+"?(u=u.slice(1)||"*",(e[u]=e[u]||[]).unshift(o)):(e[u]=e[u]||[]).push(o)}}function Js(e,t,o,u){var v={},b=e===Hr;function k(E){var S;return v[E]=!0,i.each(e[E]||[],function(I,L){var j=L(t,o,u);if(typeof j=="string"&&!b&&!v[j])return t.dataTypes.unshift(j),k(j),!1;if(b)return!(S=j)}),S}return k(t.dataTypes[0])||!v["*"]&&k("*")}function Wr(e,t){var o,u,v=i.ajaxSettings.flatOptions||{};for(o in t)t[o]!==void 0&&((v[o]?e:u||(u={}))[o]=t[o]);return u&&i.extend(!0,e,u),e}function Lu(e,t,o){for(var u,v,b,k,E=e.contents,S=e.dataTypes;S[0]==="*";)S.shift(),u===void 0&&(u=e.mimeType||t.getResponseHeader("Content-Type"));if(u){for(v in E)if(E[v]&&E[v].test(u)){S.unshift(v);break}}if(S[0]in o)b=S[0];else{for(v in o){if(!S[0]||e.converters[v+" "+S[0]]){b=v;break}k||(k=v)}b=b||k}if(b)return b!==S[0]&&S.unshift(b),o[b]}function qu(e,t,o,u){var v,b,k,E,S,I={},L=e.dataTypes.slice();if(L[1])for(k in e.converters)I[k.toLowerCase()]=e.converters[k];for(b=L.shift();b;)if(e.responseFields[b]&&(o[e.responseFields[b]]=t),!S&&u&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),S=b,b=L.shift(),b){if(b==="*")b=S;else if(S!=="*"&&S!==b){if(k=I[S+" "+b]||I["* "+b],!k){for(v in I)if(E=v.split(" "),E[1]===b&&(k=I[S+" "+E[0]]||I["* "+E[0]],k)){k===!0?k=I[v]:I[v]!==!0&&(b=E[0],L.unshift(E[1]));break}}if(k!==!0)if(k&&e.throws)t=k(t);else try{t=k(t)}catch(j){return{state:"parsererror",error:k?j:"No conversion from "+S+" to "+b}}}}return{state:"success",data:t}}i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kn.href,type:"GET",isLocal:Ru.test(kn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wr(Wr(e,i.ajaxSettings),t):Wr(i.ajaxSettings,e)},ajaxPrefilter:Gs(Ws),ajaxTransport:Gs(Hr),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var o,u,v,b,k,E,S,I,L,j,M=i.ajaxSetup({},t),V=M.context||M,ce=M.context&&(V.nodeType||V.jquery)?i(V):i.event,be=i.Deferred(),de=i.Callbacks("once memory"),Me=M.statusCode||{},$e={},ot={},at="canceled",ve={readyState:0,getResponseHeader:function(Ce){var Ae;if(S){if(!b)for(b={};Ae=Nu.exec(v);)b[Ae[1].toLowerCase()+" "]=(b[Ae[1].toLowerCase()+" "]||[]).concat(Ae[2]);Ae=b[Ce.toLowerCase()+" "]}return Ae==null?null:Ae.join(", ")},getAllResponseHeaders:function(){return S?v:null},setRequestHeader:function(Ce,Ae){return S==null&&(Ce=ot[Ce.toLowerCase()]=ot[Ce.toLowerCase()]||Ce,$e[Ce]=Ae),this},overrideMimeType:function(Ce){return S==null&&(M.mimeType=Ce),this},statusCode:function(Ce){var Ae;if(Ce)if(S)ve.always(Ce[ve.status]);else for(Ae in Ce)Me[Ae]=[Me[Ae],Ce[Ae]];return this},abort:function(Ce){var Ae=Ce||at;return o&&o.abort(Ae),Lt(0,Ae),this}};if(be.promise(ve),M.url=((e||M.url||kn.href)+"").replace(Du,kn.protocol+"//"),M.type=t.method||t.type||M.method||M.type,M.dataTypes=(M.dataType||"*").toLowerCase().match(ge)||[""],M.crossDomain==null){E=x.createElement("a");try{E.href=M.url,E.href=E.href,M.crossDomain=Vr.protocol+"//"+Vr.host!=E.protocol+"//"+E.host}catch{M.crossDomain=!0}}if(M.data&&M.processData&&typeof M.data!="string"&&(M.data=i.param(M.data,M.traditional)),Js(Ws,M,t,ve),S)return ve;I=i.event&&M.global,I&&i.active++===0&&i.event.trigger("ajaxStart"),M.type=M.type.toUpperCase(),M.hasContent=!Mu.test(M.type),u=M.url.replace(Pu,""),M.hasContent?M.data&&M.processData&&(M.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(M.data=M.data.replace($u,"+")):(j=M.url.slice(u.length),M.data&&(M.processData||typeof M.data=="string")&&(u+=(Ur.test(u)?"&":"?")+M.data,delete M.data),M.cache===!1&&(u=u.replace(Iu,"$1"),j=(Ur.test(u)?"&":"?")+"_="+Us.guid+++j),M.url=u+j),M.ifModified&&(i.lastModified[u]&&ve.setRequestHeader("If-Modified-Since",i.lastModified[u]),i.etag[u]&&ve.setRequestHeader("If-None-Match",i.etag[u])),(M.data&&M.hasContent&&M.contentType!==!1||t.contentType)&&ve.setRequestHeader("Content-Type",M.contentType),ve.setRequestHeader("Accept",M.dataTypes[0]&&M.accepts[M.dataTypes[0]]?M.accepts[M.dataTypes[0]]+(M.dataTypes[0]!=="*"?", "+zs+"; q=0.01":""):M.accepts["*"]);for(L in M.headers)ve.setRequestHeader(L,M.headers[L]);if(M.beforeSend&&(M.beforeSend.call(V,ve,M)===!1||S))return ve.abort();if(at="abort",de.add(M.complete),ve.done(M.success),ve.fail(M.error),o=Js(Hr,M,t,ve),!o)Lt(-1,"No Transport");else{if(ve.readyState=1,I&&ce.trigger("ajaxSend",[ve,M]),S)return ve;M.async&&M.timeout>0&&(k=n.setTimeout(function(){ve.abort("timeout")},M.timeout));try{S=!1,o.send($e,Lt)}catch(Ce){if(S)throw Ce;Lt(-1,Ce)}}function Lt(Ce,Ae,Tn,Gr){var ct,xn,ut,Ct,kt,Ye=Ae;S||(S=!0,k&&n.clearTimeout(k),o=void 0,v=Gr||"",ve.readyState=Ce>0?4:0,ct=Ce>=200&&Ce<300||Ce===304,Tn&&(Ct=Lu(M,ve,Tn)),!ct&&i.inArray("script",M.dataTypes)>-1&&i.inArray("json",M.dataTypes)<0&&(M.converters["text script"]=function(){}),Ct=qu(M,Ct,ve,ct),ct?(M.ifModified&&(kt=ve.getResponseHeader("Last-Modified"),kt&&(i.lastModified[u]=kt),kt=ve.getResponseHeader("etag"),kt&&(i.etag[u]=kt)),Ce===204||M.type==="HEAD"?Ye="nocontent":Ce===304?Ye="notmodified":(Ye=Ct.state,xn=Ct.data,ut=Ct.error,ct=!ut)):(ut=Ye,(Ce||!Ye)&&(Ye="error",Ce<0&&(Ce=0))),ve.status=Ce,ve.statusText=(Ae||Ye)+"",ct?be.resolveWith(V,[xn,Ye,ve]):be.rejectWith(V,[ve,Ye,ut]),ve.statusCode(Me),Me=void 0,I&&ce.trigger(ct?"ajaxSuccess":"ajaxError",[ve,M,ct?xn:ut]),de.fireWith(V,[ve,Ye]),I&&(ce.trigger("ajaxComplete",[ve,M]),--i.active||i.event.trigger("ajaxStop")))}return ve},getJSON:function(e,t,o){return i.get(e,t,o,"json")},getScript:function(e,t){return i.get(e,void 0,t,"script")}}),i.each(["get","post"],function(e,t){i[t]=function(o,u,v,b){return _(u)&&(b=b||v,v=u,u=void 0),i.ajax(i.extend({url:o,type:t,dataType:b,data:u,success:v},i.isPlainObject(o)&&o))}}),i.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),i._evalUrl=function(e,t,o){return i.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(u){i.globalEval(u,t,o)}})},i.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=i(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var o=this;o.firstElementChild;)o=o.firstElementChild;return o}).append(this)),this},wrapInner:function(e){return _(e)?this.each(function(t){i(this).wrapInner(e.call(this,t))}):this.each(function(){var t=i(this),o=t.contents();o.length?o.wrapAll(e):t.append(e)})},wrap:function(e){var t=_(e);return this.each(function(o){i(this).wrapAll(t?e.call(this,o):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(e){return!i.expr.pseudos.visible(e)},i.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch{}};var Fu={0:200,1223:204},_n=i.ajaxSettings.xhr();w.cors=!!_n&&"withCredentials"in _n,w.ajax=_n=!!_n,i.ajaxTransport(function(e){var t,o;if(w.cors||_n&&!e.crossDomain)return{send:function(u,v){var b,k=e.xhr();if(k.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(b in e.xhrFields)k[b]=e.xhrFields[b];e.mimeType&&k.overrideMimeType&&k.overrideMimeType(e.mimeType),!e.crossDomain&&!u["X-Requested-With"]&&(u["X-Requested-With"]="XMLHttpRequest");for(b in u)k.setRequestHeader(b,u[b]);t=function(E){return function(){t&&(t=o=k.onload=k.onerror=k.onabort=k.ontimeout=k.onreadystatechange=null,E==="abort"?k.abort():E==="error"?typeof k.status!="number"?v(0,"error"):v(k.status,k.statusText):v(Fu[k.status]||k.status,k.statusText,(k.responseType||"text")!=="text"||typeof k.responseText!="string"?{binary:k.response}:{text:k.responseText},k.getAllResponseHeaders()))}},k.onload=t(),o=k.onerror=k.ontimeout=t("error"),k.onabort!==void 0?k.onabort=o:k.onreadystatechange=function(){k.readyState===4&&n.setTimeout(function(){t&&o()})},t=t("abort");try{k.send(e.hasContent&&e.data||null)}catch(E){if(t)throw E}},abort:function(){t&&t()}}}),i.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return i.globalEval(e),e}}}),i.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),i.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,o;return{send:function(u,v){t=i("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",o=function(b){t.remove(),o=null,b&&v(b.type==="error"?404:200,b.type)}),x.head.appendChild(t[0])},abort:function(){o&&o()}}}});var Xs=[],zr=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xs.pop()||i.expando+"_"+Us.guid++;return this[e]=!0,e}}),i.ajaxPrefilter("json jsonp",function(e,t,o){var u,v,b,k=e.jsonp!==!1&&(zr.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&zr.test(e.data)&&"data");if(k||e.dataTypes[0]==="jsonp")return u=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,k?e[k]=e[k].replace(zr,"$1"+u):e.jsonp!==!1&&(e.url+=(Ur.test(e.url)?"&":"?")+e.jsonp+"="+u),e.converters["script json"]=function(){return b||i.error(u+" was not called"),b[0]},e.dataTypes[0]="json",v=n[u],n[u]=function(){b=arguments},o.always(function(){v===void 0?i(n).removeProp(u):n[u]=v,e[u]&&(e.jsonpCallback=t.jsonpCallback,Xs.push(u)),b&&_(v)&&v(b[0]),b=v=void 0}),"script"}),w.createHTMLDocument=function(){var e=x.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),i.parseHTML=function(e,t,o){if(typeof e!="string")return[];typeof t=="boolean"&&(o=t,t=!1);var u,v,b;return t||(w.createHTMLDocument?(t=x.implementation.createHTMLDocument(""),u=t.createElement("base"),u.href=x.location.href,t.head.appendChild(u)):t=x),v=Pt.exec(e),b=!o&&[],v?[t.createElement(v[1])]:(v=xs([e],t,b),b&&b.length&&i(b).remove(),i.merge([],v.childNodes))},i.fn.load=function(e,t,o){var u,v,b,k=this,E=e.indexOf(" ");return E>-1&&(u=Mt(e.slice(E)),e=e.slice(0,E)),_(t)?(o=t,t=void 0):t&&typeof t=="object"&&(v="POST"),k.length>0&&i.ajax({url:e,type:v||"GET",dataType:"html",data:t}).done(function(S){b=arguments,k.html(u?i("<div>").append(i.parseHTML(S)).find(u):S)}).always(o&&function(S,I){k.each(function(){o.apply(this,b||[S.responseText,I,S])})}),this},i.expr.pseudos.animated=function(e){return i.grep(i.timers,function(t){return e===t.elem}).length},i.offset={setOffset:function(e,t,o){var u,v,b,k,E,S,I,L=i.css(e,"position"),j=i(e),M={};L==="static"&&(e.style.position="relative"),E=j.offset(),b=i.css(e,"top"),S=i.css(e,"left"),I=(L==="absolute"||L==="fixed")&&(b+S).indexOf("auto")>-1,I?(u=j.position(),k=u.top,v=u.left):(k=parseFloat(b)||0,v=parseFloat(S)||0),_(t)&&(t=t.call(e,o,i.extend({},E))),t.top!=null&&(M.top=t.top-E.top+k),t.left!=null&&(M.left=t.left-E.left+v),"using"in t?t.using.call(e,M):j.css(M)}},i.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(v){i.offset.setOffset(this,e,v)});var t,o,u=this[0];if(u)return u.getClientRects().length?(t=u.getBoundingClientRect(),o=u.ownerDocument.defaultView,{top:t.top+o.pageYOffset,left:t.left+o.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,o,u=this[0],v={top:0,left:0};if(i.css(u,"position")==="fixed")t=u.getBoundingClientRect();else{for(t=this.offset(),o=u.ownerDocument,e=u.offsetParent||o.documentElement;e&&(e===o.body||e===o.documentElement)&&i.css(e,"position")==="static";)e=e.parentNode;e&&e!==u&&e.nodeType===1&&(v=i(e).offset(),v.top+=i.css(e,"borderTopWidth",!0),v.left+=i.css(e,"borderLeftWidth",!0))}return{top:t.top-v.top-i.css(u,"marginTop",!0),left:t.left-v.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&i.css(e,"position")==="static";)e=e.offsetParent;return e||Rt})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var o=t==="pageYOffset";i.fn[e]=function(u){return Je(this,function(v,b,k){var E;if(A(v)?E=v:v.nodeType===9&&(E=v.defaultView),k===void 0)return E?E[t]:v[b];E?E.scrollTo(o?E.pageXOffset:k,o?k:E.pageYOffset):v[b]=k},e,u,arguments.length)}}),i.each(["top","left"],function(e,t){i.cssHooks[t]=Ps(w.pixelPosition,function(o,u){if(u)return u=wn(o,t),Mr.test(u)?i(o).position()[t]+"px":u})}),i.each({Height:"height",Width:"width"},function(e,t){i.each({padding:"inner"+e,content:t,"":"outer"+e},function(o,u){i.fn[u]=function(v,b){var k=arguments.length&&(o||typeof v!="boolean"),E=o||(v===!0||b===!0?"margin":"border");return Je(this,function(S,I,L){var j;return A(S)?u.indexOf("outer")===0?S["inner"+e]:S.document.documentElement["client"+e]:S.nodeType===9?(j=S.documentElement,Math.max(S.body["scroll"+e],j["scroll"+e],S.body["offset"+e],j["offset"+e],j["client"+e])):L===void 0?i.css(S,I,E):i.style(S,I,L,E)},t,k?v:void 0,k)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){i.fn[t]=function(o){return this.on(t,o)}}),i.fn.extend({bind:function(e,t,o){return this.on(e,null,t,o)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,o,u){return this.on(t,e,o,u)},undelegate:function(e,t,o){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",o)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){i.fn[t]=function(o,u){return arguments.length>0?this.on(t,null,o,u):this.trigger(t)}});var Bu=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;i.proxy=function(e,t){var o,u,v;if(typeof t=="string"&&(o=e[t],t=e,e=o),!!_(e))return u=s.call(arguments,2),v=function(){return e.apply(t||this,u.concat(s.call(arguments)))},v.guid=e.guid=e.guid||i.guid++,v},i.holdReady=function(e){e?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=z,i.isFunction=_,i.isWindow=A,i.camelCase=st,i.type=q,i.now=Date.now,i.isNumeric=function(e){var t=i.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},i.trim=function(e){return e==null?"":(e+"").replace(Bu,"$1")};var Uu=n.jQuery,ju=n.$;return i.noConflict=function(e){return n.$===i&&(n.$=ju),e&&n.jQuery===i&&(n.jQuery=Uu),i},typeof l>"u"&&(n.jQuery=n.$=i),i})})(ma);var Qu=ma.exports;window.$=Qu;const Zu=window.$.noConflict(!0);Jt.jQuery=Jt.$=Zu;var ya={exports:{}};(function(r){/*!
  * Bowser - a browser detector
  * https://github.com/ded/bowser
  * MIT License | (c) Dustin Diaz 2015
  */(function(n,l){r.exports?r.exports=l():this[n]=l()})("bowser",function(){var n=!0;function l(h){function s(Z){var F=h.match(Z);return F&&F.length>1&&F[1]||""}function p(Z){var F=h.match(Z);return F&&F.length>1&&F[2]||""}var y=s(/(ipod|iphone|ipad)/i).toLowerCase(),d=/like android/i.test(h),c=!d&&/android/i.test(h),f=/CrOS/.test(h),g=/silk/i.test(h),m=/sailfish/i.test(h),C=/tizen/i.test(h),w=/(web|hpw)os/i.test(h),_=/windows phone/i.test(h),A=!_&&/windows/i.test(h),x=!y&&!g&&/macintosh/i.test(h),N=!c&&!m&&!C&&!w&&/linux/i.test(h),B=s(/edge\/(\d+(\.\d+)?)/i),q=s(/version\/(\d+(\.\d+)?)/i),H=/tablet/i.test(h),X=!H&&/[^-]mobi/i.test(h),i;/opera|opr/i.test(h)?i={name:"Opera",opera:n,version:q||s(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(h)?i={name:"Yandex Browser",yandexbrowser:n,version:q||s(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:_?(i={name:"Windows Phone",windowsphone:n},B?(i.msedge=n,i.version=B):(i.msie=n,i.version=s(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(h)?i={name:"Internet Explorer",msie:n,version:s(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?i={name:"Chrome",chromeos:n,chromeBook:n,chrome:n,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(h)?i={name:"Microsoft Edge",msedge:n,version:B}:/chrome|crios|crmo/i.test(h)?i={name:"Chrome",chrome:n,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:y?(i={name:y=="iphone"?"iPhone":y=="ipad"?"iPad":"iPod"},q&&(i.version=q)):m?i={name:"Sailfish",sailfish:n,version:s(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(h)?i={name:"SeaMonkey",seamonkey:n,version:s(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(h)?(i={name:"Firefox",firefox:n,version:s(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(h)&&(i.firefoxos=n)):g?i={name:"Amazon Silk",silk:n,version:s(/silk\/(\d+(\.\d+)?)/i)}:c?i={name:"Android",version:q}:/phantom/i.test(h)?i={name:"PhantomJS",phantom:n,version:s(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(h)||/rim\stablet/i.test(h)?i={name:"BlackBerry",blackberry:n,version:q||s(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:w?(i={name:"WebOS",webos:n,version:q||s(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(h)&&(i.touchpad=n)):/bada/i.test(h)?i={name:"Bada",bada:n,version:s(/dolfin\/(\d+(\.\d+)?)/i)}:C?i={name:"Tizen",tizen:n,version:s(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||q}:/safari/i.test(h)?i={name:"Safari",safari:n,version:q}:i={name:s(/^(.*)\/(.*) /),version:p(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(h)?(i.name=i.name||"Webkit",i.webkit=n,!i.version&&q&&(i.version=q)):!i.opera&&/gecko\//i.test(h)&&(i.name=i.name||"Gecko",i.gecko=n,i.version=i.version||s(/gecko\/(\d+(\.\d+)?)/i)),!i.msedge&&(c||i.silk)?i.android=n:y?(i[y]=n,i.ios=n):A?i.windows=n:x?i.mac=n:N&&(i.linux=n);var P="";i.windowsphone?P=s(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):y?(P=s(/os (\d+([_\s]\d+)*) like mac os x/i),P=P.replace(/[_\s]/g,".")):c?P=s(/android[ \/-](\d+(\.\d+)*)/i):i.webos?P=s(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?P=s(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?P=s(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(P=s(/tizen[\/\s](\d+(\.\d+)*)/i)),P&&(i.osversion=P);var z=P.split(".")[0];return H||y=="ipad"||c&&(z==3||z==4&&!X)||i.silk?i.tablet=n:(X||y=="iphone"||y=="ipod"||c||i.blackberry||i.webos||i.bada)&&(i.mobile=n),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.chrome&&i.version>=20||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1?i.a=n:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6?i.c=n:i.x=n,i}var a=l(typeof navigator<"u"?navigator.userAgent:"");return a.test=function(h){for(var s=0;s<h.length;++s){var p=h[s];if(typeof p=="string"&&p in a)return!0}return!1},a._detect=l,a})})(ya);var Ai=ya.exports,va={};function el(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vr={},Kt={};Kt.hooks={};Kt.loaded=!1;Kt.parts=[];Kt.plugins={};const tl=Kt,nl={hooks:{indexCustomInlineScripts:"The hook makes it impossible to use a Content Security Policy that prohibits inline code. Permitting inline code makes XSS vulnerabilities more likely"}},rl=(r,n)=>{let l;const a=r.split(":");a[0].length===1?(a.length===3&&(l=a.pop()),r=a.join(":")):(r=a[0],l=a[1]);let h=el(r);l=l||n;for(const s of l.split("."))h=h[s];return h},il=(r,n,l)=>{const a={};for(const h of r||[])for(const[s,p]of Object.entries(h[n]||{})){const y=l?l(h,p,s):p,d=(nl[n]||{})[s];if(d){console.error(`Hook ${n}/${s} is disabled. Reason: ${d}`),console.error(`The hook function ${y} from plugin ${h.plugin} will never be called, which may cause the plugin to fail`),console.error(`Please update the ${h.plugin} plugin to not use the ${s} hook`);return}let c;try{if(console.log("Loading hook",y,s),c=rl(y,s),!c)throw new Error("Not a function")}catch(f){console.error(`Failed to load hook function "${y}" for plugin "${h.plugin}" part "${h.name}" hook set "${n}" hook "${s}": ${f.stack||f}`)}c&&(a[s]==null&&(a[s]=[]),a[s].push({hook_name:s,hook_fn:c,hook_fn_name:y,part:h}))}return a};vr.extractHooks=il;vr.clientPluginNames=()=>{const r=tl.parts.filter(n=>Object.prototype.hasOwnProperty.call(n,"client_hooks")).map(n=>`plugin-${n.plugin}`);return[...new Set(r)]};(function(r){const n=vr,l=Kt;r.baseURL="",r.ensure=h=>l.loaded?h():r.update(h),r.update=h=>{const s=()=>setTimeout(h,0);jQuery.getJSON(`${r.baseURL}pluginfw/plugin-definitions.json?v=${clientVars.randomVersionString}`).done(p=>{l.plugins=p.plugins,l.parts=p.parts,l.hooks=n.extractHooks(l.parts,"client_hooks"),l.loaded=!0,s()}).fail(p=>{console.error(`Failed to load plugin-definitions: ${p}`),s()})};const a=h=>{let s=null;try{for(;h=h.parent;)if(typeof h.require<"u"){s=h.require;break}}catch(d){console.error(d)}if(!s)throw new Error("Parent plugins could not be found.");const p=s("ep_etherpad-lite/static/js/pluginfw/plugin_defs");l.hooks=p.hooks,l.loaded=p.loaded,l.parts=p.parts,l.plugins=p.plugins;const y=s("ep_etherpad-lite/static/js/pluginfw/client_plugins");r.baseURL=y.baseURL,r.ensure=y.ensure,r.update=y.update};r.adoptPluginsFromAncestorsOf=a})(va);var St={};(function(r){const n=Kt;r.deprecationNotices={};const l={},a=c=>{const f=r.deprecationNotices[c.hook_name];f!=null&&(l[c.hook_fn_name]||(console.warn(`${c.hook_name} hook used by the ${c.part.plugin} plugin (${c.hook_fn_name}) is deprecated: ${f}`),l[c.hook_fn_name]=!0))},h=(c,f)=>c.then(g=>f(null,g),g=>f(g||new Error(g))),s=c=>c===void 0?[]:Array.isArray(c)?c:[c],p=c=>c.reduce((f,g)=>f.concat(g),[]),y=(c,f)=>{a(c);let g,m;const C=(A,x,N)=>{m=null;const B=A==null?"resolved":"rejected";if(g!=null){const q=A==null?"resolve":"reject",H=`DOUBLE SETTLE BUG IN HOOK FUNCTION (plugin: ${c.part.plugin}, function name: ${c.hook_fn_name}, hook: ${c.hook_name}): Attempt to ${q} via ${N} but it already ${g.state} via ${g.how}. Ignoring this attempt to ${q}.`;if(console.error(H),B!==g.state||(A==null?x!==g.val:A!==g.err))throw m=new Error(H),m;return}g={state:B,err:A,val:x,how:N},x&&typeof x.then=="function"&&console.error(`PROHIBITED PROMISE BUG IN HOOK FUNCTION (plugin: ${c.part.plugin}, function name: ${c.hook_fn_name}, hook: ${c.hook_name}): The hook function provided a "thenable" (e.g., a Promise) which is prohibited because the hook expects to get the value synchronously.`)},w=A=>{C(null,A,"callback")};let _;try{_=c.hook_fn(c.hook_name,f,w)}catch(A){if(A===m)throw A;try{C(A,null,"thrown exception")}catch(x){Promise.resolve().then(()=>{throw x})}throw A}if(_===void 0){if(g!=null)return g.val;c.hook_fn.length>=3&&console.error(`UNSETTLED FUNCTION BUG IN HOOK FUNCTION (plugin: ${c.part.plugin}, function name: ${c.hook_fn_name}, hook: ${c.hook_name}): The hook function neither called the callback nor returned a non-undefined value. This is prohibited because it will result in freezes when a future version of Etherpad updates the hook to support asynchronous behavior.`)}return C(null,_,"returned value"),g.val};r.callAll=(c,f)=>{f==null&&(f={});const g=n.hooks[c]||[];return p(g.map(m=>s(y(m,f))))};const d=async(c,f)=>(a(c),await new Promise((g,m)=>{let C;const w=(x,N,B)=>{const q=x==null?"resolved":"rejected";if(C!=null){const H=x==null?"resolve":"reject",X=`DOUBLE SETTLE BUG IN HOOK FUNCTION (plugin: ${c.part.plugin}, function name: ${c.hook_fn_name}, hook: ${c.hook_name}): Attempt to ${H} via ${B} but it already ${C.state} via ${C.how}. Ignoring this attempt to ${H}.`;if(console.error(X),q!==C.state||(x==null?N!==C.val:x!==C.err))throw new Error(X);return}C={state:q,err:x,val:N,how:B},x==null?g(N):m(x)},_=x=>{Promise.resolve(x).then(N=>w(null,N,"callback"),N=>w(N,null,"rejected Promise passed to callback"))};let A;try{A=c.hook_fn(c.hook_name,f,_)}catch(x){try{w(x,null,"thrown exception")}catch(N){Promise.resolve().then(()=>{throw N})}throw x}A===void 0&&c.hook_fn.length>=3||Promise.resolve(A).then(x=>w(null,x,"returned value"),x=>w(x,null,"Promise rejection"))}));r.aCallAll=async(c,f,g=null)=>{if(g!=null)return await h(r.aCallAll(c,f),g);f==null&&(f={});const m=n.hooks[c]||[],C=await Promise.all(m.map(async w=>s(await d(w,f))));return p(C)},r.callAllSerial=async(c,f)=>{f==null&&(f={});const g=n.hooks[c]||[],m=[];for(const C of g)m.push(s(await d(C,f)));return p(m)},r.callFirst=(c,f)=>{f==null&&(f={});const g=C=>C.length,m=n.hooks[c]||[];for(const C of m){const w=s(y(C,f));if(g(w))return w}return[]},r.aCallFirst=async(c,f,g=null,m=null)=>{if(g!=null)return await h(r.aCallFirst(c,f,null,m),g);f==null&&(f={}),m==null&&(m=w=>w.length);const C=n.hooks[c]||[];for(const w of C){const _=s(await d(w,f));if(m(_))return _}return[]},r.exportedForTestingOnly={callHookFnAsync:d,callHookFnSync:y,deprecationWarned:l}})(St);var ti={},Zs={},eo;function sl(){if(eo)return Zs;eo=1;const r=Jt.jQuery;return function(n){var l=1;n.fn.farbtastic=function(a){return n.farbtastic(this,a),this},n.farbtastic=function(s,h){var s=n(s)[0];return s.farbtastic||(s.farbtastic=new n._farbtastic(s,h))},n._farbtastic=function(a,h){var s=this;s.linkTo=function(p){return typeof s.callback=="object"&&n(s.callback).off("keyup").on("keyup",s.updateValue),s.color=null,typeof p=="function"?s.callback=p:(typeof p=="object"||typeof p=="string")&&(s.callback=n(p),s.callback.on("keyup",s.updateValue),s.callback[0].value&&s.setColor(s.callback[0].value)),this},s.updateValue=function(p){this.value&&this.value!=s.color&&s.setColor(this.value)},s.setColor=function(p){var y=s.unpack(p);return s.color!=p&&y&&(s.color=p,s.rgb=y,s.hsl=s.RGBToHSL(s.rgb),s.updateDisplay()),this},s.setHSL=function(p){s.hsl=p;var y=[p[0]];return y[1]=p[1]*l+(1-l)/2,y[2]=p[2]*l+(1-l)/2,s.rgb=s.HSLToRGB(y),s.color=s.pack(s.rgb),s.updateDisplay(),this},s.initWidget=function(){var p={width:h.width,height:h.width};n(a).html('<div class="farbtastic" style="position: relative"><div class="farbtastic-solid"></div><canvas class="farbtastic-mask"></canvas><canvas class="farbtastic-overlay"></canvas></div>').find("*").attr(p).css(p).end().find("div>*").css("position","absolute"),browser.msie&&n("canvas",a).each(function(){var y={class:n(this).attr("class"),style:this.getAttribute("style")},d=document.createElement("canvas");n(this).before(n(d).attr(y)).remove(),G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d),n(d).attr(p).css(p).css("position","absolute").find("*").attr(p).css(p)}),s.radius=(h.width-h.wheelWidth)/2-1,s.square=Math.floor((s.radius-h.wheelWidth/2)*.7)-1,s.mid=Math.floor(h.width/2),s.markerSize=h.wheelWidth*.3,s.solidFill=n(".farbtastic-solid",a).css({width:s.square*2-1,height:s.square*2-1,left:s.mid-s.square,top:s.mid-s.square}),s.cnvMask=n(".farbtastic-mask",a),s.ctxMask=s.cnvMask[0].getContext("2d"),s.cnvOverlay=n(".farbtastic-overlay",a),s.ctxOverlay=s.cnvOverlay[0].getContext("2d"),s.ctxMask.translate(s.mid,s.mid),s.ctxOverlay.translate(s.mid,s.mid),s.drawCircle(),s.drawMask()},s.drawCircle=function(){var p=24,y=s.radius,d=h.wheelWidth,c=8/y/p*Math.PI,f=s.ctxMask,g=0,m,C;f.save(),f.lineWidth=d/y,f.scale(y,y);for(var w=0;w<=p;++w){var _=w/p,A=_*Math.PI*2,x=Math.sin(g),N=-Math.cos(g);let i=Math.sin(A),P=-Math.cos(A),z=(g+A)/2,Z=1/Math.cos((A-g)/2),F=Math.sin(z)*Z,K=-Math.cos(z)*Z,W=s.pack(s.HSLToRGB([_,1,.5]));if(w>0)if(browser.msie){var B=(1+Math.min(Math.abs(Math.tan(g)),Math.abs(Math.tan(Math.PI/2-g))))/p;m=s.pack(s.HSLToRGB([C-.15*B,1,.5])),W=s.pack(s.HSLToRGB([_+.15*B,1,.5]));var q=f.createLinearGradient(x,N,i,P);q.addColorStop(0,m),q.addColorStop(1,W),f.fillStyle=q;var H=(y+d/2)/y,X=(y-d/2)/y;f.beginPath(),f.moveTo(x*H,N*H),f.quadraticCurveTo(F*H,K*H,i*H,P*H),f.lineTo(i*X,P*X),f.quadraticCurveTo(F*X,K*X,x*X,N*X),f.fill()}else{var q=f.createLinearGradient(x,N,i,P);q.addColorStop(0,m),q.addColorStop(1,W),f.strokeStyle=q,f.beginPath(),f.moveTo(x,N),f.quadraticCurveTo(F,K,i,P),f.stroke()}g=A-c,m=W,C=_}f.restore()},s.drawMask=function(){var p=s.square*2,y=s.square;function d(N,B,q){for(var H=1/N,X=1/B,i=0;i<=B;++i)for(var P=1-i*X,z=0;z<=N;++z){var Z=1-z*H,F=1-2*Math.min(P*Z,(1-P)*Z),K=F>0?(2*P-1+F)*.5/F:0;F=F*l+(1-l)/2,K=K*l+(1-l)/2,q(z,i,K,F)}}if(s.ctxMask.getImageData){var c=Math.floor(p/2),f=document.createElement("canvas");f.width=f.height=c+1;var g=f.getContext("2d"),m=g.getImageData(0,0,c+1,c+1),C=0;d(c,c,function(N,B,q,H){m.data[C++]=m.data[C++]=m.data[C++]=q*255,m.data[C++]=H*255}),g.putImageData(m,0,0),s.ctxMask.drawImage(f,0,0,c+1,c+1,-y,-y,y*2,y*2)}else if(browser.msie){var w,_,A=6,x=Math.floor(p/A);d(x,6,function(N,B,q,H){if(N==0&&(w=_,_=[]),q=Math.round(q*255),H=Math.round(H*255),B>0){var X=w[N][0],i=w[N][1],P=s.packDX(X,i),z=s.packDX(q,H),Z=Math.round(s.mid+((B-1)*.333-1)*y),F=Math.round(s.mid+(B*.333-1)*y);n("<div>").css({position:"absolute",filter:"progid:DXImageTransform.Microsoft.Gradient(StartColorStr="+P+", EndColorStr="+z+", GradientType=0)",top:Z,height:F-Z,left:s.mid+(N*A-y-1),width:A-(N==x?Math.round(A/2):0)}).appendTo(s.cnvMask)}_.push([q,H])})}else{var c=Math.floor(p/2);d(c,c,function(B,q,H,X){H=Math.round(H*255),s.ctxMask.fillStyle="rgba("+H+", "+H+", "+H+", "+X+")",s.ctxMask.fillRect(B*2-y-1,q*2-y-1,2,2)})}},s.drawMarkers=function(){var p=h.width,y=s.hsl[0]*6.28,d=Math.sin(y)*s.radius,c=-Math.cos(y)*s.radius,f=2*s.square*(.5-s.hsl[1]),g=2*s.square*(.5-s.hsl[2]),m=[{x:d,y:c,r:s.markerSize+1,c:"rgb(0,0,0,.4)",lw:2},{x:d,y:c,r:s.markerSize,c:"#fff",lw:2},{x:f,y:g,r:s.markerSize+1,c:"rgb(0,0,0,.4)",lw:2},{x:f,y:g,r:s.markerSize,c:"#fff",lw:2}];s.ctxOverlay.clearRect(-s.mid,-s.mid,p,p);for(let w in m){var C=m[w];s.ctxOverlay.lineWidth=C.lw,s.ctxOverlay.strokeStyle=C.c,s.ctxOverlay.beginPath(),s.ctxOverlay.arc(C.x,C.y,C.r,0,Math.PI*2,!0),s.ctxOverlay.stroke()}},s.updateDisplay=function(){s.invert=s.rgb[0]*.3+s.rgb[1]*.59+s.rgb[2]*.11<=.6,s.solidFill.css("backgroundColor",s.pack(s.HSLToRGB([s.hsl[0],1,.5]))),s.drawMarkers(),typeof s.callback=="object"?(n(s.callback).css({backgroundColor:s.color,color:s.invert?"#fff":"#000"}),n(s.callback).each(function(){typeof this.value=="string"&&this.value!=s.color&&(this.value=s.color)})):typeof s.callback=="function"&&s.callback.call(s,s.color)},s.widgetCoords=function(p){return{x:p.pageX-s.offset.left-s.mid,y:p.pageY-s.offset.top-s.mid}},s.mousedown=function(p){n._farbtastic.dragging||(n(document).on("mousemove",s.mousemove).on("mouseup",s.mouseup),n._farbtastic.dragging=!0),s.offset=n(a).offset();var y=s.widgetCoords(p);return s.circleDrag=Math.max(Math.abs(y.x),Math.abs(y.y))>s.square+2,s.mousemove(p),!1},s.mousemove=function(p){var y=s.widgetCoords(p);if(s.circleDrag){var d=Math.atan2(y.x,-y.y)/6.28;s.setHSL([(d+1)%1,s.hsl[1],s.hsl[2]])}else{var c=Math.max(0,Math.min(1,-(y.x/s.square/2)+.5)),f=Math.max(0,Math.min(1,-(y.y/s.square/2)+.5));s.setHSL([s.hsl[0],c,f])}return!1},s.mouseup=function(){n(document).off("mousemove",s.mousemove),n(document).off("mouseup",s.mouseup),n._farbtastic.dragging=!1},s.dec2hex=function(p){return(p<16?"0":"")+p.toString(16)},s.packDX=function(p,y){return"#"+s.dec2hex(y)+s.dec2hex(p)+s.dec2hex(p)+s.dec2hex(p)},s.pack=function(p){var y=Math.round(p[0]*255),d=Math.round(p[1]*255),c=Math.round(p[2]*255);return"#"+s.dec2hex(y)+s.dec2hex(d)+s.dec2hex(c)},s.unpack=function(p){if(p.length==7){let d=function(c){return parseInt(p.substring(c,c+2),16)/255};var y=d;return[d(1),d(3),d(5)]}else if(p.length==4){let d=function(f){return parseInt(p.substring(f,f+1),16)/15};var y=d;return[d(1),d(2),d(3)]}},s.HSLToRGB=function(p){var y,d,c=p[0],f=p[1],g=p[2];return d=g<=.5?g*(f+1):g+f-g*f,y=g*2-d,[this.hueToRGB(y,d,c+.33333),this.hueToRGB(y,d,c),this.hueToRGB(y,d,c-.33333)]},s.hueToRGB=function(p,y,d){return d=(d+1)%1,d*6<1?p+(y-p)*d*6:d*2<1?y:d*3<2?p+(y-p)*(.66666-d)*6:p},s.RGBToHSL=function(p){var y=p[0],d=p[1],c=p[2],f=Math.min(y,d,c),g=Math.max(y,d,c),m=g-f,C=0,w=0,_=(f+g)/2;return _>0&&_<1&&(w=m/(_<.5?2*_:2-2*_)),m>0&&(g==y&&g!=d&&(C+=(d-c)/m),g==d&&g!=c&&(C+=2+(c-y)/m),g==c&&g!=y&&(C+=4+(y-d)/m),C/=6),[C,w,_]},h.callback||(h={callback:h}),h=n.extend({width:300,wheelWidth:(h.width||300)/10,callback:null},h),s.initWidget(),n("canvas.farbtastic-overlay",a).on("mousedown",s.mousedown),h.callback&&s.linkTo(h.callback),s.setColor("#808080")}}(r),Zs}var to={},no;function ba(){if(no)return to;no=1;const r=Jt.jQuery;return function(n){n.gritter={},n.gritter.options={position:"",class_name:"",time:3e3},n.gritter.add=function(a){try{return l.add(a||{})}catch(s){var h="Gritter Error: "+s;typeof console<"u"&&console.error?console.error(h,a):alert(h)}},n.gritter.remove=function(a,h){l.removeSpecific(a.split("gritter-item-")[1],h||{})},n.gritter.removeAll=function(a){l.stop(a||{})};var l={time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_wrap_top:'<div id="gritter-container" class="top"></div>',_tpl_wrap_bottom:'<div id="gritter-container" class="bottom"></div>',_tpl_close:"",_tpl_title:n("<h3>").addClass("gritter-title"),_tpl_item:n("<div>").addClass("popup gritter-item").append(n("<div>").addClass("popup-content").append(n("<div>").addClass("gritter-content")).append(n("<div>").addClass("gritter-close").append(n("<i>").addClass("buttonicon buttonicon-times")))),add:function(a){if(typeof a=="string"&&(a={text:a}),!a.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var h=a.title,s=a.text;a.image;var p=a.position||"top",y=a.sticky||!1,d=a.class_name||n.gritter.options.class_name,c=a.time||"";this._verifyWrapper(),y&&(d+=" sticky"),this._item_count++;var f=this._item_count;n(["before_open","after_open","before_close","after_close"]).each(function(C,w){l["_"+w+"_"+f]=n.isFunction(a[w])?a[w]:function(){}}),this._custom_timer=0,c&&(this._custom_timer=c),h?h=this._tpl_title.clone().append(typeof h=="string"?document.createTextNode(h):h):h="";const g=this._tpl_item.clone();if(g.attr("id",`gritter-item-${f}`),g.addClass(d),g.find(".gritter-content").append(h).append(typeof s=="string"?n("<p>").text(s):s),this["_before_open_"+f]()===!1)return!1;["top","bottom"].indexOf(p)==-1&&(p="top"),n("#gritter-container."+p).append(g);var m=n("#gritter-item-"+this._item_count);return setTimeout(function(){m.addClass("popup-show")},0),l["_after_open_"+f](m),y||(this._setFadeTimer(m,f),n(m).on("mouseenter",function(C){l._restoreItemIfFading(n(this),f)}),n(m).on("mouseleave",function(C){l._setFadeTimer(n(this),f)})),n(m).find(".gritter-close").click(function(){l.removeSpecific(f,{},null,!0)}),f},_countRemoveWrapper:function(a,h,s){h.remove(),this["_after_close_"+a](h,s),n("#gritter-container").each(function(){n(this).find(".gritter-item").length==0&&n(this).remove()})},_fade:function(a,h,y,p){var y=y||{},d=typeof y.fade<"u"?y.fade:!0,c=p;this["_before_close_"+h](a,c),p&&a.unbind("mouseenter mouseleave"),d?(a.removeClass("popup-show"),setTimeout(function(){l._countRemoveWrapper(h,a,c)},300)):this._countRemoveWrapper(h,a)},removeSpecific:function(a,h,s,p){if(!s)var s=n("#gritter-item-"+a);this._fade(s,a,h||{},p)},_restoreItemIfFading:function(a,h){clearTimeout(this["_int_id_"+h]),a.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in n.gritter.options)this[opt]=n.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(a,h){var s=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+h]=setTimeout(function(){l._fade(a,h)},s)},stop:function(a){var h=n.isFunction(a.before_close)?a.before_close:function(){},s=n.isFunction(a.after_close)?a.after_close:function(){},p=n("#gritter-container");h(p),p.fadeOut(function(){n(this).remove(),s()})},_verifyWrapper:function(){n("#gritter-container.top").length===0&&n("#editorcontainerbox").append(this._tpl_wrap_top),n("#gritter-container.bottom").length===0&&n("#editorcontainerbox").append(this._tpl_wrap_bottom)}}}(r),to}var Sn={},mt={};/*!

  Copyright (c) 2011 Chad Weider

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to deal
  in the Software without restriction, including without limitation the rights
  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
  SOFTWARE.

*/var ro;function ol(){if(ro)return mt;ro=1;var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},n=/[&"'<>\/]/gm;function l(C){return C&&C.replace(n,function(w){return r[w]||w})}var a=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF]/gm;function h(C){return C&&C.replace(a,function(w){return r[w]||"&#x"+("00"+w.charCodeAt(0).toString(16)).slice(-2)+";"})}var s=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF\u2028\u2029]/gm;function p(C){return C&&C.replace(s,function(w){return"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)})}function y(C){return C&&'"'+p(C)+'"'}var d=/"(?:\\.|[^"])*"/gm;function c(C){return JSON.stringify(C).replace(d,function(w){return y(JSON.parse(w))})}var f=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF]/gm;function g(C){return C&&C.replace(f,function(w){return"\\"+("000000"+w.charCodeAt(0).toString(16)).slice(-6)})}function m(C){return C&&'"'+g(C)+'"'}return mt.escapeHTML=l,mt.escapeHTMLAttribute=h,mt.encodeJavaScriptIdentifier=p,mt.encodeJavaScriptString=y,mt.encodeJavaScriptData=c,mt.encodeCSSIdentifier=g,mt.encodeCSSString=m,mt}var ni,io;function al(){return io||(io=1,ni=ol()),ni}var Tt={},so;function cl(){if(so)return Tt;so=1;const r=p=>p.nodeType===3,n=(p,y)=>p[`_magicdom_${y}`],l=(p,y,d)=>{p[`_magicdom_${y}`]=d},a=(p,y)=>{if(p<1||y(0))return 0;if(!y(p-1))return p;let d=0,c=p-1;for(;c-d>1;){const f=Math.floor((d+c)/2);y(f)?c=f:d=f}return c},h=(p,y)=>{let d=0;for(;!y(d);)d+=p;return a(d,y)},s=()=>{};return Tt.isNodeText=r,Tt.getAssoc=n,Tt.setAssoc=l,Tt.binarySearch=a,Tt.binarySearchInfinite=h,Tt.noop=s,Tt}var ri={exports:{}};/*! js-cookie v3.0.5 | MIT */var oo;function ul(){return oo||(oo=1,function(r,n){(function(l,a){r.exports=a()})(Se,function(){function l(p){for(var y=1;y<arguments.length;y++){var d=arguments[y];for(var c in d)p[c]=d[c]}return p}var a={read:function(p){return p[0]==='"'&&(p=p.slice(1,-1)),p.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(p){return encodeURIComponent(p).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function h(p,y){function d(f,g,m){if(!(typeof document>"u")){m=l({},y,m),typeof m.expires=="number"&&(m.expires=new Date(Date.now()+m.expires*864e5)),m.expires&&(m.expires=m.expires.toUTCString()),f=encodeURIComponent(f).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var C="";for(var w in m)m[w]&&(C+="; "+w,m[w]!==!0&&(C+="="+m[w].split(";")[0]));return document.cookie=f+"="+p.write(g,f)+C}}function c(f){if(!(typeof document>"u"||arguments.length&&!f)){for(var g=document.cookie?document.cookie.split("; "):[],m={},C=0;C<g.length;C++){var w=g[C].split("="),_=w.slice(1).join("=");try{var A=decodeURIComponent(w[0]);if(m[A]=p.read(_,A),f===A)break}catch{}}return f?m[f]:m}}return Object.create({set:d,get:c,remove:function(f,g){d(f,"",l({},g,{expires:-1}))},withAttributes:function(f){return h(this.converter,l({},this.attributes,f))},withConverter:function(f){return h(l({},this.converter,f),this.attributes)}},{attributes:{value:Object.freeze(y)},converter:{value:Object.freeze(p)}})}var s=h(a,{path:"/"});return s})}(ri)),ri.exports}var ao;function ft(){if(ao)return Sn;ao=1;const r=al(),n=d=>{const c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let f="";d=d||20;for(let g=0;g<d;g++){const m=Math.floor(Math.random()*c.length);f+=c.substring(m,m+1)}return f},l=new RegExp(`[${["0-9","A-Z","a-z","Ã-Ã","Ã-Ã¶","Ã¸-Ã¿","Ä-á¿¿","ã-é¿¿","ï¤-ï·¿","ï¹°-ï»¾","ï¼-ï¼","ï¼¡-ï¼º","ï½-ï½","ï½¦-ï¿"].join("")}]`),a=(()=>{const d=`[-:@_.,~%+/?=&#!;()\\[\\]$'*${l.source.slice(1,-1)}]`,c="[:.,;?!)\\]'*]",f=`(?:${["(?:x-)?man","afp","file","ftps?","gopher","https?","nfs","sftp","smb","txmt"].join("|")})://`,g=`(?:${["about","geo","mailto","tel"].join("|")}):`;return new RegExp(`(?:${f}|${g}|www\\.)${d}*(?!${c})${d}`,"g")})(),h=/^(?=(?:.{4})*$)[A-Za-z0-9_-]*(?:[AQgw]==|[AEIMQUYcgkosw048]=)?$/,s={warnDeprecated:(...d)=>{if(s.warnDeprecated.disabledForTestingOnly)return;const c=new Error;if(Error.captureStackTrace&&Error.captureStackTrace(c,s.warnDeprecated),c.name="",typeof c.stack=="string"){s.warnDeprecated._rl==null&&(s.warnDeprecated._rl={prevs:new Map,now:()=>Date.now(),period:10*60*1e3});const f=s.warnDeprecated._rl,g=f.now(),m=f.prevs.get(c.stack);if(m!=null&&g-m<f.period)return;f.prevs.set(c.stack,g)}c.stack&&d.push(c.stack),(s.warnDeprecated.logger||console).warn(...d)},escapeHtml:d=>r.escapeHTML(String(d)),uniqueId:()=>{const d=yr().pad,c=(f,g)=>(Array(g+1).join("0")+Number(f).toString(35)).slice(-g);return[d.getClientIp(),c(+new Date,7),c(Math.floor(Math.random()*1e9),4)].join(".")},simpleDateTime:d=>{const c=new Date(+d),f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][c.getDay()],g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()],m=c.getDate(),C=c.getFullYear(),w=`${c.getHours()}:${`0${c.getMinutes()}`.slice(-2)}`;return`${f} ${g} ${m} ${C} ${w}`},wordCharRegex:l,urlRegex:a,findURLs:d=>{const c=new RegExp(s.urlRegex,"g");c.lastIndex=0;let f=null,g;for(;g=c.exec(d);){f=f||[];const m=g.index,C=g[0];f.push([m,C])}return f},escapeHtmlWithClickableLinks:(d,c)=>{let f=0;const g=[],m=s.findURLs(d),C=w=>{w>f&&(g.push(r.escapeHTML(d.substring(f,w))),f=w)};if(m)for(let w=0;w<m.length;w++){const _=m[w][0],A=m[w][1];C(_),g.push("<a ",c?`target="${r.escapeHTMLAttribute(c)}" `:"",'href="',r.escapeHTMLAttribute(A),'" rel="noreferrer noopener">'),C(_+A.length),g.push("</a>")}return C(d.length),g.join("")},bindEnterAndEscape:(d,c,f)=>{c&&d.on("keypress",g=>{g.which===13&&c(g)}),f&&d.on("keydown",g=>{g.which===27&&f(g)})},timediff:d=>{const c=yr().pad,f=(g,m)=>(g=Math.round(g),`${g} ${m}${g!==1?"s":""} ago`);return d=Math.max(0,(+new Date-+d-c.clientTimeOffset)/1e3),d<60?f(d,"second"):(d/=60,d<60?f(d,"minute"):(d/=60,d<24?f(d,"hour"):(d/=24,f(d,"day"))))},makeAnimationScheduler:(d,c,f)=>{f===void 0&&(f=1);let g=null;const m=()=>{g||(g=window.setTimeout(()=>{g=null;let C=f,w=!0;for(;w&&C>0;)w=d(),C--;w&&m()},c*f))};return{scheduleAnimation:m}},makeFieldLabeledWhenEmpty:(d,c)=>{d=$(d);const f=()=>{d.addClass("editempty"),d.val(c)};return d.focus(()=>{d.hasClass("editempty")&&d.val(""),d.removeClass("editempty")}),d.on("blur",()=>{d.val()||f()}),{clear:f}},getCheckbox:d=>$(d).is(":checked"),setCheckbox:(d,c)=>{c?$(d).attr("checked","checked"):$(d).prop("checked",!1)},bindCheckboxChange:(d,c)=>{$(d).on("change",c)},encodeUserId:d=>d.replace(/[^a-y0-9]/g,c=>c==="."?"-":`z${c.charCodeAt(0)}z`),decodeUserId:d=>d.replace(/[a-y0-9]+|-|z.+?z/g,c=>c==="-"?".":c.charAt(0)==="z"?String.fromCharCode(Number(c.slice(1,-1))):c),isValidAuthorToken:d=>{if(typeof d!="string"||!d.startsWith("t."))return!1;const c=d.slice(2);return c.length>0&&h.test(c)},generateAuthorToken:()=>`t.${n()}`};let p=null;s.setupGlobalExceptionHandler=()=>{p==null&&(ba(),p=d=>{let c,f,g,m,C;if(d instanceof ErrorEvent)c="Uncaught exception",f=d.error||{},{message:g,filename:m,lineno:C}=d;else if(d instanceof PromiseRejectionEvent)c="Unhandled Promise rejection",f=d.reason||{},{message:g="unknown",fileName:m="unknown",lineNumber:C=-1}=f;else throw new Error(`unknown event: ${d.toString()}`);f.name!=null&&g!==f.name&&!g.startsWith(`${f.name}: `)&&(g=`${f.name}: ${g}`);const w=n(20);let _=!1;if($(".gritter-item .error-msg").each(function(){$(this).text()===g&&(_=!0)}),!_){const A=document.createTextNode.bind(document),x=[$("<p>").append($("<b>").text("Please press and hold Ctrl and press F5 to reload this page")),$("<p>").text("If the problem persists, please send this error message to your webmaster:"),$("<div>").css("text-align","left").css("font-size",".8em").css("margin-top","1em").append($("<b>").addClass("error-msg").text(g)).append($("<br>")).append(A(`at ${m} at line ${C}`)).append($("<br>")).append(A(`ErrorId: ${w}`)).append($("<br>")).append(A(c)).append($("<br>")).append(A(`URL: ${window.location.href}`)).append($("<br>")).append(A(`UserAgent: ${navigator.userAgent}`)).append($("<br>"))];$.gritter.add({title:"An error occurred",text:x,class_name:"error",position:"bottom",sticky:!0})}$.post("../jserror",{errorInfo:JSON.stringify({errorId:w,type:c,msg:g,url:window.location.href,source:m,linenumber:C,userAgent:navigator.userAgent,stack:f.stack})})},window.onerror=null,window.addEventListener("error",p),window.addEventListener("unhandledrejection",p))},s.binarySearch=cl().binarySearch;const y=()=>{try{return!window.top.location.hostname}catch{return!0}};return typeof window<"u"&&(Sn.Cookies=ul().withAttributes({sameSite:y()?"None":"Lax",secure:window.location.protocol==="https:"})),Sn.randomString=n,Sn.padutils=s,Sn}var ii={},si,co;function ll(){if(co)return si;co=1;const{padutils:{warnDeprecated:r}}=ft();class n{static fromObject(a){return a=Object.assign({},a),"userId"in a&&!("authorId"in a)&&(a.authorId=a.userId),delete a.userId,"userName"in a&&!("displayName"in a)&&(a.displayName=a.userName),delete a.userName,Object.assign(new n,a)}constructor(a=null,h=null,s=null){this.text=a,this.authorId=h,this.time=s,this.displayName=null}get userId(){return r("ChatMessage.userId property is deprecated; use .authorId instead"),this.authorId}set userId(a){r("ChatMessage.userId property is deprecated; use .authorId instead"),this.authorId=a}get userName(){return r("ChatMessage.userName property is deprecated; use .displayName instead"),this.displayName}set userName(a){r("ChatMessage.userName property is deprecated; use .displayName instead"),this.displayName=a}toJSON(){const{authorId:a,displayName:h,...s}=this;return s.userId=a,s.userName=h,s}}return si=n,si}var oi={},uo;function Oi(){if(uo)return oi;uo=1;const r=ft().Cookies;return oi.padcookie=new class{constructor(){this.cookieName_=window.location.protocol==="https:"?"prefs":"prefsHttp"}init(){const n=this.readPrefs_()||{};delete n.userId,delete n.name,delete n.colorId,this.writePrefs_(n),this.readPrefs_()==null&&$.gritter.add({title:"Error",text:html10n.get("pad.noCookie"),sticky:!0,class_name:"error"})}readPrefs_(){try{const n=r.get(this.cookieName_);return n==null?null:JSON.parse(n)}catch{return null}}writePrefs_(n){r.set(this.cookieName_,JSON.stringify(n),{expires:365*100})}getPref(n){return this.readPrefs_()[n]}setPref(n,l){const a=this.readPrefs_();a[n]=l,this.writePrefs_(a)}clear(){this.writePrefs_({})}},oi}var ai={exports:{}};/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2015 Tom Moor
 * @license MIT Licensed
 */var lo;function fl(){return lo||(lo=1,function(r){(function(){var n={},l=null,a=null,h=null,s=null,p={},y=Math.ceil(window.devicePixelRatio)||1,d=16*y,c={width:7,height:9,font:10*y+"px arial",color:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},f=function(){var i=navigator.userAgent.toLowerCase();return function(P){return i.indexOf(P)!==-1}}(),g={ie:f("trident"),chrome:f("chrome"),webkit:f("chrome")||f("safari"),safari:f("safari")&&!f("chrome"),mozilla:f("mozilla")&&!f("chrome")&&!f("safari")},m=function(){for(var i=document.getElementsByTagName("link"),P=0,z=i.length;P<z;P++)if((i[P].getAttribute("rel")||"").match(/\bicon\b/i))return i[P];return!1},C=function(){for(var i=document.getElementsByTagName("link"),P=0,z=i.length;P<z;P++){var Z=typeof i[P]<"u";Z&&(i[P].getAttribute("rel")||"").match(/\bicon\b/i)&&i[P].parentNode.removeChild(i[P])}},w=function(){if(!a||!l){var i=m();l=i?i.getAttribute("href"):"/favicon.ico",a||(a=l)}return l},_=function(){return s||(s=document.createElement("canvas"),s.width=d,s.height=d),s},A=function(i){if(i){C();var P=document.createElement("link");P.type="image/x-icon",P.rel="icon",P.href=i,document.getElementsByTagName("head")[0].appendChild(P)}},x=function(i,P){if(!_().getContext||g.ie||g.safari||p.fallback==="force")return N(i);var z=_().getContext("2d"),Z=w();h=document.createElement("img"),h.onload=function(){z.clearRect(0,0,d,d),z.drawImage(h,0,0,h.width,h.height,0,0,d,d),(i+"").length>0&&B(z,i),q()},!Z.match(/^data/)&&p.crossOrigin&&(h.crossOrigin="anonymous"),h.src=Z},N=function(i){if(p.fallback){var P=document.title;P[0]==="("&&(P=P.slice(P.indexOf(" "))),(i+"").length>0?document.title="("+i+") "+P:document.title=P}},B=function(i,P,z){typeof P=="number"&&P>99&&p.abbreviate&&(P=H(P));var Z=(P+"").length-1,F=p.width*y+6*y*Z,K=p.height*y,W=d-K,se=d-F-y,pe=16*y,ke=16*y,he=2*y;i.font=(g.webkit?"bold ":"")+p.font,i.fillStyle=p.background,i.strokeStyle=p.background,i.lineWidth=y,i.beginPath(),i.moveTo(se+he,W),i.quadraticCurveTo(se,W,se,W+he),i.lineTo(se,pe-he),i.quadraticCurveTo(se,pe,se+he,pe),i.lineTo(ke-he,pe),i.quadraticCurveTo(ke,pe,ke,pe-he),i.lineTo(ke,W+he),i.quadraticCurveTo(ke,W,ke-he,W),i.closePath(),i.fill(),i.beginPath(),i.strokeStyle="rgba(0,0,0,0.3)",i.moveTo(se+he/2,pe),i.lineTo(ke-he/2,pe),i.stroke(),i.fillStyle=p.color,i.textAlign="right",i.textBaseline="top",i.fillText(P,y===2?29:15,g.mozilla?7*y:6*y)},q=function(){_().getContext&&A(_().toDataURL())},H=function(i){for(var P=[["G",1e9],["M",1e6],["k",1e3]],z=0;z<P.length;++z)if(i>=P[z][1]){i=X(i/P[z][1])+P[z][0];break}return i},X=function(i,P){var z=new Number(i);return z.toFixed(P)};n.setOptions=function(i){p={},i.colour&&(i.color=i.colour);for(var P in c)p[P]=i.hasOwnProperty(P)?i[P]:c[P];return this},n.setImage=function(i){return l=i,q(),this},n.setBubble=function(i,P){return i=i||"",x(i),this},n.reset=function(){l=a,A(a)},n.setOptions(c),r.exports=n})()}(ai)),ai.exports}var ci={},ui={},li={},fo;function dl(){return fo||(fo=1,li.makeCSSManager=r=>{const n=()=>r.cssRules||r.rules,l=d=>{r.deleteRule?r.deleteRule(d):r.removeRule(d)},a=(d,c)=>{r.insertRule?r.insertRule(`${c} {}`,d):r.addRule(c,null,d)},h=[],s=d=>{for(let c=0;c<h.length;c++)if(h[c]===d)return c;return-1};return{selectorStyle:d=>{let c=s(d);return c<0&&(a(0,d),h.splice(0,0,d),c=0),n().item(c).style},removeSelectorStyle:d=>{const c=s(d);c>=0&&(l(c),h.splice(c,1))},info:()=>`${h.length}:${n().length}`}}),li}var ho;function hl(){if(ho)return ui;ho=1;const r=St,n=dl().makeCSSManager,l=vr,a=y=>new URL(y,window.location.href).href,h=async(y,d,c=[],f=()=>!0)=>{typeof c=="function"&&(f=c,c=[]),await new Promise((g,m)=>{let C;const w=()=>{f()&&(C(),g())},_=()=>{const A=new Error(`Ace2Editor.init() error event while waiting for ${d} event`);C(),m(A)};C=()=>{C=()=>{},y.removeEventListener(d,w),y.removeEventListener("error",_)},c.push(C),y.addEventListener(d,w),y.addEventListener("error",_)})},s=async y=>{const d=()=>y.contentDocument,c=[];try{await Promise.race([h(y,"load",c),h(y.contentWindow,"load",c),h(d(),"load",c),h(d(),"DOMContentLoaded",c),h(d(),"readystatechange",c,()=>d.readyState==="complete")])}finally{for(const f of c)f()}},p=function(){let y={editor:this},d=!1,c=[];const f=w=>function(..._){const A=()=>w.apply(this,_);if(d)return A();c.push(A)},g=()=>{for(const w of c)w();c=[]},m=["importText","importAText","focus","setEditable","setOnKeyPress","setOnKeyDown","setNotifyDirty","setProperty","setBaseText","setBaseAttributedText","applyChangesToBase","applyPreparedChangesetToBase","setUserChangeNotificationCallback","setAuthorInfo","callWithAce","execCommand","replaceRange"];for(const w of m)this[w]=f(function(..._){y[`ace_${w}`].apply(this,_)});this.exportText=()=>d?y.ace_exportText():`(awaiting init)
`,this.getInInternationalComposition=()=>d?y.ace_getInInternationalComposition():null,this.prepareUserChangeset=()=>d?y.ace_prepareUserChangeset():null;const C=(w,_)=>{for(const A of _){const x=w.createElement("link");x.rel="stylesheet",x.type="text/css",x.href=a(encodeURI(A)),w.head.appendChild(x)}};this.destroy=f(()=>{y.ace_dispose(),y.frame.parentNode.removeChild(y.frame),y=null}),this.init=async function(w,_){this.importText(_);const A=[`../static/css/iframe_editor.css?v=${clientVars.randomVersionString}`,`../static/css/pad.css?v=${clientVars.randomVersionString}`,...r.callAll("aceEditorCSS").map(ke=>/\/\//.test(ke)?ke:`../static/plugins/${ke}`),`../static/skins/${clientVars.skinName}/pad.css?v=${clientVars.randomVersionString}`],x=clientVars.skinVariants.split(" ").filter(ke=>ke!==""),N=document.createElement("iframe");N.name="ace_outer",N.frameBorder=0,N.title="Ether",N.src="../static/empty.html",y.frame=N,document.getElementById(w).appendChild(N);const B=N.contentWindow;await s(N);const q=B.document;q.documentElement.classList.add("outer-editor","outerdoc",...x),C(q,A);const H=q.createElement("style");H.type="text/css",H.title="dynamicsyntax",q.head.appendChild(H),q.body.id="outerdocbody",q.body.classList.add("outerdocbody",...l.clientPluginNames());const X=q.createElement("div");X.id="sidediv",X.classList.add("sidediv"),q.body.appendChild(X);const i=q.createElement("div");i.id="sidedivinner",i.classList.add("sidedivinner"),X.appendChild(i);const P=q.createElement("div");P.id="linemetricsdiv",P.appendChild(q.createTextNode("x")),q.body.appendChild(P);const z=q.createElement("iframe");z.name="ace_inner",z.title="pad",z.scrolling="no",z.frameBorder=0,z.allowTransparency=!0,z.src="empty.html",q.body.insertBefore(z,q.body.firstChild);const Z=z.contentWindow;await s(z);const F=Z.document;F.documentElement.classList.add("inner-editor",...x),C(F,A);const K=F.createElement("script");K.type="text/javascript",K.src=a(`../static/js/require-kernel.js?v=${clientVars.randomVersionString}`),F.head.appendChild(K);for(const ke of["ace2_inner","ace2_common"]){const he=F.createElement("script");he.type="text/javascript",he.src=a(`../javascripts/lib/ep_etherpad-lite/static/js/${ke}.js?callback=require.define&v=${clientVars.randomVersionString}`),F.head.appendChild(he)}const W=F.createElement("style");W.type="text/css",W.title="dynamicsyntax",F.head.appendChild(W);const se=[];r.callAll("aceInitInnerdocbodyHead",{iframeHTML:se}),F.head.appendChild(F.createRange().createContextualFragment(se.join(`
`))),F.body.id="innerdocbody",F.body.classList.add("innerdocbody"),F.body.setAttribute("spellcheck","false"),F.body.appendChild(F.createTextNode("Â ")),await h(K,"load");const pe=Z.require;pe.setRootURI(a("../javascripts/src")),pe.setLibraryURI(a("../javascripts/lib")),pe.setGlobalKeyPath("require"),Z.Ace2Inner=pe("./ace2_inner"),Z.plugins=pe("./pluginfw/client_plugins"),Z.plugins.adoptPluginsFromAncestorsOf(Z),Z.$=Z.jQuery=pe("./rjquery").jQuery,await new Promise((ke,he)=>Z.plugins.ensure(Ie=>Ie!=null?he(Ie):ke())),await Z.Ace2Inner.init(y,{inner:n(W.sheet),outer:n(H.sheet),parent:n(document.querySelector('style[title="dynamicsyntax"]').sheet)}),d=!0,g()}};return ui.Ace2Editor=p,ui}var po;function $i(){return po||(po=1,function(r){const n=ft().Cookies,l=Oi().padcookie,a=ft().padutils,h=(()=>{let s,p,y;const d={ace:null,viewZoom:100,init:async(c,f)=>{s=hl().Ace2Editor,p=f,y=p.settings,d.ace=new s,await d.ace.init("editorcontainer",""),$("#editorloadingbox").hide(),$('iframe[name="ace_outer"]').contents().find("#outerdocbody").find("#sidedivinner").on("click","div",function(){const m=$(this).index()+1;window.location.hash=`L${m}`}),r.focusOnLine(d.ace),d.ace.setProperty("wraps",!0),d.initViewOptions(),d.setViewOptions(c),$("#viewbarcontents").show()},initViewOptions:()=>{a.bindCheckboxChange($("#options-linenoscheck"),()=>{p.changeViewOption("showLineNumbers",a.getCheckbox($("#options-linenoscheck")))}),a.bindCheckboxChange($("#options-colorscheck"),()=>{l.setPref("showAuthorshipColors",a.getCheckbox("#options-colorscheck")),p.changeViewOption("showAuthorColors",a.getCheckbox("#options-colorscheck"))}),a.bindCheckboxChange($("#options-rtlcheck"),()=>{p.changeViewOption("rtlIsTrue",a.getCheckbox($("#options-rtlcheck")))}),html10n.bind("localized",()=>{p.changeViewOption("rtlIsTrue",html10n.getDirection()==="rtl"),a.setCheckbox($("#options-rtlcheck"),html10n.getDirection()==="rtl")}),$("#viewfontmenu").on("change",()=>{p.changeViewOption("padFontFamily",$("#viewfontmenu").val())}),html10n.bind("localized",()=>{$("#languagemenu").val(html10n.getLanguage()),$("input[data-l10n-id]").each((c,f)=>{f=$(f),f.hasClass("editempty")&&f.val(html10n.get(f.attr("data-l10n-id")))})}),$("#languagemenu").val(html10n.getLanguage()),$("#languagemenu").on("change",()=>{n.set("language",$("#languagemenu").val()),window.html10n.localize([$("#languagemenu").val(),"en"]),$("select").niceSelect&&$("select").niceSelect("update")})},setViewOptions:c=>{const f=(m,C)=>{const w=String(c[m]);return w==="true"?!0:w==="false"?!1:C};let g;g=f("rtlIsTrue",html10n.getDirection()==="rtl"),d.ace.setProperty("rtlIsTrue",g),a.setCheckbox($("#options-rtlcheck"),g),g=f("showLineNumbers",!0),d.ace.setProperty("showslinenumbers",g),a.setCheckbox($("#options-linenoscheck"),g),g=f("showAuthorColors",!0),d.ace.setProperty("showsauthorcolors",g),$("#chattext").toggleClass("authorColors",g),$('iframe[name="ace_outer"]').contents().find("#sidedivinner").toggleClass("authorColors",g),a.setCheckbox($("#options-colorscheck"),g),y.noColors!==!1&&d.ace.setProperty("showsauthorcolors",!y.noColors),d.ace.setProperty("textface",c.padFontFamily||"")},dispose:()=>{d.ace&&(d.ace.destroy(),d.ace=null)},enable:()=>{d.ace&&d.ace.setEditable(!0)},disable:()=>{d.ace&&d.ace.setEditable(!1)},restoreRevisionText:c=>{p.addHistoricalAuthors(c.historicalAuthorData),d.ace.importAText(c.atext,c.apool,!0)}};return d})();r.padeditor=h,r.focusOnLine=s=>{const p=window.location.hash.substr(1);if(p&&p[0]==="L"){const y=$('iframe[name="ace_outer"]').contents().find("#outerdocbody"),d=parseInt(p.substr(1));if(d){const c=$('iframe[name="ace_outer"]').contents().find("iframe").contents().find("#innerdocbody"),f=c.find(`div:nth-child(${d})`);if(f.length!==0){let g=f.offset().top;g+=parseInt(y.css("padding-top").replace("px","")),$("body").hasClass("mobile-layout")||(g+=parseInt(c.css("padding-top").replace("px","")));const C=$('iframe[name="ace_outer"]').contents().find("#outerdocbody").parent();y.css({top:`${g}px`}),C.animate({scrollTop:g});const w=f[0];s.callWithAce(_=>{const A={startPoint:{index:0,focusAtStart:!0,maxIndex:1,node:w},endPoint:{index:0,focusAtStart:!0,maxIndex:1,node:w}};_.ace_setSelection(A)})}}}}}(ci)),ci}var go;function Pi(){if(go)return ii;go=1;const r=ll(),n=ft().padutils,l=Oi().padcookie,a=fl(),h=St,s=$i().padeditor,p=y=>y.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();return ii.chat=(()=>{let y=!1,d=!1,c=0;return{show(){$("#chaticon").removeClass("visible"),$("#chatbox").addClass("visible"),this.scrollDown(!0),c=0,a.setBubble(0),$(".chat-gritter-msg").each(function(){$.gritter.remove(this.id)})},focus:()=>{setTimeout(()=>{$("#chatinput").trigger("focus")},100)},stickToScreen(f){$("#options-stickychat").prop("checked")&&$("#options-stickychat").prop("checked",!1),!pad.settings.hideChat&&(this.show(),y=!y||f,$("#chatbox").hide(),setTimeout(()=>{$("#chatbox, .sticky-container").toggleClass("stickyChat",y),$("#chatbox").css("display","flex")},0),l.setPref("chatAlwaysVisible",y),$("#options-stickychat").prop("checked",y))},chatAndUsers(f){$("#options-chatandusers").is(":checked")||!d||f?(this.stickToScreen(!0),$("#options-stickychat").prop("checked",!0),$("#options-chatandusers").prop("checked",!0),$("#options-stickychat").prop("disabled",!0),d=!0):($("#options-stickychat").prop("disabled",!1),d=!1),l.setPref("chatAndUsers",d),$("#users, .sticky-container").toggleClass("chatAndUsers popup-show stickyUsers",d),$("#chatbox").toggleClass("chatAndUsersChat",d)},hide(){$("#options-stickychat").prop("checked")?(this.stickToScreen(),$("#options-stickychat").prop("checked",!1)):($("#chatcounter").text("0"),$("#chaticon").addClass("visible"),$("#chatbox").removeClass("visible"))},scrollDown(f){$("#chatbox").hasClass("visible")&&(f||!this.lastMessage||!this.lastMessage.position()||this.lastMessage.position().top<$("#chattext").outerHeight()+20)&&($("#chattext").animate({scrollTop:$("#chattext")[0].scrollHeight},{duration:400,queue:!1}),this.lastMessage=$("#chattext > p").eq(-1))},async send(){const f=$("#chatinput").val();if(f.replace(/\s+/,"").length===0)return;const g=new r(f);await h.aCallAll("chatSendMessage",Object.freeze({message:g})),this._pad.collabClient.sendMessage({type:"CHAT_MESSAGE",message:g}),$("#chatinput").val("")},async addMessage(f,g,m){f=r.fromObject(f),f.time+=this._pad.clientTimeOffset,f.authorId||(f.authorId="unknown",console.warn('The "authorId" field of a chat message coming from the server was not present. Replacing with "unknown". This may be a bug or a database corruption.'));const C=q=>`author-${q.replace(/[^a-y0-9]/g,H=>H==="."?"-":`z${H.charCodeAt(0)}z`)}`,w={authorName:f.displayName!=null?f.displayName:html10n.get("pad.userlist.unnamed"),author:f.authorId,text:n.escapeHtmlWithClickableLinks(f.text,"_blank"),message:f,rendered:null,sticky:!1,timestamp:f.time,timeStr:(()=>{let q=`${new Date(f.time).getMinutes()}`,H=`${new Date(f.time).getHours()}`;return q.length===1&&(q=`0${q}`),H.length===1&&(H=`0${H}`),`${H}:${q}`})(),duration:4e3},_=$("#chatinput").is(":focus"),A=$("#chatbox").hasClass("visible");f.authorId!==window.clientVars.userId&&w.authorName!==html10n.get("pad.userlist.unnamed")&&p(w.text).includes(p(w.authorName))&&!_&&!m&&!A&&(c++,a.setBubble(c),w.sticky=!0),await h.aCallAll("chatNewMessage",w);const N=C(w.author),B=w.rendered!=null?$(w.rendered):$("<p>").attr("data-authorId",w.author).addClass(N).append($("<b>").text(`${w.authorName}:`)).append($("<span>").addClass("time").addClass(N).html(w.timeStr)).append(" ").append($("<div>").html(w.text).contents());if(m?B.insertAfter("#chatloadmessagesbutton"):$("#chattext").append(B),B.each((q,H)=>html10n.translateElement(html10n.translations,H)),g&&!m){let q=Number($("#chatcounter").text());if(q++,$("#chatcounter").text(q),!A&&w.duration>0){const H=$("<p>").append($("<span>").addClass("author-name").text(w.authorName)).append($("<div>").html(w.text).contents());H.each((X,i)=>html10n.translateElement(html10n.translations,i)),$.gritter.add({text:H,sticky:w.sticky,time:w.duration,position:"bottom",class_name:"chat-gritter-msg"})}}m||this.scrollDown()},init(f){this._pad=f,$("#chatinput").on("keydown",m=>{if(m.altKey===!0&&m.which===67||m.which===27)return $(":focus").trigger("blur"),s.ace.focus(),m.preventDefault(),!1}),$("#chatinput").on("click",()=>{c=0,a.setBubble(0)});const g=this;$("body:not(#chatinput)").on("keypress",function(m){m.altKey&&m.which===67&&($(this).trigger("blur"),g.show(),$("#chatinput").trigger("focus"),m.preventDefault())}),$("#chatinput").on("keypress",m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),this.send())}),$("#chatcounter").text(0),$("#chatloadmessagesbutton").on("click",()=>{const m=Math.max(this.historyPointer-20,0),C=this.historyPointer;m!==C&&($("#chatloadmessagesbutton").css("display","none"),$("#chatloadmessagesball").css("display","block"),f.collabClient.sendMessage({type:"GET_CHAT_MESSAGES",start:m,end:C}),this.historyPointer=m)})}}})(),ii}var fi={},mo;function pl(){if(mo)return fi;mo=1;const r=Pi().chat,n=St,l=Ai;let a;const h=()=>a&&a.socket,s=(p,y,d,c,f)=>{const g=p;a=f;let m=y.rev,C=!1,w,_="CONNECTING",A=0,x=0,N=500;const B=d.userId,q={};q[B]=d;let H=!1;const X={onUserJoin:()=>{},onUserLeave:()=>{},onUpdateUserInfo:()=>{},onChannelStateChange:()=>{},onClientMessage:()=>{},onInternalAction:()=>{},onConnectionTrouble:()=>{},onServerMessage:()=>{}};l.firefox&&$(window).on("keydown",G=>{G.which===27&&G.preventDefault()});const i=()=>{if(g.getInInternationalComposition())return;const G=Date.now();if(!h()||_==="CONNECTING"){_==="CONNECTING"&&G-x>2e4?Ne("DISCONNECTED","initsocketfail"):setTimeout(i,1e3);return}if(C){G-A>2e4?Ne("DISCONNECTED","slowcommit"):G-A>5e3?X.onConnectionTrouble("SLOW"):setTimeout(i,3e3);return}const we=A+N;if(G<we){setTimeout(i,we-G);return}let fe=!1;if(H)setTimeout(i,3e3);else{const le=g.prepareUserChangeset();le.changeset&&(A=G,C=!0,w={type:"USER_CHANGES",baseRev:m,changeset:le.changeset,apool:le.apool},Z(w),fe=!0,X.onInternalAction("commitPerformed"))}fe&&setTimeout(i,3e3)},P=()=>{g.applyPreparedChangesetToBase(),re();try{X.onInternalAction("commitAcceptedByServer"),X.onConnectionTrouble("OK")}catch{}i()},z=()=>{Ne("CONNECTED"),It(),x=Date.now()},Z=G=>{h().emit("message",{type:"COLLABROOM",component:"pad",data:G})},F=new class{constructor(){this._promiseChain=Promise.resolve()}async enqueue(G){const we=this._promiseChain.then(G);return this._promiseChain=we.catch(()=>{}),await we}},K=G=>{if(!h()||!G.data)return;const we=G;if(we.type!=="COLLABROOM"&&we.type!=="CUSTOM")return;const fe=we.data;if(fe.type==="NEW_CHANGES")F.enqueue(async()=>{await g.getInInternationalComposition();const{newRev:le,changeset:Re,author:Je="",apool:en}=fe;if(le!==m+1){window.console.warn(`bad message revision on NEW_CHANGES: ${le} not ${m+1}`);return}m=le,g.applyChangesToBase(Re,Je,en)});else if(fe.type==="ACCEPT_COMMIT")F.enqueue(()=>{const{newRev:le}=fe;if(![m,m+1].includes(le)){window.console.warn(`bad message revision on ACCEPT_COMMIT: ${le} not ${m+1}`);return}m=le,P()});else if(fe.type==="CLIENT_RECONNECT")F.enqueue(()=>{if(fe.noChanges){ie(!1);return}const{headRev:le,newRev:Re,changeset:Je,author:en="",apool:Ir}=fe;if(Re!==m+1){window.console.warn(`bad message revision on CLIENT_RECONNECT: ${Re} not ${m+1}`);return}m=Re,en===a.getUserId()?P():g.applyChangesToBase(Je,en,Ir),Re===le&&ie(!1)});else if(fe.type==="USER_NEWINFO"){const le=fe.userInfo,Re=le.userId;q[Re]?(q[Re]=le,X.onUpdateUserInfo(le)):(q[Re]=le,X.onUserJoin(le)),se(le)}else if(fe.type==="USER_LEAVE"){const le=fe.userInfo,Re=le.userId;q[Re]&&(delete q[le.userId],ke(le),X.onUserLeave(le))}else if(fe.type==="CLIENT_MESSAGE")X.onClientMessage(fe.payload);else if(fe.type==="CHAT_MESSAGE")r.addMessage(fe.message,!0,!1);else if(fe.type==="CHAT_MESSAGES"){for(let le=fe.messages.length-1;le>=0;le--)r.addMessage(fe.messages[le],!0,!0);r.gotInitalMessages||(r.scrollDown(),r.gotInitalMessages=!0,r.historyPointer=clientVars.chatHead-fe.messages.length),$("#chatloadmessagesball").css("display","none"),r.historyPointer<=0?$("#chatloadmessagesbutton").css("display","none"):$("#chatloadmessagesbutton").css("display","block")}fe.type.indexOf("USER_")>-1&&(fe.payload=fe.userInfo),fe.type==="NEW_CHANGES"&&(fe.payload=fe),n.callAll(`handleClientMessage_${fe.type}`,{payload:fe.payload})},W=G=>{G.userId=B,q[B]=G,se(G),h()&&Z({type:"USERINFO_UPDATE",userInfo:G})},se=G=>{pe(G.userId,G.colorId)},pe=(G,we,fe)=>{typeof we=="number"&&(we=clientVars.colorPalette[we]);const le=we;fe?g.setAuthorInfo(G,{bgcolor:le,fade:.5}):g.setAuthorInfo(G,{bgcolor:le})},ke=G=>{pe(G.userId,G.colorId,!0)},he=()=>$t(q),Ie=G=>{for(const[we,fe]of Object.entries(G))q[we]||pe(we,fe.colorId,!0)},Ne=(G,we)=>{G!==_&&(_=G,X.onChannelStateChange(_,we))},$t=G=>{const we=[];return $.each(G,(fe,le)=>{we.push(le)}),we};let et=[];const Pt=(G,we)=>function(...fe){const le=()=>{G.call(this,...fe)};le.tag=we,_==="CONNECTING"?et.push(le):le()},It=G=>{const we=[];for(let fe=0;fe<et.length;fe++){const le=et[fe];le()}et=we},Nt=G=>{Z({type:"CLIENT_MESSAGE",payload:G})},Yn=()=>m,Qn=()=>{const G={};G.userInfo=q[B],G.baseRev=m,C&&w&&(G.committedChangeset=w.changeset,G.committedChangesetAPool=w.apool,g.applyPreparedChangesetToBase());const we=g.prepareUserChangeset();return we.changeset&&(G.furtherChangeset=we.changeset,G.furtherChangesetAPool=we.apool),G},re=()=>{C=!1,X.onInternalAction("newlyIdle"),Ee()},ie=G=>{H=G},ee=[],ge=G=>{ee.push(G),Ee()},Ee=()=>{setTimeout(()=>{if(!C)for(;ee.length>0;)ee.shift()()},0)},Oe={setOnUserJoin:G=>{X.onUserJoin=G},setOnUserLeave:G=>{X.onUserLeave=G},setOnUpdateUserInfo:G=>{X.onUpdateUserInfo=G},setOnChannelStateChange:G=>{X.onChannelStateChange=G},setOnClientMessage:G=>{X.onClientMessage=G},setOnInternalAction:G=>{X.onInternalAction=G},setOnConnectionTrouble:G=>{X.onConnectionTrouble=G},updateUserInfo:Pt(W),handleMessageFromServer:K,getConnectedUsers:he,sendClientMessage:Nt,sendMessage:Z,getCurrentRevisionNumber:Yn,getMissedChanges:Qn,callWhenNotCommitting:ge,addHistoricalAuthors:Ie,setChannelState:Ne,setStateIdle:re,setIsPendingRevision:ie,set commitDelay(G){N=G},get commitDelay(){return N}};return Ie(y.historicalAuthorData),se(d),g.setProperty("userAuthor",B),g.setBaseAttributedText(y.initialAttributedText,y.apool),g.setUserChangeNotificationCallback(i),z(),Oe};return fi.getCollabClient=s,fi}var di={},hi={},pi={},ur={},yo;function wa(){if(yo)return ur;yo=1;let r;return ur.saveNow=()=>{r.collabClient.sendMessage({type:"SAVE_REVISION"}),$.gritter.add({title:html10n.get("pad.savedrevs.marked"),text:html10n.get("pad.savedrevs.timeslider")||"You can view saved revisions in the timeslider",sticky:!1,time:3e3,class_name:"saved-revision"})},ur.init=n=>{r=n},ur}var Ii="1.13.6",vo=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},br=Array.prototype,Ni=Object.prototype,bo=typeof Symbol<"u"?Symbol.prototype:null,gl=br.push,zn=br.slice,Bn=Ni.toString,ml=Ni.hasOwnProperty,Ca=typeof ArrayBuffer<"u",yl=typeof DataView<"u",vl=Array.isArray,wo=Object.keys,Co=Object.create,ko=Ca&&ArrayBuffer.isView,bl=isNaN,wl=isFinite,ka=!{toString:null}.propertyIsEnumerable("toString"),_o=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Cl=Math.pow(2,53)-1;function Ue(r,n){return n=n==null?r.length-1:+n,function(){for(var l=Math.max(arguments.length-n,0),a=Array(l),h=0;h<l;h++)a[h]=arguments[h+n];switch(n){case 0:return r.call(this,a);case 1:return r.call(this,arguments[0],a);case 2:return r.call(this,arguments[0],arguments[1],a)}var s=Array(n+1);for(h=0;h<n;h++)s[h]=arguments[h];return s[n]=a,r.apply(this,s)}}function Et(r){var n=typeof r;return n==="function"||n==="object"&&!!r}function _a(r){return r===null}function Ri(r){return r===void 0}function Mi(r){return r===!0||r===!1||Bn.call(r)==="[object Boolean]"}function Ta(r){return!!(r&&r.nodeType===1)}function qe(r){var n="[object "+r+"]";return function(l){return Bn.call(l)===n}}const wr=qe("String"),Di=qe("Number"),xa=qe("Date"),Sa=qe("RegExp"),Ea=qe("Error"),Li=qe("Symbol"),qi=qe("ArrayBuffer");var Aa=qe("Function"),kl=vo.document&&vo.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof kl!="function"&&(Aa=function(r){return typeof r=="function"||!1});const Le=Aa,Oa=qe("Object");var $a=yl&&Oa(new DataView(new ArrayBuffer(8))),Fi=typeof Map<"u"&&Oa(new Map),_l=qe("DataView");function Tl(r){return r!=null&&Le(r.getInt8)&&qi(r.buffer)}const Un=$a?Tl:_l,At=vl||qe("Array");function Ot(r,n){return r!=null&&ml.call(r,n)}var xi=qe("Arguments");(function(){xi(arguments)||(xi=function(r){return Ot(r,"callee")})})();const Cr=xi;function Pa(r){return!Li(r)&&wl(r)&&!isNaN(parseFloat(r))}function Bi(r){return Di(r)&&bl(r)}function Ui(r){return function(){return r}}function Ia(r){return function(n){var l=r(n);return typeof l=="number"&&l>=0&&l<=Cl}}function Na(r){return function(n){return n==null?void 0:n[r]}}const dr=Na("byteLength"),xl=Ia(dr);var Sl=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function El(r){return ko?ko(r)&&!Un(r):xl(r)&&Sl.test(Bn.call(r))}const ji=Ca?El:Ui(!1),ze=Na("length");function Al(r){for(var n={},l=r.length,a=0;a<l;++a)n[r[a]]=!0;return{contains:function(h){return n[h]===!0},push:function(h){return n[h]=!0,r.push(h)}}}function Ra(r,n){n=Al(n);var l=_o.length,a=r.constructor,h=Le(a)&&a.prototype||Ni,s="constructor";for(Ot(r,s)&&!n.contains(s)&&n.push(s);l--;)s=_o[l],s in r&&r[s]!==h[s]&&!n.contains(s)&&n.push(s)}function Pe(r){if(!Et(r))return[];if(wo)return wo(r);var n=[];for(var l in r)Ot(r,l)&&n.push(l);return ka&&Ra(r,n),n}function Ma(r){if(r==null)return!0;var n=ze(r);return typeof n=="number"&&(At(r)||wr(r)||Cr(r))?n===0:ze(Pe(r))===0}function Hi(r,n){var l=Pe(n),a=l.length;if(r==null)return!a;for(var h=Object(r),s=0;s<a;s++){var p=l[s];if(n[p]!==h[p]||!(p in h))return!1}return!0}function _e(r){if(r instanceof _e)return r;if(!(this instanceof _e))return new _e(r);this._wrapped=r}_e.VERSION=Ii;_e.prototype.value=function(){return this._wrapped};_e.prototype.valueOf=_e.prototype.toJSON=_e.prototype.value;_e.prototype.toString=function(){return String(this._wrapped)};function To(r){return new Uint8Array(r.buffer||r,r.byteOffset||0,dr(r))}var xo="[object DataView]";function Si(r,n,l,a){if(r===n)return r!==0||1/r===1/n;if(r==null||n==null)return!1;if(r!==r)return n!==n;var h=typeof r;return h!=="function"&&h!=="object"&&typeof n!="object"?!1:Da(r,n,l,a)}function Da(r,n,l,a){r instanceof _e&&(r=r._wrapped),n instanceof _e&&(n=n._wrapped);var h=Bn.call(r);if(h!==Bn.call(n))return!1;if($a&&h=="[object Object]"&&Un(r)){if(!Un(n))return!1;h=xo}switch(h){case"[object RegExp]":case"[object String]":return""+r==""+n;case"[object Number]":return+r!=+r?+n!=+n:+r==0?1/+r===1/n:+r==+n;case"[object Date]":case"[object Boolean]":return+r==+n;case"[object Symbol]":return bo.valueOf.call(r)===bo.valueOf.call(n);case"[object ArrayBuffer]":case xo:return Da(To(r),To(n),l,a)}var s=h==="[object Array]";if(!s&&ji(r)){var p=dr(r);if(p!==dr(n))return!1;if(r.buffer===n.buffer&&r.byteOffset===n.byteOffset)return!0;s=!0}if(!s){if(typeof r!="object"||typeof n!="object")return!1;var y=r.constructor,d=n.constructor;if(y!==d&&!(Le(y)&&y instanceof y&&Le(d)&&d instanceof d)&&"constructor"in r&&"constructor"in n)return!1}l=l||[],a=a||[];for(var c=l.length;c--;)if(l[c]===r)return a[c]===n;if(l.push(r),a.push(n),s){if(c=r.length,c!==n.length)return!1;for(;c--;)if(!Si(r[c],n[c],l,a))return!1}else{var f=Pe(r),g;if(c=f.length,Pe(n).length!==c)return!1;for(;c--;)if(g=f[c],!(Ot(n,g)&&Si(r[g],n[g],l,a)))return!1}return l.pop(),a.pop(),!0}function La(r,n){return Si(r,n)}function pn(r){if(!Et(r))return[];var n=[];for(var l in r)n.push(l);return ka&&Ra(r,n),n}function Vi(r){var n=ze(r);return function(l){if(l==null)return!1;var a=pn(l);if(ze(a))return!1;for(var h=0;h<n;h++)if(!Le(l[r[h]]))return!1;return r!==Ba||!Le(l[Wi])}}var Wi="forEach",qa="has",zi=["clear","delete"],Fa=["get",qa,"set"],Ol=zi.concat(Wi,Fa),Ba=zi.concat(Fa),$l=["add"].concat(zi,Wi,qa);const Ua=Fi?Vi(Ol):qe("Map"),ja=Fi?Vi(Ba):qe("WeakMap"),Ha=Fi?Vi($l):qe("Set"),Va=qe("WeakSet");function Yt(r){for(var n=Pe(r),l=n.length,a=Array(l),h=0;h<l;h++)a[h]=r[n[h]];return a}function Wa(r){for(var n=Pe(r),l=n.length,a=Array(l),h=0;h<l;h++)a[h]=[n[h],r[n[h]]];return a}function Gi(r){for(var n={},l=Pe(r),a=0,h=l.length;a<h;a++)n[r[l[a]]]=l[a];return n}function jn(r){var n=[];for(var l in r)Le(r[l])&&n.push(l);return n.sort()}function Ji(r,n){return function(l){var a=arguments.length;if(n&&(l=Object(l)),a<2||l==null)return l;for(var h=1;h<a;h++)for(var s=arguments[h],p=r(s),y=p.length,d=0;d<y;d++){var c=p[d];(!n||l[c]===void 0)&&(l[c]=s[c])}return l}}const Xi=Ji(pn),dn=Ji(Pe),Ki=Ji(pn,!0);function Pl(){return function(){}}function za(r){if(!Et(r))return{};if(Co)return Co(r);var n=Pl();n.prototype=r;var l=new n;return n.prototype=null,l}function Ga(r,n){var l=za(r);return n&&dn(l,n),l}function Ja(r){return Et(r)?At(r)?r.slice():Xi({},r):r}function Xa(r,n){return n(r),r}function Yi(r){return At(r)?r:[r]}_e.toPath=Yi;function Gn(r){return _e.toPath(r)}function Qi(r,n){for(var l=n.length,a=0;a<l;a++){if(r==null)return;r=r[n[a]]}return l?r:void 0}function Zi(r,n,l){var a=Qi(r,Gn(n));return Ri(a)?l:a}function Ka(r,n){n=Gn(n);for(var l=n.length,a=0;a<l;a++){var h=n[a];if(!Ot(r,h))return!1;r=r[h]}return!!l}function kr(r){return r}function Xt(r){return r=dn({},r),function(n){return Hi(n,r)}}function _r(r){return r=Gn(r),function(n){return Qi(n,r)}}function Jn(r,n,l){if(n===void 0)return r;switch(l??3){case 1:return function(a){return r.call(n,a)};case 3:return function(a,h,s){return r.call(n,a,h,s)};case 4:return function(a,h,s,p){return r.call(n,a,h,s,p)}}return function(){return r.apply(n,arguments)}}function Ya(r,n,l){return r==null?kr:Le(r)?Jn(r,n,l):Et(r)&&!At(r)?Xt(r):_r(r)}function Tr(r,n){return Ya(r,n,1/0)}_e.iteratee=Tr;function Ge(r,n,l){return _e.iteratee!==Tr?_e.iteratee(r,n):Ya(r,n,l)}function Qa(r,n,l){n=Ge(n,l);for(var a=Pe(r),h=a.length,s={},p=0;p<h;p++){var y=a[p];s[y]=n(r[y],y,r)}return s}function es(){}function Za(r){return r==null?es:function(n){return Zi(r,n)}}function ec(r,n,l){var a=Array(Math.max(0,r));n=Jn(n,l,1);for(var h=0;h<r;h++)a[h]=n(h);return a}function hr(r,n){return n==null&&(n=r,r=0),r+Math.floor(Math.random()*(n-r+1))}const hn=Date.now||function(){return new Date().getTime()};function tc(r){var n=function(s){return r[s]},l="(?:"+Pe(r).join("|")+")",a=RegExp(l),h=RegExp(l,"g");return function(s){return s=s==null?"":""+s,a.test(s)?s.replace(h,n):s}}const nc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},rc=tc(nc),Il=Gi(nc),ic=tc(Il),sc=_e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var gi=/(.)^/,Nl={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Rl=/\\|'|\r|\n|\u2028|\u2029/g;function Ml(r){return"\\"+Nl[r]}var Dl=/^\s*(\w|\$)+\s*$/;function oc(r,n,l){!n&&l&&(n=l),n=Ki({},n,_e.templateSettings);var a=RegExp([(n.escape||gi).source,(n.interpolate||gi).source,(n.evaluate||gi).source].join("|")+"|$","g"),h=0,s="__p+='";r.replace(a,function(c,f,g,m,C){return s+=r.slice(h,C).replace(Rl,Ml),h=C+c.length,f?s+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:g?s+=`'+
((__t=(`+g+`))==null?'':__t)+
'`:m&&(s+=`';
`+m+`
__p+='`),c}),s+=`';
`;var p=n.variable;if(p){if(!Dl.test(p))throw new Error("variable is not a bare identifier: "+p)}else s=`with(obj||{}){
`+s+`}
`,p="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var y;try{y=new Function(p,"_",s)}catch(c){throw c.source=s,c}var d=function(c){return y.call(this,c,_e)};return d.source="function("+p+`){
`+s+"}",d}function ac(r,n,l){n=Gn(n);var a=n.length;if(!a)return Le(l)?l.call(r):l;for(var h=0;h<a;h++){var s=r==null?void 0:r[n[h]];s===void 0&&(s=l,h=a),r=Le(s)?s.call(r):s}return r}var Ll=0;function cc(r){var n=++Ll+"";return r?r+n:n}function uc(r){var n=_e(r);return n._chain=!0,n}function lc(r,n,l,a,h){if(!(a instanceof n))return r.apply(l,h);var s=za(r.prototype),p=r.apply(s,h);return Et(p)?p:s}var Qt=Ue(function(r,n){var l=Qt.placeholder,a=function(){for(var h=0,s=n.length,p=Array(s),y=0;y<s;y++)p[y]=n[y]===l?arguments[h++]:n[y];for(;h<arguments.length;)p.push(arguments[h++]);return lc(r,a,this,this,p)};return a});Qt.placeholder=_e;const ts=Ue(function(r,n,l){if(!Le(r))throw new TypeError("Bind must be called on a function");var a=Ue(function(h){return lc(r,a,n,this,l.concat(h))});return a}),Xe=Ia(ze);function Zt(r,n,l,a){if(a=a||[],!n&&n!==0)n=1/0;else if(n<=0)return a.concat(r);for(var h=a.length,s=0,p=ze(r);s<p;s++){var y=r[s];if(Xe(y)&&(At(y)||Cr(y)))if(n>1)Zt(y,n-1,l,a),h=a.length;else for(var d=0,c=y.length;d<c;)a[h++]=y[d++];else l||(a[h++]=y)}return a}const fc=Ue(function(r,n){n=Zt(n,!1,!1);var l=n.length;if(l<1)throw new Error("bindAll must be passed function names");for(;l--;){var a=n[l];r[a]=ts(r[a],r)}return r});function dc(r,n){var l=function(a){var h=l.cache,s=""+(n?n.apply(this,arguments):a);return Ot(h,s)||(h[s]=r.apply(this,arguments)),h[s]};return l.cache={},l}const ns=Ue(function(r,n,l){return setTimeout(function(){return r.apply(null,l)},n)}),hc=Qt(ns,_e,1);function pc(r,n,l){var a,h,s,p,y=0;l||(l={});var d=function(){y=l.leading===!1?0:hn(),a=null,p=r.apply(h,s),a||(h=s=null)},c=function(){var f=hn();!y&&l.leading===!1&&(y=f);var g=n-(f-y);return h=this,s=arguments,g<=0||g>n?(a&&(clearTimeout(a),a=null),y=f,p=r.apply(h,s),a||(h=s=null)):!a&&l.trailing!==!1&&(a=setTimeout(d,g)),p};return c.cancel=function(){clearTimeout(a),y=0,a=h=s=null},c}function gc(r,n,l){var a,h,s,p,y,d=function(){var f=hn()-h;n>f?a=setTimeout(d,n-f):(a=null,l||(p=r.apply(y,s)),a||(s=y=null))},c=Ue(function(f){return y=this,s=f,h=hn(),a||(a=setTimeout(d,n),l&&(p=r.apply(y,s))),p});return c.cancel=function(){clearTimeout(a),a=s=y=null},c}function mc(r,n){return Qt(n,r)}function xr(r){return function(){return!r.apply(this,arguments)}}function yc(){var r=arguments,n=r.length-1;return function(){for(var l=n,a=r[n].apply(this,arguments);l--;)a=r[l].call(this,a);return a}}function vc(r,n){return function(){if(--r<1)return n.apply(this,arguments)}}function rs(r,n){var l;return function(){return--r>0&&(l=n.apply(this,arguments)),r<=1&&(n=null),l}}const bc=Qt(rs,2);function is(r,n,l){n=Ge(n,l);for(var a=Pe(r),h,s=0,p=a.length;s<p;s++)if(h=a[s],n(r[h],h,r))return h}function wc(r){return function(n,l,a){l=Ge(l,a);for(var h=ze(n),s=r>0?0:h-1;s>=0&&s<h;s+=r)if(l(n[s],s,n))return s;return-1}}const Sr=wc(1),ss=wc(-1);function os(r,n,l,a){l=Ge(l,a,1);for(var h=l(n),s=0,p=ze(r);s<p;){var y=Math.floor((s+p)/2);l(r[y])<h?s=y+1:p=y}return s}function Cc(r,n,l){return function(a,h,s){var p=0,y=ze(a);if(typeof s=="number")r>0?p=s>=0?s:Math.max(s+y,p):y=s>=0?Math.min(s+1,y):s+y+1;else if(l&&s&&y)return s=l(a,h),a[s]===h?s:-1;if(h!==h)return s=n(zn.call(a,p,y),Bi),s>=0?s+p:-1;for(s=r>0?p:y-1;s>=0&&s<y;s+=r)if(a[s]===h)return s;return-1}}const as=Cc(1,Sr,os),kc=Cc(-1,ss);function Hn(r,n,l){var a=Xe(r)?Sr:is,h=a(r,n,l);if(h!==void 0&&h!==-1)return r[h]}function _c(r,n){return Hn(r,Xt(n))}function it(r,n,l){n=Jn(n,l);var a,h;if(Xe(r))for(a=0,h=r.length;a<h;a++)n(r[a],a,r);else{var s=Pe(r);for(a=0,h=s.length;a<h;a++)n(r[s[a]],s[a],r)}return r}function wt(r,n,l){n=Ge(n,l);for(var a=!Xe(r)&&Pe(r),h=(a||r).length,s=Array(h),p=0;p<h;p++){var y=a?a[p]:p;s[p]=n(r[y],y,r)}return s}function Tc(r){var n=function(l,a,h,s){var p=!Xe(l)&&Pe(l),y=(p||l).length,d=r>0?0:y-1;for(s||(h=l[p?p[d]:d],d+=r);d>=0&&d<y;d+=r){var c=p?p[d]:d;h=a(h,l[c],c,l)}return h};return function(l,a,h,s){var p=arguments.length>=3;return n(l,Jn(a,s,4),h,p)}}const ln=Tc(1),pr=Tc(-1);function xt(r,n,l){var a=[];return n=Ge(n,l),it(r,function(h,s,p){n(h,s,p)&&a.push(h)}),a}function xc(r,n,l){return xt(r,xr(Ge(n)),l)}function gr(r,n,l){n=Ge(n,l);for(var a=!Xe(r)&&Pe(r),h=(a||r).length,s=0;s<h;s++){var p=a?a[s]:s;if(!n(r[p],p,r))return!1}return!0}function mr(r,n,l){n=Ge(n,l);for(var a=!Xe(r)&&Pe(r),h=(a||r).length,s=0;s<h;s++){var p=a?a[s]:s;if(n(r[p],p,r))return!0}return!1}function Ze(r,n,l,a){return Xe(r)||(r=Yt(r)),(typeof l!="number"||a)&&(l=0),as(r,n,l)>=0}const Sc=Ue(function(r,n,l){var a,h;return Le(n)?h=n:(n=Gn(n),a=n.slice(0,-1),n=n[n.length-1]),wt(r,function(s){var p=h;if(!p){if(a&&a.length&&(s=Qi(s,a)),s==null)return;p=s[n]}return p==null?p:p.apply(s,l)})});function Er(r,n){return wt(r,_r(n))}function Ec(r,n){return xt(r,Xt(n))}function cs(r,n,l){var a=-1/0,h=-1/0,s,p;if(n==null||typeof n=="number"&&typeof r[0]!="object"&&r!=null){r=Xe(r)?r:Yt(r);for(var y=0,d=r.length;y<d;y++)s=r[y],s!=null&&s>a&&(a=s)}else n=Ge(n,l),it(r,function(c,f,g){p=n(c,f,g),(p>h||p===-1/0&&a===-1/0)&&(a=c,h=p)});return a}function Ac(r,n,l){var a=1/0,h=1/0,s,p;if(n==null||typeof n=="number"&&typeof r[0]!="object"&&r!=null){r=Xe(r)?r:Yt(r);for(var y=0,d=r.length;y<d;y++)s=r[y],s!=null&&s<a&&(a=s)}else n=Ge(n,l),it(r,function(c,f,g){p=n(c,f,g),(p<h||p===1/0&&a===1/0)&&(a=c,h=p)});return a}var ql=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function us(r){return r?At(r)?zn.call(r):wr(r)?r.match(ql):Xe(r)?wt(r,kr):Yt(r):[]}function ls(r,n,l){if(n==null||l)return Xe(r)||(r=Yt(r)),r[hr(r.length-1)];var a=us(r),h=ze(a);n=Math.max(Math.min(n,h),0);for(var s=h-1,p=0;p<n;p++){var y=hr(p,s),d=a[p];a[p]=a[y],a[y]=d}return a.slice(0,n)}function Oc(r){return ls(r,1/0)}function $c(r,n,l){var a=0;return n=Ge(n,l),Er(wt(r,function(h,s,p){return{value:h,index:a++,criteria:n(h,s,p)}}).sort(function(h,s){var p=h.criteria,y=s.criteria;if(p!==y){if(p>y||p===void 0)return 1;if(p<y||y===void 0)return-1}return h.index-s.index}),"value")}function Ar(r,n){return function(l,a,h){var s=n?[[],[]]:{};return a=Ge(a,h),it(l,function(p,y){var d=a(p,y,l);r(s,p,d)}),s}}const Pc=Ar(function(r,n,l){Ot(r,l)?r[l].push(n):r[l]=[n]}),Ic=Ar(function(r,n,l){r[l]=n}),Nc=Ar(function(r,n,l){Ot(r,l)?r[l]++:r[l]=1}),Rc=Ar(function(r,n,l){r[l?0:1].push(n)},!0);function Mc(r){return r==null?0:Xe(r)?r.length:Pe(r).length}function Fl(r,n,l){return n in l}const fs=Ue(function(r,n){var l={},a=n[0];if(r==null)return l;Le(a)?(n.length>1&&(a=Jn(a,n[1])),n=pn(r)):(a=Fl,n=Zt(n,!1,!1),r=Object(r));for(var h=0,s=n.length;h<s;h++){var p=n[h],y=r[p];a(y,p,r)&&(l[p]=y)}return l}),Dc=Ue(function(r,n){var l=n[0],a;return Le(l)?(l=xr(l),n.length>1&&(a=n[1])):(n=wt(Zt(n,!1,!1),String),l=function(h,s){return!Ze(n,s)}),fs(r,l,a)});function ds(r,n,l){return zn.call(r,0,Math.max(0,r.length-(n==null||l?1:n)))}function fn(r,n,l){return r==null||r.length<1?n==null||l?void 0:[]:n==null||l?r[0]:ds(r,r.length-n)}function Gt(r,n,l){return zn.call(r,n==null||l?1:n)}function Lc(r,n,l){return r==null||r.length<1?n==null||l?void 0:[]:n==null||l?r[r.length-1]:Gt(r,Math.max(0,r.length-n))}function qc(r){return xt(r,Boolean)}function Fc(r,n){return Zt(r,n,!1)}const hs=Ue(function(r,n){return n=Zt(n,!0,!0),xt(r,function(l){return!Ze(n,l)})}),Bc=Ue(function(r,n){return hs(r,n)});function Vn(r,n,l,a){Mi(n)||(a=l,l=n,n=!1),l!=null&&(l=Ge(l,a));for(var h=[],s=[],p=0,y=ze(r);p<y;p++){var d=r[p],c=l?l(d,p,r):d;n&&!l?((!p||s!==c)&&h.push(d),s=c):l?Ze(s,c)||(s.push(c),h.push(d)):Ze(h,d)||h.push(d)}return h}const Uc=Ue(function(r){return Vn(Zt(r,!0,!0))});function jc(r){for(var n=[],l=arguments.length,a=0,h=ze(r);a<h;a++){var s=r[a];if(!Ze(n,s)){var p;for(p=1;p<l&&Ze(arguments[p],s);p++);p===l&&n.push(s)}}return n}function Wn(r){for(var n=r&&cs(r,ze).length||0,l=Array(n),a=0;a<n;a++)l[a]=Er(r,a);return l}const Hc=Ue(Wn);function Vc(r,n){for(var l={},a=0,h=ze(r);a<h;a++)n?l[r[a]]=n[a]:l[r[a][0]]=r[a][1];return l}function Wc(r,n,l){n==null&&(n=r||0,r=0),l||(l=n<r?-1:1);for(var a=Math.max(Math.ceil((n-r)/l),0),h=Array(a),s=0;s<a;s++,r+=l)h[s]=r;return h}function zc(r,n){if(n==null||n<1)return[];for(var l=[],a=0,h=r.length;a<h;)l.push(zn.call(r,a,a+=n));return l}function ps(r,n){return r._chain?_e(n).chain():n}function gs(r){return it(jn(r),function(n){var l=_e[n]=r[n];_e.prototype[n]=function(){var a=[this._wrapped];return gl.apply(a,arguments),ps(this,l.apply(_e,a))}}),_e}it(["pop","push","reverse","shift","sort","splice","unshift"],function(r){var n=br[r];_e.prototype[r]=function(){var l=this._wrapped;return l!=null&&(n.apply(l,arguments),(r==="shift"||r==="splice")&&l.length===0&&delete l[0]),ps(this,l)}});it(["concat","join","slice"],function(r){var n=br[r];_e.prototype[r]=function(){var l=this._wrapped;return l!=null&&(l=n.apply(l,arguments)),ps(this,l)}});const Bl=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Ii,after:vc,all:gr,allKeys:pn,any:mr,assign:dn,before:rs,bind:ts,bindAll:fc,chain:uc,chunk:zc,clone:Ja,collect:wt,compact:qc,compose:yc,constant:Ui,contains:Ze,countBy:Nc,create:Ga,debounce:gc,default:_e,defaults:Ki,defer:hc,delay:ns,detect:Hn,difference:hs,drop:Gt,each:it,escape:rc,every:gr,extend:Xi,extendOwn:dn,filter:xt,find:Hn,findIndex:Sr,findKey:is,findLastIndex:ss,findWhere:_c,first:fn,flatten:Fc,foldl:ln,foldr:pr,forEach:it,functions:jn,get:Zi,groupBy:Pc,has:Ka,head:fn,identity:kr,include:Ze,includes:Ze,indexBy:Ic,indexOf:as,initial:ds,inject:ln,intersection:jc,invert:Gi,invoke:Sc,isArguments:Cr,isArray:At,isArrayBuffer:qi,isBoolean:Mi,isDataView:Un,isDate:xa,isElement:Ta,isEmpty:Ma,isEqual:La,isError:Ea,isFinite:Pa,isFunction:Le,isMap:Ua,isMatch:Hi,isNaN:Bi,isNull:_a,isNumber:Di,isObject:Et,isRegExp:Sa,isSet:Ha,isString:wr,isSymbol:Li,isTypedArray:ji,isUndefined:Ri,isWeakMap:ja,isWeakSet:Va,iteratee:Tr,keys:Pe,last:Lc,lastIndexOf:kc,map:wt,mapObject:Qa,matcher:Xt,matches:Xt,max:cs,memoize:dc,methods:jn,min:Ac,mixin:gs,negate:xr,noop:es,now:hn,object:Vc,omit:Dc,once:bc,pairs:Wa,partial:Qt,partition:Rc,pick:fs,pluck:Er,property:_r,propertyOf:Za,random:hr,range:Wc,reduce:ln,reduceRight:pr,reject:xc,rest:Gt,restArguments:Ue,result:ac,sample:ls,select:xt,shuffle:Oc,size:Mc,some:mr,sortBy:$c,sortedIndex:os,tail:Gt,take:fn,tap:Xa,template:oc,templateSettings:sc,throttle:pc,times:ec,toArray:us,toPath:Yi,transpose:Wn,unescape:ic,union:Uc,uniq:Vn,unique:Vn,uniqueId:cc,unzip:Wn,values:Yt,where:Ec,without:Bc,wrap:mc,zip:Hc},Symbol.toStringTag,{value:"Module"}));var Ei=gs(Bl);Ei._=Ei;const Ul=Object.freeze(Object.defineProperty({__proto__:null,VERSION:Ii,after:vc,all:gr,allKeys:pn,any:mr,assign:dn,before:rs,bind:ts,bindAll:fc,chain:uc,chunk:zc,clone:Ja,collect:wt,compact:qc,compose:yc,constant:Ui,contains:Ze,countBy:Nc,create:Ga,debounce:gc,default:Ei,defaults:Ki,defer:hc,delay:ns,detect:Hn,difference:hs,drop:Gt,each:it,escape:rc,every:gr,extend:Xi,extendOwn:dn,filter:xt,find:Hn,findIndex:Sr,findKey:is,findLastIndex:ss,findWhere:_c,first:fn,flatten:Fc,foldl:ln,foldr:pr,forEach:it,functions:jn,get:Zi,groupBy:Pc,has:Ka,head:fn,identity:kr,include:Ze,includes:Ze,indexBy:Ic,indexOf:as,initial:ds,inject:ln,intersection:jc,invert:Gi,invoke:Sc,isArguments:Cr,isArray:At,isArrayBuffer:qi,isBoolean:Mi,isDataView:Un,isDate:xa,isElement:Ta,isEmpty:Ma,isEqual:La,isError:Ea,isFinite:Pa,isFunction:Le,isMap:Ua,isMatch:Hi,isNaN:Bi,isNull:_a,isNumber:Di,isObject:Et,isRegExp:Sa,isSet:Ha,isString:wr,isSymbol:Li,isTypedArray:ji,isUndefined:Ri,isWeakMap:ja,isWeakSet:Va,iteratee:Tr,keys:Pe,last:Lc,lastIndexOf:kc,map:wt,mapObject:Qa,matcher:Xt,matches:Xt,max:cs,memoize:dc,methods:jn,min:Ac,mixin:gs,negate:xr,noop:es,now:hn,object:Vc,omit:Dc,once:bc,pairs:Wa,partial:Qt,partition:Rc,pick:fs,pluck:Er,property:_r,propertyOf:Za,random:hr,range:Wc,reduce:ln,reduceRight:pr,reject:xc,rest:Gt,restArguments:Ue,result:ac,sample:ls,select:xt,shuffle:Oc,size:Mc,some:mr,sortBy:$c,sortedIndex:os,tail:Gt,take:fn,tap:Xa,template:oc,templateSettings:sc,throttle:pc,times:ec,toArray:us,toPath:Yi,transpose:Wn,unescape:ic,union:Uc,uniq:Vn,unique:Vn,uniqueId:cc,unzip:Wn,values:Yt,where:Ec,without:Bc,wrap:mc,zip:Hc},Symbol.toStringTag,{value:"Module"}));var So={},Eo;function jl(){if(Eo)return So;Eo=1;const r=Jt.jQuery;return function(n){n.fn.niceSelect=function(l){if(typeof l=="string")return l=="update"?this.each(function(){var s=n(this),p=n(this).next(".nice-select"),y=p.hasClass("open");p.length&&(p.remove(),a(s),y&&s.next().trigger("click"))}):l=="destroy"?(this.each(function(){var s=n(this),p=n(this).next(".nice-select");p.length&&(p.remove(),s.css("display",""))}),n(".nice-select").length==0&&n(document).off(".nice_select")):console.log('Method "'+l+'" does not exist.'),this;this.hide(),this.each(function(){var s=n(this);s.next().hasClass("nice-select")||a(s)});function a(s){s.after(n("<div></div>").addClass("nice-select").addClass(s.attr("class")||"").addClass(s.attr("disabled")?"disabled":"").attr("tabindex",s.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list thin-scrollbar"></ul>'));var p=s.next(),y=s.find("option"),d=s.find("option:selected");p.find(".current").html(d.data("display")||d.text()),y.each(function(c){var f=n(this),g=f.data("display");p.find("ul").append(n("<li></li>").attr("data-value",f.val()).attr("data-display",g||null).addClass("option"+(f.is(":selected")?" selected":"")+(f.is(":disabled")?" disabled":"")).html(f.text()))})}n(document).off(".nice_select"),n(document).on("click.nice_select",".nice-select",function(s){var p=n(this);n(".nice-select").not(p).removeClass("open"),p.toggleClass("open"),p.hasClass("open")?(p.find(".option"),p.find(".focus").removeClass("focus"),p.find(".selected").addClass("focus"),p.closest(".toolbar").length>0&&(p.find(".list").css("left",p.offset().left),p.find(".list").css("top",p.offset().top+p.outerHeight()),p.find(".list").css("min-width",p.outerWidth()+"px")),$listHeight=p.find(".list").outerHeight(),$top=p.parent().offset().top,$bottom=n("body").height()-$top,$maxListHeight=$bottom-p.outerHeight()-20,$maxListHeight<200?(p.addClass("reverse"),$maxListHeight=250):p.removeClass("reverse"),p.find(".list").css("max-height",$maxListHeight+"px")):p.trigger("focus")}),n(document).on("click.nice_select",function(s){n(s.target).closest(".nice-select").length===0&&n(".nice-select").removeClass("open").find(".option")}),n(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(s){var p=n(this),y=p.closest(".nice-select");y.find(".selected").removeClass("selected"),p.addClass("selected");var d=p.data("display")||p.text();y.find(".current").text(d),y.prev("select").val(p.data("value")).trigger("change")}),n(document).on("keydown.nice_select",".nice-select",function(s){var p=n(this),y=n(p.find(".focus")||p.find(".list .option.selected"));if(s.keyCode==32||s.keyCode==13)return p.hasClass("open")?y.trigger("click"):p.trigger("click"),!1;if(s.keyCode==40){if(!p.hasClass("open"))p.trigger("click");else{var d=y.nextAll(".option:not(.disabled)").first();d.length>0&&(p.find(".focus").removeClass("focus"),d.addClass("focus"))}return!1}else if(s.keyCode==38){if(!p.hasClass("open"))p.trigger("click");else{var c=y.prevAll(".option:not(.disabled)").first();c.length>0&&(p.find(".focus").removeClass("focus"),c.addClass("focus"))}return!1}else if(s.keyCode==27)p.hasClass("open")&&p.trigger("click");else if(s.keyCode==9&&p.hasClass("open"))return!1});var h=document.createElement("a").style;return h.cssText="pointer-events:auto",h.pointerEvents!=="auto"&&n("html").addClass("no-csspointerevents"),this}}(r),So}var Ao;function ms(){if(Ao)return pi;Ao=1;const r=Ai,n=St,l=ft().padutils,a=$i().padeditor,h=wa(),s=Ul;jl();class p{constructor(c){this.$el=c}getCommand(){return this.$el.attr("data-key")}getValue(){if(this.isSelect())return this.$el.find("select").val()}setValue(c){if(this.isSelect())return this.$el.find("select").val(c)}getType(){return this.$el.attr("data-type")}isSelect(){return this.getType()==="select"}isButton(){return this.getType()==="button"}bind(c){this.isButton()?this.$el.on("click",f=>{$(":focus").trigger("blur"),c(this.getCommand(),this),f.preventDefault()}):this.isSelect()&&this.$el.find("select").on("change",()=>{c(this.getCommand(),this)})}}const y=(()=>{let f=100;const m=1/25,C=-.5,w=1,_=1.5,A=l.makeAnimationScheduler(()=>f===-100||f===100?!1:f>=_?(f=100,$("#syncstatussyncing").css("display","none"),$("#syncstatusdone").css("display","none"),!1):f<0?(f+=m,f>=0&&($("#syncstatussyncing").css("display","none"),$("#syncstatusdone").css("display","block").css("opacity",1)),!0):(f+=m,f>=w&&$("#syncstatusdone").css("opacity",(_-f)/(_-w)),!0),m*1e3);return{syncing:()=>{f=-100,$("#syncstatussyncing").css("display","block"),$("#syncstatusdone").css("display","none")},done:()=>{f=C,A.scheduleAnimation()}}})();return pi.padeditbar=new class{constructor(){this._editbarPosition=0,this.commands={},this.dropdowns=[]}init(){$("#editbar .editbarbutton").attr("unselectable","on"),this.enable(),$("#editbar [data-key]").each((d,c)=>{$(c).off("click"),new p($(c)).bind((f,g)=>{this.triggerCommand(f,g)})}),$("body:not(#editorcontainerbox)").on("keydown",d=>{this._bodyKeyEvent(d)}),$(".show-more-icon-btn").on("click",()=>{$(".toolbar").toggleClass("full-icons")}),this.checkAllIconsAreDisplayedInToolbar(),$(window).on("resize",s.debounce(()=>this.checkAllIconsAreDisplayedInToolbar(),100)),this._registerDefaultCommands(),n.callAll("postToolbarInit",{toolbar:this,ace:a.ace}),r.safari||$("select").niceSelect(),$('iframe[name="ace_outer"]').contents().on("scroll",d=>{$("#editbar").toggleClass("editor-scrolled",$(d.currentTarget).scrollTop()>2)})}isEnabled(){return!0}disable(){$("#editbar").addClass("disabledtoolbar").removeClass("enabledtoolbar")}enable(){$("#editbar").addClass("enabledtoolbar").removeClass("disabledtoolbar")}registerCommand(d,c){return this.commands[d]=c,this}registerDropdownCommand(d,c){c=c||d,this.dropdowns.push(c),this.registerCommand(d,()=>{this.toggleDropDown(c)})}registerAceCommand(d,c){this.registerCommand(d,(f,g,m)=>{g.callWithAce(C=>{c(f,C,m)},f,!0)})}triggerCommand(d,c){this.isEnabled()&&this.commands[d]&&this.commands[d](d,a.ace,c),a.ace&&a.ace.focus()}toggleDropDown(d,c=null){let f=null;try{if(d==="users"&&$("#users").hasClass("stickyUsers"))return;if($(".nice-select").removeClass("open"),$(".toolbar-popup").removeClass("popup-show"),d==="none")for(const g of this.dropdowns){if(g==="users")continue;const m=$(`#${g}`);m.find("button#forcereconnect:visible").length>0||m.hasClass("popup-show")&&($(`li[data-key=${g}] > a`).removeClass("selected"),m.removeClass("popup-show"))}else for(const g of this.dropdowns){const m=$(`#${g}`);m.hasClass("popup-show")?($(`li[data-key=${g}] > a`).removeClass("selected"),m.removeClass("popup-show")):g===d&&($(`li[data-key=${g}] > a`).addClass("selected"),m.addClass("popup-show"))}}catch(g){f=g||new Error(g)}finally{c&&Promise.resolve().then(()=>c(f))}}setSyncStatus(d){d==="syncing"?y.syncing():d==="done"&&y.done()}setEmbedLinks(){const d=window.location.href.split("?")[0],c="?showControls=true&showChat=true&showLineNumbers=true&useMonospaceFont=false",f='width="100%" height="600" frameborder="0"';if($("#readonlyinput").is(":checked")){const g=d.split("/");g.pop();const m=`${g.join("/")}/${clientVars.readOnlyId}`;$("#embedinput").val(`<iframe name="embed_readonly" src="${m}${c}" ${f}></iframe>`),$("#linkinput").val(m)}else $("#embedinput").val(`<iframe name="embed_readwrite" src="${d}${c}" ${f}></iframe>`),$("#linkinput").val(d)}checkAllIconsAreDisplayedInToolbar(){$(".toolbar").removeClass("cropped"),$("body").removeClass("mobile-layout");const d=$(".toolbar .menu_left")[0];(d&&d.scrollWidth>$(".toolbar").width()-280||$(".toolbar").width()<1e3)&&$("body").addClass("mobile-layout"),d&&d.scrollWidth>$(".toolbar").width()&&$(".toolbar").addClass("cropped")}_bodyKeyEvent(d){if(d.keyCode===120&&d.altKey||d.keyCode===27)if($(":focus").parents(".toolbar").length===1)this.toggleDropDown("none"),$(":focus").trigger("blur"),typeof pad>"u"?$("#editorcontainerbox").trigger("focus"):(a.ace.focus(),d.preventDefault());else{const c=$("#editbar button").first();$(d.currentTarget).trigger("blur"),c.trigger("focus"),d.preventDefault()}if($(":focus").parents(".toolbar").length===1){if(d.keyCode!==39&&d.keyCode!==37)return;const c=$("#editbar").find("button, select");if(d.keyCode===37){if($(".popup").is(":visible")||d.target.localName==="input")return;this._editbarPosition--,this._editbarPosition===-1&&(this._editbarPosition=c.length-1),$(c[this._editbarPosition]).trigger("focus")}if(d.keyCode===39){if($(".popup").is(":visible")||d.target.localName==="input")return;this._editbarPosition++,this._editbarPosition>=c.length&&(this._editbarPosition=0),$(c[this._editbarPosition]).trigger("focus")}}}_registerDefaultCommands(){this.registerDropdownCommand("showusers","users"),this.registerDropdownCommand("settings"),this.registerDropdownCommand("connectivity"),this.registerDropdownCommand("import_export"),this.registerDropdownCommand("embed"),this.registerCommand("settings",()=>{this.toggleDropDown("settings"),$("#options-stickychat").trigger("focus")}),this.registerCommand("import_export",()=>{this.toggleDropDown("import_export"),$("#importfileinput").length!==0?setTimeout(()=>{$("#importfileinput").trigger("focus")},100):$(".exportlink").first().trigger("focus")}),this.registerCommand("showusers",()=>{this.toggleDropDown("users"),$("#myusernameedit").trigger("focus")}),this.registerCommand("embed",()=>{this.setEmbedLinks(),this.toggleDropDown("embed"),$("#linkinput").trigger("focus").trigger("select")}),this.registerCommand("savedRevision",()=>{h.saveNow()}),this.registerCommand("showTimeSlider",()=>{document.location=`${document.location.pathname}/timeslider`});const d=(c,f)=>{f.ace_toggleAttributeOnSelection(c)};this.registerAceCommand("bold",d),this.registerAceCommand("italic",d),this.registerAceCommand("underline",d),this.registerAceCommand("strikethrough",d),this.registerAceCommand("undo",(c,f)=>{f.ace_doUndoRedo(c)}),this.registerAceCommand("redo",(c,f)=>{f.ace_doUndoRedo(c)}),this.registerAceCommand("insertunorderedlist",(c,f)=>{f.ace_doInsertUnorderedList()}),this.registerAceCommand("insertorderedlist",(c,f)=>{f.ace_doInsertOrderedList()}),this.registerAceCommand("indent",(c,f)=>{f.ace_doIndentOutdent(!1)||f.ace_doInsertUnorderedList()}),this.registerAceCommand("outdent",(c,f)=>{f.ace_doIndentOutdent(!0)}),this.registerAceCommand("clearauthorship",(c,f)=>{const g=f.ace_getRep();let m=!1;const C=g.lines.atIndex(g.lines.length()-1).width-1,w=g.lines.length()-1;g.selStart[0]===0&&g.selStart[1]===0&&g.selEnd[0]===w&&g.selEnd[1]===C&&(m=!0),!(g.selStart&&g.selEnd)||f.ace_isCaret()||m?window.confirm(html10n.get("pad.editbar.clearcolors"))&&f.ace_performDocumentApplyAttributesToCharRange(0,f.ace_getRep().alltext.length,[["author",""]]):f.ace_setAttributeOnSelection("author","")}),this.registerCommand("timeslider_returnToPad",c=>{document.referrer.length>0&&document.referrer.substring(document.referrer.lastIndexOf("/")-1,document.referrer.lastIndexOf("/"))==="p"?document.location=document.referrer:document.location=document.location.href.substring(0,document.location.href.lastIndexOf("/"))})}},pi}var mi={},Oo;function Hl(){if(Oo)return mi;Oo=1,mi.showCountDownTimerToReconnectOnModal=(m,C)=>{if(clientVars.automaticReconnectionTimeout&&m.is(".with_reconnect_timer")){r(m);const w=l(m,C);m.find("#cancelreconnect").one("click",()=>{w.cancel(),a(m)}),h(m)}};const r=m=>{if(m.find("#cancelreconnect").length===0){const w=m.find("#defaulttext"),_=m.find("#forcereconnect"),A=$("<p>").addClass("reconnecttimer").append($("<span>").attr("data-l10n-id","pad.modals.reconnecttimer").text("Trying to reconnect in")).append(" ").append($("<span>").addClass("timetoexpire")),x=$("<button>").attr("id","cancelreconnect").attr("data-l10n-id","pad.modals.cancel").text("Cancel");n(A),n(x),A.insertAfter(w),x.insertAfter(_)}},n=m=>{html10n.translateElement(html10n.translations,m.get(0))},l=(m,C)=>{const w=clientVars.automaticReconnectionTimeout*f.nextTry(),_=new g(w);return _.onTick((A,x)=>{c(m,A,x)}).onExpire(()=>{m.is(".disconnected")?p(()=>{d(m)},C):d(m)}).start(),_},a=m=>{s(m,!0)},h=m=>{s(m,!1)},s=(m,C)=>{m.find("#cancelreconnect, .reconnecttimer").toggleClass("hidden",C),m.find("#defaulttext").toggleClass("hidden",!C)},p=(m,C)=>{y(m,C),C.socket.connect()},y=(m,C)=>{f.counter===1&&C.socket.once("connect",m)},d=m=>{m.find("#forcereconnect").trigger("click")},c=(m,C,w)=>{C=C<10?`0${C}`:C,w=w<10?`0${w}`:w,m.find(".timetoexpire").text(`${C}:${w}`)},f={counter:0,nextTry(){const m=2**this.counter;return this.counter++,m}},g=function(m,C){this.duration=m,this.granularity=C||1e3,this.running=!1,this.onTickCallbacks=[],this.onExpireCallbacks=[]};return g.prototype.start=function(){if(this.running)return;this.running=!0;const m=Date.now(),C=this;let w;const _=()=>{w=C.duration-Math.floor((Date.now()-m)/1e3),w>0?(C.timeoutId=setTimeout(_,C.granularity),C.tick(w)):(C.running=!1,C.tick(0),C.expire())};_()},g.prototype.tick=function(m){const C=g.parse(m);this.onTickCallbacks.forEach(function(w){w.call(this,C.minutes,C.seconds)},this)},g.prototype.expire=function(){this.onExpireCallbacks.forEach(function(m){m.call(this)},this)},g.prototype.onTick=function(m){return typeof m=="function"&&this.onTickCallbacks.push(m),this},g.prototype.onExpire=function(m){return typeof m=="function"&&this.onExpireCallbacks.push(m),this},g.prototype.cancel=function(){return this.running=!1,clearTimeout(this.timeoutId),this},g.parse=m=>({minutes:m/60|0,seconds:m%60|0}),mi}var $o;function Gc(){if($o)return hi;$o=1;const r=ms().padeditbar,n=Hl(),l=(()=>{let a;return{init:s=>{a=s},showModal:s=>{r.toggleDropDown("none"),$("#connectivity .visible").removeClass("visible"),$(`#connectivity .${s}`).addClass("visible");const p=$(`#connectivity .${s}`);n.showCountDownTimerToReconnectOnModal(p,a),r.toggleDropDown("connectivity")},showOverlay:()=>{$("#toolbar-overlay").show()},hideOverlay:()=>{$("#toolbar-overlay").hide()}}})();return hi.padmodals=l,hi}var Po;function Vl(){if(Po)return di;Po=1;const r=Gc().padmodals,n=(()=>{let l={what:"connecting"};return{init:()=>{$("button#forcereconnect").on("click",()=>{window.location.reload()})},connected:()=>{l={what:"connected"},r.showModal("connected"),r.hideOverlay()},reconnecting:()=>{l={what:"reconnecting"},r.showModal("reconnecting"),r.showOverlay()},disconnected:h=>{if(l.what==="disconnected")return;l={what:"disconnected",why:h};const s=["badChangeset","corruptPad","deleted","disconnected","initsocketfail","looping","rateLimited","rejected","slowcommit","unauth","userdup"];let p=String(h);s.indexOf(p)===-1&&(p="disconnected"),r.showModal(p),r.showOverlay()},isFullyConnected:()=>l.what==="connected",getStatus:()=>l}})();return di.padconnectionstatus=n,di}var yi={},Io;function Jc(){if(Io)return yi;Io=1;const r=(()=>{const n=()=>{$("#import .importframe").remove();const y=$("<iframe>").css("display","none").attr("name","importiframe").addClass("importframe");$("#import").append(y)},l=()=>{$("#importsubmitinput").addClass("throbbold"),$("#importformfilediv").addClass("importformenabled"),$("#importsubmitinput").prop("disabled",!1),$("#importmessagefail").fadeOut("fast")},a=function(y){y.preventDefault(),$("#importmessagefail").fadeOut("fast"),window.confirm(html10n.get("pad.impexp.confirmimport"))&&($("#importsubmitinput").attr({disabled:!0}).val(html10n.get("pad.impexp.importing")),window.setTimeout(()=>$("#importfileinput").attr({disabled:!0}),0),$("#importarrow").stop(!0,!0).hide(),$("#importstatusball").show(),(async()=>{const{code:d,message:c,data:{directDatabaseAccess:f}={}}=await $.ajax({url:`${window.location.href.split("?")[0].split("#")[0]}/import`,method:"POST",data:new FormData(this),processData:!1,contentType:!1,dataType:"json",timeout:25e3}).catch(g=>g.responseJSON?g.responseJSON:{code:2,message:"Unknown import error"});d!==0?h(c):($("#import_export").removeClass("popup-show"),f&&window.location.reload()),$("#importsubmitinput").prop("disabled",!1).val(html10n.get("pad.impexp.importbutton")),window.setTimeout(()=>$("#importfileinput").prop("disabled",!1),0),$("#importstatusball").hide(),n()})())},h=y=>{const d=["convertFailed","uploadFailed","padHasData","maxFileSize","permission"],c=html10n.get(`pad.impexp.${d.indexOf(y)!==-1?y:"copypaste"}`),f=g=>{$("#importmessagefail").empty().append($("<strong>").css("color","red").text(`${html10n.get("pad.impexp.importfailed")}: `)).append(document.createTextNode(c))[g?"fadeIn":"show"]()};$("#importexport .importmessage").is(":visible")?($("#importmessagesuccess").fadeOut("fast"),$("#importmessagefail").fadeOut("fast",()=>f(!0))):f()};function s(){let y=$(this);return y.hasClass("exporthrefpdf")?y="PDF":y.hasClass("exporthrefdoc")?y="Microsoft Word":y.hasClass("exporthrefodt")?y="OpenDocument":y="this file",alert(html10n.get("pad.impexp.exportdisabled",{type:y})),!1}return{init:y=>{const d=/.*\/p\/[^/]+/.exec(document.location.pathname)||clientVars.padId;$("#importsubmitinput").val(html10n.get("pad.impexp.importbutton")),html10n.bind("localized",()=>{$("#importsubmitinput").val(html10n.get("pad.impexp.importbutton"))}),$("#exporthtmla").attr("href",`${d}/export/html`),$("#exportetherpada").attr("href",`${d}/export/etherpad`),$("#exportplaina").attr("href",`${d}/export/txt`),clientVars.exportAvailable==="no"?($("#exportworda").remove(),$("#exportpdfa").remove(),$("#exportopena").remove(),$("#importmessageabiword").show()):clientVars.exportAvailable==="withoutPDF"?($("#exportpdfa").remove(),$("#exportworda").attr("href",`${d}/export/doc`),$("#exportopena").attr("href",`${d}/export/odt`),$("#importexport").css({height:"142px"}),$("#importexportline").css({height:"142px"})):($("#exportworda").attr("href",`${d}/export/doc`),$("#exportpdfa").attr("href",`${d}/export/pdf`),$("#exportopena").attr("href",`${d}/export/odt`)),n(),$("#importfileinput").on("change",l),$("#importform").off("submit").on("submit",a),$(".disabledexport").on("click",s)},disable:()=>{$("#impexp-disabled-clickcatcher").show(),$("#import").css("opacity",.5),$("#impexp-export").css("opacity",.5)},enable:()=>{$("#impexp-disabled-clickcatcher").hide(),$("#import").css("opacity",1),$("#impexp-export").css("opacity",1)}}})();return yi.padimpexp=r,yi}var vi={},No;function Wl(){if(No)return vi;No=1;const r=ft().padutils,n=St;let l={},a=!1,h=!1;const s=(()=>{const c=(()=>{const x=()=>`usertr${x.counter++}`;x.counter=1;const N=[],B=[],q=[],H=-12,X=12,i=()=>{for(let re=B.length-1;re>=0;re--){const ie=B[re],ee=++ie.animationStep,ge=P(ee,ie.animationPower),Ee=Ne(ie),Oe=ie.opacity===void 0?1:ie.opacity;ee<=-z?Ee.find("td").height(ge):ee===-z+1?Ee.empty().append(he(ge,ie.data)).find("td").css("opacity",Oe*1/z):ee<0?Ee.find("td").css("opacity",Oe*(z- -ee)/z).height(ge):ee===0&&(Ee.empty().append(he(ge,ie.data)).find("td").css("opacity",Oe*1).height(ge),B.splice(re,1))}for(let re=N.length-1;re>=0;re--){const ie=N[re],ee=++ie.animationStep,ge=Ne(ie),Ee=P(ee,ie.animationPower),Oe=ie.opacity===void 0?1:ie.opacity;ee<z?ge.find("td").css("opacity",Oe*(z-ee)/z).height(Ee):ee===z?ge.empty().append(se(Ee)):ee<=X?ge.find("td").height(Ee):(N.splice(re,1),ge.remove())}return et(),B.length>0||N.length>0},P=(re,ie)=>{let ee=Math.abs(re/12);return ie===2?ee**=2:ie===3?ee**=3:ie===4?ee**=4:ie>=5&&(ee**=5),Math.round(26*(1-ee))},z=6,Z=20,F=2,{scheduleAnimation:K}=r.makeAnimationScheduler(i,Z,F),W=4,se=re=>$("<td>").attr("colspan",W).css("border",0).css("height",`${re}px`),pe=re=>!re.name&&re.status!=="Disconnected",ke=(re,ie,ee)=>{const ge=he(ie,ee);return pe(ee)&&re.find("td.usertdname input:enabled").length>0?ge.each((Ee,Oe)=>{const G=$(re.find("td").get(Ee));G.hasClass("usertdname")?$(Oe).remove():G.replaceWith(Oe)}):re.empty().append(ge),re},he=(re,ie)=>{let ee;return ie.name?ee=document.createTextNode(ie.name):(ee=$("<input>").attr("data-l10n-id","pad.userlist.unnamed").attr("type","text").addClass("editempty").addClass("newinput").attr("value",html10n.get("pad.userlist.unnamed")),pe(ie)&&ee.attr("disabled","disabled")),$().add($("<td>").css("height",`${re}px`).addClass("usertdswatch").append($("<div>").addClass("swatch").css("background",r.escapeHtml(ie.color)).html("&nbsp;"))).add($("<td>").css("height",`${re}px`).addClass("usertdname").append(ee)).add($("<td>").css("height",`${re}px`).addClass("activity").text(ie.activity))},Ie=(re,ie,ee)=>$("<tr>").attr("data-authorId",ee).attr("id",re).append(ie),Ne=re=>$(`#${re.domId}`),$t=re=>{re.data&&re.data.status==="Disconnected"?re.opacity=.5:delete re.opacity},et=()=>{$("#otheruserstable input.newinput").each(function(){const ie=$(this).closest("tr");if(ie.length>0){const ee=ie.parent().children().index(ie);if(ee>=0){const ge=q[ee].data.id;m($(this),ge)}}}).removeClass("newinput")},Pt=(re,ie,ee)=>{re=Math.max(0,Math.min(q.length,re)),ee=ee===void 0?4:ee;const ge=x(),Ee={data:ie,animationStep:H,domId:ge,animationPower:ee},Oe=ie.id;$t(Ee),q.splice(re,0,Ee);let G;return ee===0?(G=Ie(ge,he(P(0),ie),Oe),Ee.animationStep=0):(B.push(Ee),G=Ie(ge,se(P(H)),Oe)),$("table#otheruserstable").show(),re===0?$("table#otheruserstable").prepend(G):Ne(q[re-1]).after(G),ee!==0&&K(),et(),Ee},It=(re,ie)=>{const ee=q[re];if(ee&&(ee.data=ie,$t(ee),ee.animationStep===0)){const ge=Ne(ee);ke(ge,P(0),ee.data).find("td").css("opacity",ee.opacity===void 0?1:ee.opacity),et()}},Nt=(re,ie)=>{ie=ie===void 0?4:ie;const ee=q[re];ee&&(q.splice(re,1),ie===0?Ne(ee).remove():(ee.animationStep=-ee.animationStep,ee.animationPower=ie,N.push(ee),K())),q.length===0&&$("table#otheruserstable").hide()};return{insertRow:Pt,removeRow:Nt,moveRow:(re,ie,ee)=>{ee=ee===void 0?1:ee;const ge=q[re];if(ge&&re!==ie){const Ee=ge.data;Nt(re,ee),Pt(ie,Ee,ee)}},updateRow:It}})(),f=[],g=[],m=(x,N)=>{w(x,()=>{const B=C(N);return B>=0&&f[B].name||""},B=>{B?(x.attr("disabled","disabled"),_.suggestUserName(N,B)):(x.addClass("editempty"),x.val(html10n.get("pad.userlist.unnamed")))})},C=x=>{let N=-1;for(let B=0;B<f.length;B++)if(f[B].userId===x){N=B;break}return N},w=(x,N,B)=>{x.on("focus",q=>{const H=N();x.val()!==H&&x.val(H),x.addClass("editactive").removeClass("editempty")}),x.on("blur",q=>{const H=x.removeClass("editactive").val();B(H)}),r.bindEnterAndEscape(x,()=>{x.trigger("blur")},()=>{x.val(N()).trigger("blur")}),x.prop("disabled",!1).addClass("editable")};let _;const A={init:(x,N)=>{_=N,A.setMyUserInfo(x),$("#online_count").length===0&&$("#editbar [data-key=showusers] > a").append('<span id="online_count">1</span>'),$("#otheruserstable tr").remove(),$("#myusernameedit").addClass("myusernameedithoverable"),w($("#myusernameedit"),()=>l.name||"",B=>{l.name=B,_.notifyChangeName(B),window.setTimeout(()=>{A.renderMyUserInfo()},0)}),$("#myswatchbox").on("click",d),$("#mycolorpicker .pickerswatchouter").on("click",function(){$("#mycolorpicker .pickerswatchouter").removeClass("picked"),$(this).addClass("picked")}),$("#mycolorpickersave").on("click",()=>{y(!0)}),$("#mycolorpickercancel").on("click",()=>{y(!1)})},usersOnline:()=>{const x=[].concat(f);return x.push(l),x},users:()=>{const x=A.usersOnline(),N=clientVars.collab_client_vars.historicalAuthorData;for(const[B,{userId:q}]of Object.entries(N)){let H=!1;x.forEach(X=>{X.userId===q&&(H=!0)}),H===!1&&x.push(N[B])}return x},setMyUserInfo:x=>{typeof x.colorId=="number"&&(x.colorId=clientVars.colorPalette[x.colorId]),l=$.extend({},x),A.renderMyUserInfo()},userJoinOrUpdate:x=>{if(!x.userId||x.userId===l.userId)return;n.callAll("userJoinOrUpdate",{userInfo:x});const N={};N.color=typeof x.colorId=="number"?clientVars.colorPalette[x.colorId]:x.colorId,N.name=x.name,N.status="",N.activity="",N.id=x.userId;const B=C(x.userId);let q=f.length;B>=0&&q--;const H=r.binarySearch(q,X=>{B>=0&&X>=B&&X++;const i=f[X],P=(i.name||"").toLowerCase(),z=(x.name||"").toLowerCase(),Z=i.userId,F=x.userId;return P>z||P===z&&Z>F});B>=0?B===H?(f[B]=x,g[B]=N,c.updateRow(B,N)):(f.splice(B,1),g.splice(B,1),f.splice(H,0,x),g.splice(H,0,N),c.updateRow(B,N),c.moveRow(B,H)):(f.splice(H,0,x),g.splice(H,0,N),c.insertRow(H,N)),A.updateNumberOfOnlineUsers()},updateNumberOfOnlineUsers:()=>{let x=1;for(let N=0;N<g.length;N++)g[N].status===""&&x++;return $("#online_count").text(x),x},userLeave:x=>{const N=C(x.userId);if(N>=0){const B=g[N];B.status="Disconnected",c.updateRow(N,B),B.leaveTimer&&window.clearTimeout(B.leaveTimer);const q=x.userId,H=window.setTimeout(()=>{const X=C(q);if(X>=0){const i=g[X];i.status==="Disconnected"&&i.leaveTimer===H&&(f.splice(X,1),g.splice(X,1),c.removeRow(X),n.callAll("userLeave",{userInfo:x}))}},8e3);B.leaveTimer=H}A.updateNumberOfOnlineUsers()},renderMyUserInfo:()=>{l.name?$("#myusernameedit").removeClass("editempty").val(l.name):$("#myusernameedit").attr("placeholder",html10n.get("pad.userlist.entername")),a?$("#myswatchbox").addClass("myswatchboxunhoverable").removeClass("myswatchboxhoverable"):$("#myswatchbox").addClass("myswatchboxhoverable").removeClass("myswatchboxunhoverable"),$("#myswatch").css({"background-color":l.colorId}),$("li[data-key=showusers] > a").css({"box-shadow":`inset 0 0 30px ${l.colorId}`})}};return A})(),p=c=>$("#colorpickerswatches li").index(c),y=c=>{if(c){let f=$("#mycolorpickerpreview").css("background-color");const g=f.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(g){delete g[0];for(let m=1;m<=3;++m)g[m]=parseInt(g[m]).toString(16),g[m].length===1&&(g[m]=`0${g[m]}`);f=`#${g.join("")}`}l.colorId=f,pad.notifyChangeColor(f),s.renderMyUserInfo()}a=!1,$("#mycolorpicker").removeClass("popup-show")},d=()=>{if($.farbtastic("#colorpicker").setColor(l.colorId),!a){const c=pad.getColorPalette();if(!h){const f=$("#colorpickerswatches");for(let g=0;g<c.length;g++){const m=$("<li>",{style:`background: ${c[g]};`});m.appendTo(f),m.on("click",C=>{$("#colorpickerswatches li").removeClass("picked"),$(C.target).addClass("picked");const w=p($("#colorpickerswatches .picked"));pad.notifyChangeColor(w)})}h=!0}$("#mycolorpicker").addClass("popup-show"),a=!0,$("#colorpickerswatches li").removeClass("picked"),$($("#colorpickerswatches li")[l.colorId]).addClass("picked")}};return vi.paduserlist=s,vi}var bi={},Ro;function zl(){if(Ro)return bi;Ro=1;const r={};return r.isCssHex=n=>/^#([0-9a-f]{3}|[0-9a-f]{6})$/i.test(n),r.css2triple=n=>{const l=r.css2sixhex(n),a=h=>+`0x${h}`/255;return[a(l.substr(0,2)),a(l.substr(2,2)),a(l.substr(4,2))]},r.css2sixhex=n=>{let l=/[0-9a-fA-F]+/.exec(n)[0];if(l.length!==6){const a=l.charAt(0),h=l.charAt(1),s=l.charAt(2);l=a+a+h+h+s+s}return l},r.triple2css=n=>{const l=a=>`0${r.clamp(Math.round(a*255),0,255).toString(16)}`.slice(-2);return`#${l(n[0])}${l(n[1])}${l(n[2])}`},r.clamp=(n,l,a)=>n<l?l:n>a?a:n,r.min3=(n,l,a)=>n<l?n<a?n:a:l<a?l:a,r.max3=(n,l,a)=>n>l?n>a?n:a:l>a?l:a,r.colorMin=n=>r.min3(n[0],n[1],n[2]),r.colorMax=n=>r.max3(n[0],n[1],n[2]),r.scale=(n,l,a)=>r.clamp(l+n*(a-l),0,1),r.unscale=(n,l,a)=>r.clamp((n-l)/(a-l),0,1),r.scaleColor=(n,l,a)=>[r.scale(n[0],l,a),r.scale(n[1],l,a),r.scale(n[2],l,a)],r.unscaleColor=(n,l,a)=>[r.unscale(n[0],l,a),r.unscale(n[1],l,a),r.unscale(n[2],l,a)],r.luminosity=n=>n[0]*.3+n[1]*.59+n[2]*.11,r.saturate=n=>{const l=r.colorMin(n),a=r.colorMax(n);return a-l<=0?[1,1,1]:r.unscaleColor(n,l,a)},r.blend=(n,l,a)=>[r.scale(a,n[0],l[0]),r.scale(a,n[1],l[1]),r.scale(a,n[2],l[2])],r.invert=n=>[1-n[0],1-n[1],1-n[2]],r.complementary=n=>{const l=r.invert(n);return[l[0]>=n[0]?Math.min(l[0]*1.3,1):n[0]*.3,l[1]>=n[1]?Math.min(l[1]*1.59,1):n[1]*.59,l[2]>=n[2]?Math.min(l[2]*1.11,1):n[2]*.11]},r.textColorFromBackgroundColor=(n,l)=>{const a=l==="colibris"?"var(--super-light-color)":"#fff",h=l==="colibris"?"var(--super-dark-color)":"#222";return r.luminosity(r.css2triple(n))<.5?a:h},bi.colorutils=r,bi}class Gl{constructor(){ei(this,"socket");ei(this,"eventCallbacks",{});this.socket=new WebSocket("ws://localhost:3000/socket.io/"),this.socket.onopen=()=>{console.log("onopen");const n=window.setInterval(()=>{console.log("check"),this.eventCallbacks.connect&&this.eventCallbacks.connect.length==1&&(console.log("Handled connect event"),this.eventCallbacks.connect.forEach(l=>{l()}),clearInterval(n))},200)}}connect(){console.log("connect")}once(n,l){this.eventCallbacks[n]?this.eventCallbacks[n].push(l):this.eventCallbacks[n]=[l]}on(n,l){this.eventCallbacks[n]?this.eventCallbacks[n].push(l):this.eventCallbacks[n]=[l]}emit(n,l){console.log(l),this.socket.send(JSON.stringify({event:n,data:l}))}}const Jl=(r,n="/",l={})=>{const a=new URL(r,window.location),h=new URL("socket.io",a);new URL(n,new URL("/",a));let s={path:h.pathname,upgrade:!0,transports:["websocket"]};return Object.assign(l,s),window.socket=new Gl,socket.on("connect_error",p=>{console.log("Error connecting to pad",p)}),socket},Xl=Object.freeze(Object.defineProperty({__proto__:null,connect:Jl},Symbol.toStringTag,{value:"Module"}));var Mo;function yr(){return Mo||(Mo=1,function(r){let n;sl(),ba();const l=ft().Cookies,a=Pi().chat,h=pl().getCollabClient,s=Vl().padconnectionstatus,p=Oi().padcookie,y=ms().padeditbar,d=$i().padeditor,c=Jc().padimpexp,f=Gc().padmodals,g=wa(),m=Wl().paduserlist,C=ft().padutils,w=zl().colorutils,_=ft().randomString,A=Xl,x=St,N=[{name:"noColors",checkVal:"true",callback:F=>{Z.noColors=!0,$("#clearAuthorship").hide()}},{name:"showControls",checkVal:"true",callback:F=>{$("#editbar").css("display","flex")}},{name:"showChat",checkVal:null,callback:F=>{F==="false"&&(Z.hideChat=!0,a.hide(),$("#chaticon").hide())}},{name:"showLineNumbers",checkVal:"false",callback:F=>{Z.LineNumbersDisabled=!0}},{name:"useMonospaceFont",checkVal:"true",callback:F=>{Z.useMonospaceFontGlobal=!0}},{name:"userName",checkVal:null,callback:F=>{Z.globalUserName=F,clientVars.userName=F}},{name:"userColor",checkVal:null,callback:F=>{Z.globalUserColor=F,clientVars.userColor=F}},{name:"rtl",checkVal:"true",callback:F=>{Z.rtlIsTrue=!0}},{name:"alwaysShowChat",checkVal:"true",callback:F=>{Z.hideChat||a.stickToScreen()}},{name:"chatAndUsers",checkVal:"true",callback:F=>{a.chatAndUsers()}},{name:"lang",checkVal:null,callback:F=>{window.html10n.localize([F,"en"]),l.set("language",F)}}],B=()=>{for(const K of N){let W=clientVars.padOptions[K.name];W!=null&&(W=W.toString(),(W===K.checkVal||K.checkVal==null)&&K.callback(W))}const F=q();for(const K of N){const W=F.get(K.name);W&&(W===K.checkVal||K.checkVal==null)&&K.callback(W)}},q=()=>new URL(window.location.href).searchParams,H=F=>{let K=document.location.pathname.substring(document.location.pathname.lastIndexOf("/")+1);if(K=decodeURIComponent(K),!F){const he=document.title.split("|"),Ie=he[he.length-1];document.title=`${K.replace(/_+/g," ")} | ${Ie}`}let W=l.get("token");(W==null||!C.isValidAuthorToken(W))&&(W=C.generateAuthorToken(),l.set("token",W,{expires:60}));const se=q(),pe={colorId:se.get("userColor"),name:se.get("userName")},ke={component:"pad",type:"CLIENT_READY",padId:K,sessionID:l.get("sessionID"),token:W,userInfo:pe};F&&(ke.client_rev=P.collabClient.getCurrentRevisionNumber(),ke.reconnect=!0),n.emit("message",ke)},X=async()=>{let F=!1,K=document.location.pathname.substring(document.location.pathname.lastIndexOf("/")+1);K=decodeURIComponent(K),n=P.socket=A.connect(r.baseURL,"/",{query:{padId:K},reconnectionAttempts:5,reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3}),n.once("connect",()=>{H(!1)}),n.on("reconnect",()=>{P.collabClient!=null&&P.collabClient.setChannelState("CONNECTED"),H(F)});const W=()=>{P.collabClient!=null&&(P.collabClient.setStateIdle(),P.collabClient.setIsPendingRevision(!0),P.collabClient.setChannelState("RECONNECTING"))};n.on("disconnect",se=>{console.log(`Socket disconnected: ${se}`),!(se!=="io server disconnect"||se!=="ping timeout")&&(W(),n.connect())}),n.on("shout",se=>{if(se.type==="COLLABROOM"){let pe=new Date(se.data.payload.timestamp);$.gritter.add({title:"Admin message",text:"["+pe.toLocaleTimeString()+"]: "+se.data.payload.message.message,sticky:se.data.payload.message.sticky})}}),n.on("reconnecting",W),n.on("reconnect_failed",se=>{if(P.collabClient!=null)P.collabClient.setChannelState("DISCONNECTED","reconnect_timeout");else throw new Error("Reconnect timed out")}),n.on("error",se=>{P.collabClient!=null&&(P.collabClient.setStateIdle(),P.collabClient.setIsPendingRevision(!0))}),n.on("message",se=>{if(se.accessStatus)se.accessStatus==="deny"&&($("#loading").hide(),$("#permissionDenied").show(),F&&($("#editorcontainer").hide(),$("#editorloadingbox").show()));else if(!F&&se.type==="CLIENT_VARS")F=!0,window.clientVars=se.data,window.clientVars.sessionRefreshInterval&&setInterval(()=>$.ajax("../_extendExpressSessionLifetime",{method:"PUT"}).catch(()=>{}),window.clientVars.sessionRefreshInterval);else if(se.disconnect){s.disconnected(se.disconnect),n.disconnect(),d.disable(),y.disable(),c.disable();return}else P._messageQ.enqueue(se)}),await Promise.all([new Promise(se=>{const pe=ke=>{ke.accessStatus||ke.type!=="CLIENT_VARS"||(n.off("message",pe),se())};n.on("message",pe)}),x.aCallAll("_socketCreated",{socket:n})])};class i{constructor(){this._q=[],this._cc=null}setCollabClient(K){this._cc=K,this.enqueue()}enqueue(...K){if(this._cc==null)this._q.push(...K);else{for(;this._q.length>0;)this._cc.handleMessageFromServer(this._q.shift());for(const W of K)this._cc.handleMessageFromServer(W)}}}const P={collabClient:null,myUserInfo:null,diagnosticInfo:{},initTime:0,clientTimeOffset:null,padOptions:{},_messageQ:new i,getPadId:()=>clientVars.padId,getClientIp:()=>clientVars.clientIp,getColorPalette:()=>clientVars.colorPalette,getPrivilege:F=>clientVars.accountPrivs[F],getUserId:()=>P.myUserInfo.userId,getUserName:()=>P.myUserInfo.name,userList:()=>m.users(),sendClientMessage:F=>{P.collabClient.sendClientMessage(F)},init(){C.setupGlobalExceptionHandler(),$(()=>(async()=>{window.customStart!=null&&window.customStart(),$("#colorpicker").farbtastic({callback:"#mycolorpickerpreview",width:220}),$("#readonlyinput").on("click",()=>{y.setEmbedLinks()}),p.init(),await X(),this._afterHandshake()})())},_afterHandshake(){P.clientTimeOffset=Date.now()-clientVars.serverTimestamp,a.init(this),B(),p.init(),P.initTime=+new Date,P.padOptions=clientVars.initialOptions,P.myUserInfo={userId:clientVars.userId,name:clientVars.userName,ip:P.getClientIp(),colorId:clientVars.userColor};const F=()=>{y.init(),setTimeout(()=>{d.ace.focus()},0);const K=$("#options-stickychat");K.on("click",()=>{a.stickToScreen()}),p.getPref("chatAlwaysVisible")&&(a.stickToScreen(!0),K.prop("checked",!0)),p.getPref("chatAndUsers")&&(a.chatAndUsers(!0),$("#options-chatandusers").prop("checked",!0)),p.getPref("showAuthorshipColors")===!1&&P.changeViewOption("showAuthorColors",!1),p.getPref("showLineNumbers")===!1&&P.changeViewOption("showLineNumbers",!1),p.getPref("rtlIsTrue")===!0&&P.changeViewOption("rtlIsTrue",!0),P.changeViewOption("padFontFamily",p.getPref("padFontFamily")),$("#viewfontmenu").val(p.getPref("padFontFamily")).niceSelect("update");const W=pe=>{pe.matches&&($("#options-chatandusers:checked").trigger("click"),$("#options-stickychat:checked").trigger("click"))},se=window.matchMedia("(max-width: 800px)");se.addListener(W),setTimeout(()=>{W(se)},0),$("#editorcontainer").addClass("initialized"),x.aCallAll("postAceInit",{ace:d.ace,clientVars,pad:P})};if(c.init(this),g.init(this),d.init(P.padOptions.view||{},this).then(F),m.init(P.myUserInfo,this),s.init(),f.init(this),P.collabClient=h(d.ace,clientVars.collab_client_vars,P.myUserInfo,{colorPalette:P.getColorPalette()},P),this._messageQ.setCollabClient(this.collabClient),P.collabClient.setOnUserJoin(P.handleUserJoin),P.collabClient.setOnUpdateUserInfo(P.handleUserUpdate),P.collabClient.setOnUserLeave(P.handleUserLeave),P.collabClient.setOnClientMessage(P.handleClientMessage),P.collabClient.setOnChannelStateChange(P.handleChannelStateChange),P.collabClient.setOnInternalAction(P.handleCollabAction),clientVars.chatHead!==-1){const K=clientVars.chatHead,W=Math.max(K-100,0);P.collabClient.sendMessage({type:"GET_CHAT_MESSAGES",start:W,end:K})}else $("#chatloadmessagesbutton").css("display","none");window.clientVars.readonly?(a.hide(),$("#myusernameedit").attr("disabled",!0),$("#chatinput").attr("disabled",!0),$("#chaticon").hide(),$("#options-chatandusers").parent().hide(),$("#options-stickychat").parent().hide()):Z.hideChat||$("#chaticon").show(),$("body").addClass(window.clientVars.readonly?"readonly":"readwrite"),d.ace.callWithAce(K=>{K.ace_setEditable(!window.clientVars.readonly)}),Z.LineNumbersDisabled===!0&&this.changeViewOption("showLineNumbers",!1),Z.noColors===!0&&this.changeViewOption("noColors",!0),Z.rtlIsTrue===!0&&this.changeViewOption("rtlIsTrue",!0),Z.useMonospaceFontGlobal===!0&&this.changeViewOption("padFontFamily","RobotoMono"),Z.globalUserName!==!1&&(this.notifyChangeName(Z.globalUserName),this.myUserInfo.name=Z.globalUserName,$("#myusernameedit").val(Z.globalUserName)),Z.globalUserColor!==!1&&w.isCssHex(Z.globalUserColor)&&(this.myUserInfo.globalUserColor=Z.globalUserColor,this.notifyChangeColor(Z.globalUserColor),m.setMyUserInfo(this.myUserInfo))},dispose:()=>{d.dispose()},notifyChangeName:F=>{P.myUserInfo.name=F,P.collabClient.updateUserInfo(P.myUserInfo)},notifyChangeColor:F=>{P.myUserInfo.colorId=F,P.collabClient.updateUserInfo(P.myUserInfo)},changePadOption:(F,K)=>{const W={};W[F]=K,P.handleOptionsChange(W),P.collabClient.sendClientMessage({type:"padoptions",options:W,changedBy:P.myUserInfo.name||"unnamed"})},changeViewOption:(F,K)=>{const W={view:{}};W.view[F]=K,P.handleOptionsChange(W)},handleOptionsChange:F=>{if(F.view){P.padOptions.view||(P.padOptions.view={});for(const[K,W]of Object.entries(F.view))P.padOptions.view[K]=W,p.setPref(K,W);d.setViewOptions(P.padOptions.view)}},getPadOptions:()=>P.padOptions,suggestUserName:(F,K)=>{P.collabClient.sendClientMessage({type:"suggestUserName",unnamedId:F,newName:K})},handleUserJoin:F=>{m.userJoinOrUpdate(F)},handleUserUpdate:F=>{m.userJoinOrUpdate(F)},handleUserLeave:F=>{m.userLeave(F)},handleClientMessage:F=>{if(F.type==="suggestUserName")F.unnamedId===P.myUserInfo.userId&&F.newName&&!P.myUserInfo.name&&(P.notifyChangeName(F.newName),m.setMyUserInfo(P.myUserInfo));else if(F.type==="newRevisionList")g.newRevisionList(F.revisionList);else if(F.type==="revisionLabel")g.newRevisionList(F.revisionList);else if(F.type==="padoptions"){const K=F.options;P.handleOptionsChange(K)}},handleChannelStateChange:(F,K)=>{const W=!!s.isFullyConnected(),se=s.getStatus().what==="connecting";if(F==="CONNECTED")d.enable(),y.enable(),c.enable(),s.connected();else if(F==="RECONNECTING")d.disable(),y.disable(),c.disable(),s.reconnecting();else if(F==="DISCONNECTED"){P.diagnosticInfo.disconnectedMessage=K,P.diagnosticInfo.padId=P.getPadId(),P.diagnosticInfo.socket={};for(const[ke,he]of Object.entries(n.socket||{})){const Ie=typeof he;(Ie==="string"||Ie==="number")&&(P.diagnosticInfo.socket[ke]=he)}P.asyncSendDiagnosticInfo(),typeof window.ajlog=="string"&&(window.ajlog+=`Disconnected: ${K}
`),d.disable(),y.disable(),c.disable(),s.disconnected(K)}const pe=!!s.isFullyConnected();pe!==W&&P.handleIsFullyConnected(pe,se)},handleIsFullyConnected:(F,K)=>{P.determineChatVisibility(F&&!K),P.determineChatAndUsersVisibility(F&&!K),P.determineAuthorshipColorsVisibility(),setTimeout(()=>{y.toggleDropDown("none")},1e3)},determineChatVisibility:F=>{p.getPref("chatAlwaysVisible")?(a.stickToScreen(!0),$("#options-stickychat").prop("checked",!0)):$("#options-stickychat").prop("checked",!1)},determineChatAndUsersVisibility:F=>{p.getPref("chatAndUsersVisible")?(a.chatAndUsers(!0),$("#options-chatandusers").prop("checked",!0)):$("#options-chatandusers").prop("checked",!1)},determineAuthorshipColorsVisibility:()=>{p.getPref("showAuthorshipColors")?(P.changeViewOption("showAuthorColors",!0),$("#options-colorscheck").prop("checked",!0)):$("#options-colorscheck").prop("checked",!1)},handleCollabAction:F=>{F==="commitPerformed"?y.setSyncStatus("syncing"):F==="newlyIdle"&&y.setSyncStatus("done")},asyncSendDiagnosticInfo:()=>{window.setTimeout(()=>{$.ajax({type:"post",url:"ep/pad/connection-diagnostic-info",data:{diagnosticInfo:JSON.stringify(P.diagnosticInfo)},success:()=>{},error:()=>{}})},0)},forceReconnect:()=>{$("form#reconnectform input.padId").val(P.getPadId()),P.diagnosticInfo.collabDiagnosticInfo=P.collabClient.getDiagnosticInfo(),$("form#reconnectform input.diagnosticInfo").val(JSON.stringify(P.diagnosticInfo)),$("form#reconnectform input.missedChanges").val(JSON.stringify(P.collabClient.getMissedChanges())),$("form#reconnectform").trigger("submit")},callWhenNotCommitting:F=>{P.collabClient.callWhenNotCommitting(F)},getCollabRevisionNumber:()=>P.collabClient.getCurrentRevisionNumber(),isFullyConnected:()=>s.isFullyConnected(),addHistoricalAuthors:F=>{P.collabClient?P.collabClient.addHistoricalAuthors(F):window.setTimeout(()=>{P.addHistoricalAuthors(F)},1e3)}},z=()=>P.init(),Z={LineNumbersDisabled:!1,noColors:!1,useMonospaceFontGlobal:!1,globalUserName:!1,globalUserColor:!1,rtlIsTrue:!1};P.settings=Z,r.baseURL="",r.settings=Z,r.randomString=_,r.getParams=B,r.pad=P,r.init=z}(ti)),ti}var lr={exports:{}},En={},wi={},An={},On={},Ft={},Bt={},Ci={},Ut={},yt={},Do;function ys(){if(Do)return yt;Do=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.ERROR_PACKET=yt.PACKET_TYPES_REVERSE=yt.PACKET_TYPES=void 0;const r=Object.create(null);yt.PACKET_TYPES=r,r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const n=Object.create(null);yt.PACKET_TYPES_REVERSE=n,Object.keys(r).forEach(a=>{n[r[a]]=a});const l={type:"error",data:"parser error"};return yt.ERROR_PACKET=l,yt}var Lo;function Kl(){if(Lo)return Ut;Lo=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.encodePacket=Ut.encodePacketToBinary=void 0;const r=ys(),n=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",l=typeof ArrayBuffer=="function",a=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer,h=({type:c,data:f},g,m)=>n&&f instanceof Blob?g?m(f):s(f,m):l&&(f instanceof ArrayBuffer||a(f))?g?m(f):s(new Blob([f]),m):m(r.PACKET_TYPES[c]+(f||""));Ut.encodePacket=h;const s=(c,f)=>{const g=new FileReader;return g.onload=function(){const m=g.result.split(",")[1];f("b"+(m||""))},g.readAsDataURL(c)};function p(c){return c instanceof Uint8Array?c:c instanceof ArrayBuffer?new Uint8Array(c):new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}let y;function d(c,f){if(n&&c.data instanceof Blob)return c.data.arrayBuffer().then(p).then(f);if(l&&(c.data instanceof ArrayBuffer||a(c.data)))return f(p(c.data));h(c,!1,g=>{y||(y=new TextEncoder),f(y.encode(g))})}return Ut.encodePacketToBinary=d,Ut}var $n={},jt={},qo;function Yl(){if(qo)return jt;qo=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.decode=jt.encode=void 0;const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let h=0;h<r.length;h++)n[r.charCodeAt(h)]=h;const l=h=>{let s=new Uint8Array(h),p,y=s.length,d="";for(p=0;p<y;p+=3)d+=r[s[p]>>2],d+=r[(s[p]&3)<<4|s[p+1]>>4],d+=r[(s[p+1]&15)<<2|s[p+2]>>6],d+=r[s[p+2]&63];return y%3===2?d=d.substring(0,d.length-1)+"=":y%3===1&&(d=d.substring(0,d.length-2)+"=="),d};jt.encode=l;const a=h=>{let s=h.length*.75,p=h.length,y,d=0,c,f,g,m;h[h.length-1]==="="&&(s--,h[h.length-2]==="="&&s--);const C=new ArrayBuffer(s),w=new Uint8Array(C);for(y=0;y<p;y+=4)c=n[h.charCodeAt(y)],f=n[h.charCodeAt(y+1)],g=n[h.charCodeAt(y+2)],m=n[h.charCodeAt(y+3)],w[d++]=c<<2|f>>4,w[d++]=(f&15)<<4|g>>2,w[d++]=(g&3)<<6|m&63;return C};return jt.decode=a,jt}var Fo;function Ql(){if(Fo)return $n;Fo=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.decodePacket=void 0;const r=ys(),n=Yl(),l=typeof ArrayBuffer=="function",a=(p,y)=>{if(typeof p!="string")return{type:"message",data:s(p,y)};const d=p.charAt(0);return d==="b"?{type:"message",data:h(p.substring(1),y)}:r.PACKET_TYPES_REVERSE[d]?p.length>1?{type:r.PACKET_TYPES_REVERSE[d],data:p.substring(1)}:{type:r.PACKET_TYPES_REVERSE[d]}:r.ERROR_PACKET};$n.decodePacket=a;const h=(p,y)=>{if(l){const d=(0,n.decode)(p);return s(d,y)}else return{base64:!0,data:p}},s=(p,y)=>{switch(y){case"blob":return p instanceof Blob?p:new Blob([p]);case"arraybuffer":default:return p instanceof ArrayBuffer?p:p.buffer}};return $n}var Bo;function Xn(){return Bo||(Bo=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.decodePayload=r.decodePacket=r.encodePayload=r.encodePacket=r.protocol=r.createPacketDecoderStream=r.createPacketEncoderStream=void 0;const n=Kl();Object.defineProperty(r,"encodePacket",{enumerable:!0,get:function(){return n.encodePacket}});const l=Ql();Object.defineProperty(r,"decodePacket",{enumerable:!0,get:function(){return l.decodePacket}});const a=ys(),h="",s=(m,C)=>{const w=m.length,_=new Array(w);let A=0;m.forEach((x,N)=>{(0,n.encodePacket)(x,!1,B=>{_[N]=B,++A===w&&C(_.join(h))})})};r.encodePayload=s;const p=(m,C)=>{const w=m.split(h),_=[];for(let A=0;A<w.length;A++){const x=(0,l.decodePacket)(w[A],C);if(_.push(x),x.type==="error")break}return _};r.decodePayload=p;function y(){return new TransformStream({transform(m,C){(0,n.encodePacketToBinary)(m,w=>{const _=w.length;let A;if(_<126)A=new Uint8Array(1),new DataView(A.buffer).setUint8(0,_);else if(_<65536){A=new Uint8Array(3);const x=new DataView(A.buffer);x.setUint8(0,126),x.setUint16(1,_)}else{A=new Uint8Array(9);const x=new DataView(A.buffer);x.setUint8(0,127),x.setBigUint64(1,BigInt(_))}m.data&&typeof m.data!="string"&&(A[0]|=128),C.enqueue(A),C.enqueue(w)})}})}r.createPacketEncoderStream=y;let d;function c(m){return m.reduce((C,w)=>C+w.length,0)}function f(m,C){if(m[0].length===C)return m.shift();const w=new Uint8Array(C);let _=0;for(let A=0;A<C;A++)w[A]=m[0][_++],_===m[0].length&&(m.shift(),_=0);return m.length&&_<m[0].length&&(m[0]=m[0].slice(_)),w}function g(m,C){d||(d=new TextDecoder);const w=[];let _=0,A=-1,x=!1;return new TransformStream({transform(N,B){for(w.push(N);;){if(_===0){if(c(w)<1)break;const q=f(w,1);x=(q[0]&128)===128,A=q[0]&127,A<126?_=3:A===126?_=1:_=2}else if(_===1){if(c(w)<2)break;const q=f(w,2);A=new DataView(q.buffer,q.byteOffset,q.length).getUint16(0),_=3}else if(_===2){if(c(w)<8)break;const q=f(w,8),H=new DataView(q.buffer,q.byteOffset,q.length),X=H.getUint32(0);if(X>Math.pow(2,21)-1){B.enqueue(a.ERROR_PACKET);break}A=X*Math.pow(2,32)+H.getUint32(4),_=3}else{if(c(w)<A)break;const q=f(w,A);B.enqueue((0,l.decodePacket)(x?q:d.decode(q),C)),_=0}if(A===0||A>m){B.enqueue(a.ERROR_PACKET);break}}}})}r.createPacketDecoderStream=g,r.protocol=4}(Ci)),Ci}function Be(r){if(r)return Zl(r)}function Zl(r){for(var n in Be.prototype)r[n]=Be.prototype[n];return r}Be.prototype.on=Be.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this};Be.prototype.once=function(r,n){function l(){this.off(r,l),n.apply(this,arguments)}return l.fn=n,this.on(r,l),this};Be.prototype.off=Be.prototype.removeListener=Be.prototype.removeAllListeners=Be.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l=this._callbacks["$"+r];if(!l)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var a,h=0;h<l.length;h++)if(a=l[h],a===n||a.fn===n){l.splice(h,1);break}return l.length===0&&delete this._callbacks["$"+r],this};Be.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),l=this._callbacks["$"+r],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(l){l=l.slice(0);for(var a=0,h=l.length;a<h;++a)l[a].apply(this,n)}return this};Be.prototype.emitReserved=Be.prototype.emit;Be.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};Be.prototype.hasListeners=function(r){return!!this.listeners(r).length};const gn=Object.freeze(Object.defineProperty({__proto__:null,Emitter:Be},Symbol.toStringTag,{value:"Module"}));var vt={},Pn={},Uo;function Or(){return Uo||(Uo=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.globalThisShim=void 0,Pn.globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")()),Pn}var jo;function Kn(){if(jo)return vt;jo=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.byteLength=vt.installTimerFunctions=vt.pick=void 0;const r=Or();function n(d,...c){return c.reduce((f,g)=>(d.hasOwnProperty(g)&&(f[g]=d[g]),f),{})}vt.pick=n;const l=r.globalThisShim.setTimeout,a=r.globalThisShim.clearTimeout;function h(d,c){c.useNativeTimers?(d.setTimeoutFn=l.bind(r.globalThisShim),d.clearTimeoutFn=a.bind(r.globalThisShim)):(d.setTimeoutFn=r.globalThisShim.setTimeout.bind(r.globalThisShim),d.clearTimeoutFn=r.globalThisShim.clearTimeout.bind(r.globalThisShim))}vt.installTimerFunctions=h;const s=1.33;function p(d){return typeof d=="string"?y(d):Math.ceil((d.byteLength||d.size)*s)}vt.byteLength=p;function y(d){let c=0,f=0;for(let g=0,m=d.length;g<m;g++)c=d.charCodeAt(g),c<128?f+=1:c<2048?f+=2:c<55296||c>=57344?f+=3:(g++,f+=4);return f}return vt}var fr={exports:{}},ki,Ho;function ef(){if(Ho)return ki;Ho=1;var r=1e3,n=r*60,l=n*60,a=l*24,h=a*7,s=a*365.25;ki=function(f,g){g=g||{};var m=typeof f;if(m==="string"&&f.length>0)return p(f);if(m==="number"&&isFinite(f))return g.long?d(f):y(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function p(f){if(f=String(f),!(f.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(g){var m=parseFloat(g[1]),C=(g[2]||"ms").toLowerCase();switch(C){case"years":case"year":case"yrs":case"yr":case"y":return m*s;case"weeks":case"week":case"w":return m*h;case"days":case"day":case"d":return m*a;case"hours":case"hour":case"hrs":case"hr":case"h":return m*l;case"minutes":case"minute":case"mins":case"min":case"m":return m*n;case"seconds":case"second":case"secs":case"sec":case"s":return m*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function y(f){var g=Math.abs(f);return g>=a?Math.round(f/a)+"d":g>=l?Math.round(f/l)+"h":g>=n?Math.round(f/n)+"m":g>=r?Math.round(f/r)+"s":f+"ms"}function d(f){var g=Math.abs(f);return g>=a?c(f,g,a,"day"):g>=l?c(f,g,l,"hour"):g>=n?c(f,g,n,"minute"):g>=r?c(f,g,r,"second"):f+" ms"}function c(f,g,m,C){var w=g>=m*1.5;return Math.round(f/m)+" "+C+(w?"s":"")}return ki}var _i,Vo;function tf(){if(Vo)return _i;Vo=1;function r(n){a.debug=a,a.default=a,a.coerce=c,a.disable=p,a.enable=s,a.enabled=y,a.humanize=ef(),a.destroy=f,Object.keys(n).forEach(g=>{a[g]=n[g]}),a.names=[],a.skips=[],a.formatters={};function l(g){let m=0;for(let C=0;C<g.length;C++)m=(m<<5)-m+g.charCodeAt(C),m|=0;return a.colors[Math.abs(m)%a.colors.length]}a.selectColor=l;function a(g){let m,C=null,w,_;function A(...x){if(!A.enabled)return;const N=A,B=Number(new Date),q=B-(m||B);N.diff=q,N.prev=m,N.curr=B,m=B,x[0]=a.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let H=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(i,P)=>{if(i==="%%")return"%";H++;const z=a.formatters[P];if(typeof z=="function"){const Z=x[H];i=z.call(N,Z),x.splice(H,1),H--}return i}),a.formatArgs.call(N,x),(N.log||a.log).apply(N,x)}return A.namespace=g,A.useColors=a.useColors(),A.color=a.selectColor(g),A.extend=h,A.destroy=a.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(w!==a.namespaces&&(w=a.namespaces,_=a.enabled(g)),_),set:x=>{C=x}}),typeof a.init=="function"&&a.init(A),A}function h(g,m){const C=a(this.namespace+(typeof m>"u"?":":m)+g);return C.log=this.log,C}function s(g){a.save(g),a.namespaces=g,a.names=[],a.skips=[];let m;const C=(typeof g=="string"?g:"").split(/[\s,]+/),w=C.length;for(m=0;m<w;m++)C[m]&&(g=C[m].replace(/\*/g,".*?"),g[0]==="-"?a.skips.push(new RegExp("^"+g.slice(1)+"$")):a.names.push(new RegExp("^"+g+"$")))}function p(){const g=[...a.names.map(d),...a.skips.map(d).map(m=>"-"+m)].join(",");return a.enable(""),g}function y(g){if(g[g.length-1]==="*")return!0;let m,C;for(m=0,C=a.skips.length;m<C;m++)if(a.skips[m].test(g))return!1;for(m=0,C=a.names.length;m<C;m++)if(a.names[m].test(g))return!0;return!1}function d(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function c(g){return g instanceof Error?g.stack||g.message:g}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}return _i=r,_i}var nf={},Wo;function dt(){return Wo||(Wo=1,function(r,n){n.formatArgs=a,n.save=h,n.load=s,n.useColors=l,n.storage=p(),n.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;d.splice(1,0,c,"color: inherit");let f=0,g=0;d[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(f++,m==="%c"&&(g=f))}),d.splice(g,0,c)}n.log=console.debug||console.log||(()=>{});function h(d){try{d?n.storage.setItem("debug",d):n.storage.removeItem("debug")}catch{}}function s(){let d;try{d=n.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d=nf.DEBUG),d}function p(){try{return localStorage}catch{}}r.exports=tf()(n);const{formatters:y}=r.exports;y.j=function(d){try{return JSON.stringify(d)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}(fr,fr.exports)),fr.exports}var Ht={},zo;function Xc(){if(zo)return Ht;zo=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.decode=Ht.encode=void 0;function r(l){let a="";for(let h in l)l.hasOwnProperty(h)&&(a.length&&(a+="&"),a+=encodeURIComponent(h)+"="+encodeURIComponent(l[h]));return a}Ht.encode=r;function n(l){let a={},h=l.split("&");for(let s=0,p=h.length;s<p;s++){let y=h[s].split("=");a[decodeURIComponent(y[0])]=decodeURIComponent(y[1])}return a}return Ht.decode=n,Ht}var Go;function $r(){if(Go)return Bt;Go=1;var r=Se&&Se.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.Transport=Bt.TransportError=void 0;const n=Xn(),l=gn,a=Kn(),h=r(dt()),s=Xc(),p=(0,h.default)("engine.io-client:transport");class y extends Error{constructor(f,g,m){super(f),this.description=g,this.context=m,this.type="TransportError"}}Bt.TransportError=y;class d extends l.Emitter{constructor(f){super(),this.writable=!1,(0,a.installTimerFunctions)(this,f),this.opts=f,this.query=f.query,this.socket=f.socket}onError(f,g,m){return super.emitReserved("error",new y(f,g,m)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(f){this.readyState==="open"?this.write(f):p("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(f){const g=(0,n.decodePacket)(f,this.socket.binaryType);this.onPacket(g)}onPacket(f){super.emitReserved("packet",f)}onClose(f){this.readyState="closed",super.emitReserved("close",f)}pause(f){}createUri(f,g={}){return f+"://"+this._hostname()+this._port()+this.opts.path+this._query(g)}_hostname(){const f=this.opts.hostname;return f.indexOf(":")===-1?f:"["+f+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(f){const g=(0,s.encode)(f);return g.length?"?"+g:""}}return Bt.Transport=d,Bt}var bt={},Jo;function Kc(){if(Jo)return bt;Jo=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.yeast=bt.decode=bt.encode=void 0;const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n=64,l={};let a=0,h=0,s;function p(c){let f="";do f=r[c%n]+f,c=Math.floor(c/n);while(c>0);return f}bt.encode=p;function y(c){let f=0;for(h=0;h<c.length;h++)f=f*n+l[c.charAt(h)];return f}bt.decode=y;function d(){const c=p(+new Date);return c!==s?(a=0,s=c):c+"."+p(a++)}for(bt.yeast=d;h<n;h++)l[r[h]]=h;return bt}var Vt={},In={},Xo;function rf(){if(Xo)return In;Xo=1,Object.defineProperty(In,"__esModule",{value:!0}),In.hasCORS=void 0;let r=!1;try{r=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}return In.hasCORS=r,In}var Ko;function sf(){if(Ko)return Vt;Ko=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.createCookieJar=Vt.XHR=void 0;const r=rf(),n=Or();function l(h){const s=h.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||r.hasCORS))return new XMLHttpRequest}catch{}if(!s)try{return new n.globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}Vt.XHR=l;function a(){}return Vt.createCookieJar=a,Vt}var Yo;function of(){if(Yo)return Ft;Yo=1;var r=Se&&Se.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.Request=Ft.Polling=void 0;const n=$r(),l=r(dt()),a=Kc(),h=Xn(),s=sf(),p=gn,y=Kn(),d=Or(),c=(0,l.default)("engine.io-client:polling");function f(){}const g=function(){return new s.XHR({xdomain:!1}).responseType!=null}();class m extends n.Transport{constructor(A){if(super(A),this.polling=!1,typeof location<"u"){const N=location.protocol==="https:";let B=location.port;B||(B=N?"443":"80"),this.xd=typeof location<"u"&&A.hostname!==location.hostname||B!==A.port}const x=A&&A.forceBase64;this.supportsBinary=g&&!x,this.opts.withCredentials&&(this.cookieJar=(0,s.createCookieJar)())}get name(){return"polling"}doOpen(){this.poll()}pause(A){this.readyState="pausing";const x=()=>{c("paused"),this.readyState="paused",A()};if(this.polling||!this.writable){let N=0;this.polling&&(c("we are currently polling - waiting to pause"),N++,this.once("pollComplete",function(){c("pre-pause polling complete"),--N||x()})),this.writable||(c("we are currently writing - waiting to pause"),N++,this.once("drain",function(){c("pre-pause writing complete"),--N||x()}))}else x()}poll(){c("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(A){c("polling got data %s",A);const x=N=>{if(this.readyState==="opening"&&N.type==="open"&&this.onOpen(),N.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(N)};(0,h.decodePayload)(A,this.socket.binaryType).forEach(x),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this.poll():c('ignoring poll - transport state "%s"',this.readyState))}doClose(){const A=()=>{c("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(c("transport open - closing"),A()):(c("transport not open - deferring close"),this.once("open",A))}write(A){this.writable=!1,(0,h.encodePayload)(A,x=>{this.doWrite(x,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const A=this.opts.secure?"https":"http",x=this.query||{};return this.opts.timestampRequests!==!1&&(x[this.opts.timestampParam]=(0,a.yeast)()),!this.supportsBinary&&!x.sid&&(x.b64=1),this.createUri(A,x)}request(A={}){return Object.assign(A,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new C(this.uri(),A)}doWrite(A,x){const N=this.request({method:"POST",data:A});N.on("success",x),N.on("error",(B,q)=>{this.onError("xhr post error",B,q)})}doPoll(){c("xhr poll");const A=this.request();A.on("data",this.onData.bind(this)),A.on("error",(x,N)=>{this.onError("xhr poll error",x,N)}),this.pollXhr=A}}Ft.Polling=m;class C extends p.Emitter{constructor(A,x){super(),(0,y.installTimerFunctions)(this,x),this.opts=x,this.method=x.method||"GET",this.uri=A,this.data=x.data!==void 0?x.data:null,this.create()}create(){var A;const x=(0,y.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");x.xdomain=!!this.opts.xd;const N=this.xhr=new s.XHR(x);try{c("xhr open %s: %s",this.method,this.uri),N.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){N.setDisableHeaderCheck&&N.setDisableHeaderCheck(!0);for(let B in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(B)&&N.setRequestHeader(B,this.opts.extraHeaders[B])}}catch{}if(this.method==="POST")try{N.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{N.setRequestHeader("Accept","*/*")}catch{}(A=this.opts.cookieJar)===null||A===void 0||A.addCookies(N),"withCredentials"in N&&(N.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(N.timeout=this.opts.requestTimeout),N.onreadystatechange=()=>{var B;N.readyState===3&&((B=this.opts.cookieJar)===null||B===void 0||B.parseCookies(N)),N.readyState===4&&(N.status===200||N.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof N.status=="number"?N.status:0)},0))},c("xhr data %s",this.data),N.send(this.data)}catch(B){this.setTimeoutFn(()=>{this.onError(B)},0);return}typeof document<"u"&&(this.index=C.requestsCount++,C.requests[this.index]=this)}onError(A){this.emitReserved("error",A,this.xhr),this.cleanup(!0)}cleanup(A){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=f,A)try{this.xhr.abort()}catch{}typeof document<"u"&&delete C.requests[this.index],this.xhr=null}}onLoad(){const A=this.xhr.responseText;A!==null&&(this.emitReserved("data",A),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Ft.Request=C,C.requestsCount=0,C.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",w);else if(typeof addEventListener=="function"){const _="onpagehide"in d.globalThisShim?"pagehide":"unload";addEventListener(_,w,!1)}}function w(){for(let _ in C.requests)C.requests.hasOwnProperty(_)&&C.requests[_].abort()}return Ft}var Nn={},rt={},Qo;function Pr(){if(Qo)return rt;Qo=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.defaultBinaryType=rt.usingBrowserWebSocket=rt.WebSocket=rt.nextTick=void 0;const r=Or();return rt.nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?l=>Promise.resolve().then(l):(l,a)=>a(l,0),rt.WebSocket=r.globalThisShim.WebSocket||r.globalThisShim.MozWebSocket,rt.usingBrowserWebSocket=!0,rt.defaultBinaryType="arraybuffer",rt}var Zo;function af(){if(Zo)return Nn;Zo=1;var r=Se&&Se.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.WS=void 0;const n=$r(),l=Kc(),a=Kn(),h=Pr(),s=r(dt()),p=Xn(),y=(0,s.default)("engine.io-client:websocket"),d=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class c extends n.Transport{constructor(g){super(g),this.supportsBinary=!g.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const g=this.uri(),m=this.opts.protocols,C=d?{}:(0,a.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(C.headers=this.opts.extraHeaders);try{this.ws=h.usingBrowserWebSocket&&!d?m?new h.WebSocket(g,m):new h.WebSocket(g):new h.WebSocket(g,m,C)}catch(w){return this.emitReserved("error",w)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=g=>this.onClose({description:"websocket connection closed",context:g}),this.ws.onmessage=g=>this.onData(g.data),this.ws.onerror=g=>this.onError("websocket error",g)}write(g){this.writable=!1;for(let m=0;m<g.length;m++){const C=g[m],w=m===g.length-1;(0,p.encodePacket)(C,this.supportsBinary,_=>{const A={};h.usingBrowserWebSocket||(C.options&&(A.compress=C.options.compress),this.opts.perMessageDeflate&&(typeof _=="string"?Buffer.byteLength(_):_.length)<this.opts.perMessageDeflate.threshold&&(A.compress=!1));try{h.usingBrowserWebSocket?this.ws.send(_):this.ws.send(_,A)}catch{y("websocket closed before onclose event")}w&&(0,h.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const g=this.opts.secure?"wss":"ws",m=this.query||{};return this.opts.timestampRequests&&(m[this.opts.timestampParam]=(0,l.yeast)()),this.supportsBinary||(m.b64=1),this.createUri(g,m)}check(){return!!h.WebSocket}}return Nn.WS=c,Nn}var Rn={},ea;function cf(){if(ea)return Rn;ea=1;var r=Se&&Se.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.WT=void 0;const n=$r(),l=Pr(),a=Xn(),s=(0,r(dt()).default)("engine.io-client:webtransport");class p extends n.Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{s("transport closed gracefully"),this.onClose()}).catch(d=>{s("transport closed due to %s",d),this.onError("webtransport error",d)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(d=>{const c=(0,a.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),f=d.readable.pipeThrough(c).getReader(),g=(0,a.createPacketEncoderStream)();g.readable.pipeTo(d.writable),this.writer=g.writable.getWriter();const m=()=>{f.read().then(({done:w,value:_})=>{if(w){s("session is closed");return}s("received chunk: %o",_),this.onPacket(_),m()}).catch(w=>{s("an error occurred while reading: %s",w)})};m();const C={type:"open"};this.query.sid&&(C.data=`{"sid":"${this.query.sid}"}`),this.writer.write(C).then(()=>this.onOpen())})}))}write(d){this.writable=!1;for(let c=0;c<d.length;c++){const f=d[c],g=c===d.length-1;this.writer.write(f).then(()=>{g&&(0,l.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var d;(d=this.transport)===null||d===void 0||d.close()}}return Rn.WT=p,Rn}var ta;function Yc(){if(ta)return On;ta=1,Object.defineProperty(On,"__esModule",{value:!0}),On.transports=void 0;const r=of(),n=af(),l=cf();return On.transports={websocket:n.WS,webtransport:l.WT,polling:r.Polling},On}var Mn={},na;function Qc(){if(na)return Mn;na=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.parse=void 0;const r=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function l(s){if(s.length>2e3)throw"URI too long";const p=s,y=s.indexOf("["),d=s.indexOf("]");y!=-1&&d!=-1&&(s=s.substring(0,y)+s.substring(y,d).replace(/:/g,";")+s.substring(d,s.length));let c=r.exec(s||""),f={},g=14;for(;g--;)f[n[g]]=c[g]||"";return y!=-1&&d!=-1&&(f.source=p,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=a(f,f.path),f.queryKey=h(f,f.query),f}Mn.parse=l;function a(s,p){const y=/\/{2,9}/g,d=p.replace(y,"/").split("/");return(p.slice(0,1)=="/"||p.length===0)&&d.splice(0,1),p.slice(-1)=="/"&&d.splice(d.length-1,1),d}function h(s,p){const y={};return p.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(d,c,f){c&&(y[c]=f)}),y}return Mn}var ra;function uf(){if(ra)return An;ra=1;var r=Se&&Se.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(An,"__esModule",{value:!0}),An.Socket=void 0;const n=Yc(),l=Kn(),a=Xc(),h=Qc(),s=r(dt()),p=gn,y=Xn(),d=Pr(),c=(0,s.default)("engine.io-client:socket");class f extends p.Emitter{constructor(m,C={}){super(),this.binaryType=d.defaultBinaryType,this.writeBuffer=[],m&&typeof m=="object"&&(C=m,m=null),m?(m=(0,h.parse)(m),C.hostname=m.host,C.secure=m.protocol==="https"||m.protocol==="wss",C.port=m.port,m.query&&(C.query=m.query)):C.host&&(C.hostname=(0,h.parse)(C.host).host),(0,l.installTimerFunctions)(this,C),this.secure=C.secure!=null?C.secure:typeof location<"u"&&location.protocol==="https:",C.hostname&&!C.port&&(C.port=this.secure?"443":"80"),this.hostname=C.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=C.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=C.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},C),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=(0,a.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(m){c('creating transport "%s"',m);const C=Object.assign({},this.opts.query);C.EIO=y.protocol,C.transport=m,this.id&&(C.sid=this.id);const w=Object.assign({},this.opts,{query:C,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[m]);return c("options: %j",w),new n.transports[m](w)}open(){let m;if(this.opts.rememberUpgrade&&f.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)m="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else m=this.transports[0];this.readyState="opening";try{m=this.createTransport(m)}catch(C){c("error while creating transport: %s",C),this.transports.shift(),this.open();return}m.open(),this.setTransport(m)}setTransport(m){c("setting transport %s",m.name),this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=m,m.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",C=>this.onClose("transport close",C))}probe(m){c('probing transport "%s"',m);let C=this.createTransport(m),w=!1;f.priorWebsocketSuccess=!1;const _=()=>{w||(c('probe transport "%s" opened',m),C.send([{type:"ping",data:"probe"}]),C.once("packet",X=>{if(!w)if(X.type==="pong"&&X.data==="probe"){if(c('probe transport "%s" pong',m),this.upgrading=!0,this.emitReserved("upgrading",C),!C)return;f.priorWebsocketSuccess=C.name==="websocket",c('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{w||this.readyState!=="closed"&&(c("changing transport and sending upgrade packet"),H(),this.setTransport(C),C.send([{type:"upgrade"}]),this.emitReserved("upgrade",C),C=null,this.upgrading=!1,this.flush())})}else{c('probe transport "%s" failed',m);const i=new Error("probe error");i.transport=C.name,this.emitReserved("upgradeError",i)}}))};function A(){w||(w=!0,H(),C.close(),C=null)}const x=X=>{const i=new Error("probe error: "+X);i.transport=C.name,A(),c('probe transport "%s" failed because of error: %s',m,X),this.emitReserved("upgradeError",i)};function N(){x("transport closed")}function B(){x("socket closed")}function q(X){C&&X.name!==C.name&&(c('"%s" works - aborting "%s"',X.name,C.name),A())}const H=()=>{C.removeListener("open",_),C.removeListener("error",x),C.removeListener("close",N),this.off("close",B),this.off("upgrading",q)};C.once("open",_),C.once("error",x),C.once("close",N),this.once("close",B),this.once("upgrading",q),this.upgrades.indexOf("webtransport")!==-1&&m!=="webtransport"?this.setTimeoutFn(()=>{w||C.open()},200):C.open()}onOpen(){if(c("socket open"),this.readyState="open",f.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){c("starting upgrade probes");let m=0;const C=this.upgrades.length;for(;m<C;m++)this.probe(this.upgrades[m])}}onPacket(m){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(c('socket receive: type "%s", data "%s"',m.type,m.data),this.emitReserved("packet",m),this.emitReserved("heartbeat"),this.resetPingTimeout(),m.type){case"open":this.onHandshake(JSON.parse(m.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const C=new Error("server error");C.code=m.data,this.onError(C);break;case"message":this.emitReserved("data",m.data),this.emitReserved("message",m.data);break}else c('packet received with socket readyState "%s"',this.readyState)}onHandshake(m){this.emitReserved("handshake",m),this.id=m.sid,this.transport.query.sid=m.sid,this.upgrades=this.filterUpgrades(m.upgrades),this.pingInterval=m.pingInterval,this.pingTimeout=m.pingTimeout,this.maxPayload=m.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const m=this.getWritablePackets();c("flushing %d packets in socket",m.length),this.transport.send(m),this.prevBufferLen=m.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let C=1;for(let w=0;w<this.writeBuffer.length;w++){const _=this.writeBuffer[w].data;if(_&&(C+=(0,l.byteLength)(_)),w>0&&C>this.maxPayload)return c("only send %d out of %d packets",w,this.writeBuffer.length),this.writeBuffer.slice(0,w);C+=2}return c("payload size is %d (max: %d)",C,this.maxPayload),this.writeBuffer}write(m,C,w){return this.sendPacket("message",m,C,w),this}send(m,C,w){return this.sendPacket("message",m,C,w),this}sendPacket(m,C,w,_){if(typeof C=="function"&&(_=C,C=void 0),typeof w=="function"&&(_=w,w=null),this.readyState==="closing"||this.readyState==="closed")return;w=w||{},w.compress=w.compress!==!1;const A={type:m,data:C,options:w};this.emitReserved("packetCreate",A),this.writeBuffer.push(A),_&&this.once("flush",_),this.flush()}close(){const m=()=>{this.onClose("forced close"),c("socket closing - telling transport to close"),this.transport.close()},C=()=>{this.off("upgrade",C),this.off("upgradeError",C),m()},w=()=>{this.once("upgrade",C),this.once("upgradeError",C)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?w():m()}):this.upgrading?w():m()),this}onError(m){c("socket error %j",m),f.priorWebsocketSuccess=!1,this.emitReserved("error",m),this.onClose("transport error",m)}onClose(m,C){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(c('socket close with reason: "%s"',m),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",m,C),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(m){const C=[];let w=0;const _=m.length;for(;w<_;w++)~this.transports.indexOf(m[w])&&C.push(m[w]);return C}}return An.Socket=f,f.protocol=y.protocol,An}var ia;function Zc(){return ia||(ia=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.nextTick=r.parse=r.installTimerFunctions=r.transports=r.TransportError=r.Transport=r.protocol=r.Socket=void 0;const n=uf();Object.defineProperty(r,"Socket",{enumerable:!0,get:function(){return n.Socket}}),r.protocol=n.Socket.protocol;var l=$r();Object.defineProperty(r,"Transport",{enumerable:!0,get:function(){return l.Transport}}),Object.defineProperty(r,"TransportError",{enumerable:!0,get:function(){return l.TransportError}});var a=Yc();Object.defineProperty(r,"transports",{enumerable:!0,get:function(){return a.transports}});var h=Kn();Object.defineProperty(r,"installTimerFunctions",{enumerable:!0,get:function(){return h.installTimerFunctions}});var s=Qc();Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return s.parse}});var p=Pr();Object.defineProperty(r,"nextTick",{enumerable:!0,get:function(){return p.nextTick}})}(wi)),wi}var sa;function lf(){if(sa)return En;sa=1;var r=Se&&Se.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(En,"__esModule",{value:!0}),En.url=void 0;const n=Zc(),a=r(dt()).default("socket.io-client:url");function h(s,p="",y){let d=s;y=y||typeof location<"u"&&location,s==null&&(s=y.protocol+"//"+y.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=y.protocol+s:s=y.host+s),/^(https?|wss?):\/\//.test(s)||(a("protocol-less url %s",s),typeof y<"u"?s=y.protocol+"//"+s:s="https://"+s),a("parse %s",s),d=n.parse(s)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";const f=d.host.indexOf(":")!==-1?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+f+":"+d.port+p,d.href=d.protocol+"://"+f+(y&&y.port===d.port?"":":"+d.port),d}return En.url=h,En}var Dn={},Ln={},Ti={},Wt={},zt={},oa;function eu(){if(oa)return zt;oa=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.hasBinary=zt.isBinary=void 0;const r=typeof ArrayBuffer=="function",n=y=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(y):y.buffer instanceof ArrayBuffer,l=Object.prototype.toString,a=typeof Blob=="function"||typeof Blob<"u"&&l.call(Blob)==="[object BlobConstructor]",h=typeof File=="function"||typeof File<"u"&&l.call(File)==="[object FileConstructor]";function s(y){return r&&(y instanceof ArrayBuffer||n(y))||a&&y instanceof Blob||h&&y instanceof File}zt.isBinary=s;function p(y,d){if(!y||typeof y!="object")return!1;if(Array.isArray(y)){for(let c=0,f=y.length;c<f;c++)if(p(y[c]))return!0;return!1}if(s(y))return!0;if(y.toJSON&&typeof y.toJSON=="function"&&arguments.length===1)return p(y.toJSON(),!0);for(const c in y)if(Object.prototype.hasOwnProperty.call(y,c)&&p(y[c]))return!0;return!1}return zt.hasBinary=p,zt}var aa;function ff(){if(aa)return Wt;aa=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.reconstructPacket=Wt.deconstructPacket=void 0;const r=eu();function n(s){const p=[],y=s.data,d=s;return d.data=l(y,p),d.attachments=p.length,{packet:d,buffers:p}}Wt.deconstructPacket=n;function l(s,p){if(!s)return s;if((0,r.isBinary)(s)){const y={_placeholder:!0,num:p.length};return p.push(s),y}else if(Array.isArray(s)){const y=new Array(s.length);for(let d=0;d<s.length;d++)y[d]=l(s[d],p);return y}else if(typeof s=="object"&&!(s instanceof Date)){const y={};for(const d in s)Object.prototype.hasOwnProperty.call(s,d)&&(y[d]=l(s[d],p));return y}return s}function a(s,p){return s.data=h(s.data,p),delete s.attachments,s}Wt.reconstructPacket=a;function h(s,p){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<p.length)return p[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let y=0;y<s.length;y++)s[y]=h(s[y],p);else if(typeof s=="object")for(const y in s)Object.prototype.hasOwnProperty.call(s,y)&&(s[y]=h(s[y],p));return s}return Wt}var ca;function vs(){return ca||(ca=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.Decoder=r.Encoder=r.PacketType=r.protocol=void 0;const n=gn,l=ff(),a=eu(),s=(0,dt().default)("socket.io-parser"),p=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];r.protocol=5;var y;(function(m){m[m.CONNECT=0]="CONNECT",m[m.DISCONNECT=1]="DISCONNECT",m[m.EVENT=2]="EVENT",m[m.ACK=3]="ACK",m[m.CONNECT_ERROR=4]="CONNECT_ERROR",m[m.BINARY_EVENT=5]="BINARY_EVENT",m[m.BINARY_ACK=6]="BINARY_ACK"})(y=r.PacketType||(r.PacketType={}));class d{constructor(C){this.replacer=C}encode(C){return s("encoding packet %j",C),(C.type===y.EVENT||C.type===y.ACK)&&(0,a.hasBinary)(C)?this.encodeAsBinary({type:C.type===y.EVENT?y.BINARY_EVENT:y.BINARY_ACK,nsp:C.nsp,data:C.data,id:C.id}):[this.encodeAsString(C)]}encodeAsString(C){let w=""+C.type;return(C.type===y.BINARY_EVENT||C.type===y.BINARY_ACK)&&(w+=C.attachments+"-"),C.nsp&&C.nsp!=="/"&&(w+=C.nsp+","),C.id!=null&&(w+=C.id),C.data!=null&&(w+=JSON.stringify(C.data,this.replacer)),s("encoded %j as %s",C,w),w}encodeAsBinary(C){const w=(0,l.deconstructPacket)(C),_=this.encodeAsString(w.packet),A=w.buffers;return A.unshift(_),A}}r.Encoder=d;function c(m){return Object.prototype.toString.call(m)==="[object Object]"}class f extends n.Emitter{constructor(C){super(),this.reviver=C}add(C){let w;if(typeof C=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");w=this.decodeString(C);const _=w.type===y.BINARY_EVENT;_||w.type===y.BINARY_ACK?(w.type=_?y.EVENT:y.ACK,this.reconstructor=new g(w),w.attachments===0&&super.emitReserved("decoded",w)):super.emitReserved("decoded",w)}else if((0,a.isBinary)(C)||C.base64)if(this.reconstructor)w=this.reconstructor.takeBinaryData(C),w&&(this.reconstructor=null,super.emitReserved("decoded",w));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+C)}decodeString(C){let w=0;const _={type:Number(C.charAt(0))};if(y[_.type]===void 0)throw new Error("unknown packet type "+_.type);if(_.type===y.BINARY_EVENT||_.type===y.BINARY_ACK){const x=w+1;for(;C.charAt(++w)!=="-"&&w!=C.length;);const N=C.substring(x,w);if(N!=Number(N)||C.charAt(w)!=="-")throw new Error("Illegal attachments");_.attachments=Number(N)}if(C.charAt(w+1)==="/"){const x=w+1;for(;++w&&!(C.charAt(w)===","||w===C.length););_.nsp=C.substring(x,w)}else _.nsp="/";const A=C.charAt(w+1);if(A!==""&&Number(A)==A){const x=w+1;for(;++w;){const N=C.charAt(w);if(N==null||Number(N)!=N){--w;break}if(w===C.length)break}_.id=Number(C.substring(x,w+1))}if(C.charAt(++w)){const x=this.tryParse(C.substr(w));if(f.isPayloadValid(_.type,x))_.data=x;else throw new Error("invalid payload")}return s("decoded %s as %j",C,_),_}tryParse(C){try{return JSON.parse(C,this.reviver)}catch{return!1}}static isPayloadValid(C,w){switch(C){case y.CONNECT:return c(w);case y.DISCONNECT:return w===void 0;case y.CONNECT_ERROR:return typeof w=="string"||c(w);case y.EVENT:case y.BINARY_EVENT:return Array.isArray(w)&&(typeof w[0]=="number"||typeof w[0]=="string"&&p.indexOf(w[0])===-1);case y.ACK:case y.BINARY_ACK:return Array.isArray(w)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}r.Decoder=f;class g{constructor(C){this.packet=C,this.buffers=[],this.reconPack=C}takeBinaryData(C){if(this.buffers.push(C),this.buffers.length===this.reconPack.attachments){const w=(0,l.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),w}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}}(Ti)),Ti}var qn={},ua;function tu(){if(ua)return qn;ua=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.on=void 0;function r(n,l,a){return n.on(l,a),function(){n.off(l,a)}}return qn.on=r,qn}var la;function nu(){if(la)return Ln;la=1;var r=Se&&Se.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.Socket=void 0;const n=vs(),l=tu(),a=gn,s=r(dt()).default("socket.io-client:socket"),p=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class y extends a.Emitter{constructor(c,f,g){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=c,this.nsp=f,g&&g.auth&&(this.auth=g.auth),this._opts=Object.assign({},g),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const c=this.io;this.subs=[l.on(c,"open",this.onopen.bind(this)),l.on(c,"packet",this.onpacket.bind(this)),l.on(c,"error",this.onerror.bind(this)),l.on(c,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...c){return c.unshift("message"),this.emit.apply(this,c),this}emit(c,...f){if(p.hasOwnProperty(c))throw new Error('"'+c.toString()+'" is a reserved event name');if(f.unshift(c),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(f),this;const g={type:n.PacketType.EVENT,data:f};if(g.options={},g.options.compress=this.flags.compress!==!1,typeof f[f.length-1]=="function"){const w=this.ids++;s("emitting packet with ack id %d",w);const _=f.pop();this._registerAckCallback(w,_),g.id=w}const m=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!m||!this.connected)?s("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(g),this.packet(g)):this.sendBuffer.push(g),this.flags={},this}_registerAckCallback(c,f){var g;const m=(g=this.flags.timeout)!==null&&g!==void 0?g:this._opts.ackTimeout;if(m===void 0){this.acks[c]=f;return}const C=this.io.setTimeoutFn(()=>{delete this.acks[c];for(let _=0;_<this.sendBuffer.length;_++)this.sendBuffer[_].id===c&&(s("removing packet with ack id %d from the buffer",c),this.sendBuffer.splice(_,1));s("event with ack id %d has timed out after %d ms",c,m),f.call(this,new Error("operation has timed out"))},m),w=(..._)=>{this.io.clearTimeoutFn(C),f.apply(this,_)};w.withError=!0,this.acks[c]=w}emitWithAck(c,...f){return new Promise((g,m)=>{const C=(w,_)=>w?m(w):g(_);C.withError=!0,f.push(C),this.emit(c,...f)})}_addToQueue(c){let f;typeof c[c.length-1]=="function"&&(f=c.pop());const g={id:this._queueSeq++,tryCount:0,pending:!1,args:c,flags:Object.assign({fromQueue:!0},this.flags)};c.push((m,...C)=>g!==this._queue[0]?void 0:(m!==null?g.tryCount>this._opts.retries&&(s("packet [%d] is discarded after %d tries",g.id,g.tryCount),this._queue.shift(),f&&f(m)):(s("packet [%d] was successfully sent",g.id),this._queue.shift(),f&&f(null,...C)),g.pending=!1,this._drainQueue())),this._queue.push(g),this._drainQueue()}_drainQueue(c=!1){if(s("draining queue"),!this.connected||this._queue.length===0)return;const f=this._queue[0];if(f.pending&&!c){s("packet [%d] has already been sent and is waiting for an ack",f.id);return}f.pending=!0,f.tryCount++,s("sending packet [%d] (try nÂ°%d)",f.id,f.tryCount),this.flags=f.flags,this.emit.apply(this,f.args)}packet(c){c.nsp=this.nsp,this.io._packet(c)}onopen(){s("transport is open - connecting"),typeof this.auth=="function"?this.auth(c=>{this._sendConnectPacket(c)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(c){this.packet({type:n.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},c):c})}onerror(c){this.connected||this.emitReserved("connect_error",c)}onclose(c,f){s("close (%s)",c),this.connected=!1,delete this.id,this.emitReserved("disconnect",c,f),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(c=>{if(!this.sendBuffer.some(g=>String(g.id)===c)){const g=this.acks[c];delete this.acks[c],g.withError&&g.call(this,new Error("socket has been disconnected"))}})}onpacket(c){if(c.nsp===this.nsp)switch(c.type){case n.PacketType.CONNECT:c.data&&c.data.sid?this.onconnect(c.data.sid,c.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case n.PacketType.EVENT:case n.PacketType.BINARY_EVENT:this.onevent(c);break;case n.PacketType.ACK:case n.PacketType.BINARY_ACK:this.onack(c);break;case n.PacketType.DISCONNECT:this.ondisconnect();break;case n.PacketType.CONNECT_ERROR:this.destroy();const g=new Error(c.data.message);g.data=c.data.data,this.emitReserved("connect_error",g);break}}onevent(c){const f=c.data||[];s("emitting event %j",f),c.id!=null&&(s("attaching ack callback to event"),f.push(this.ack(c.id))),this.connected?this.emitEvent(f):this.receiveBuffer.push(Object.freeze(f))}emitEvent(c){if(this._anyListeners&&this._anyListeners.length){const f=this._anyListeners.slice();for(const g of f)g.apply(this,c)}super.emit.apply(this,c),this._pid&&c.length&&typeof c[c.length-1]=="string"&&(this._lastOffset=c[c.length-1])}ack(c){const f=this;let g=!1;return function(...m){g||(g=!0,s("sending ack %j",m),f.packet({type:n.PacketType.ACK,id:c,data:m}))}}onack(c){const f=this.acks[c.id];if(typeof f!="function"){s("bad ack %s",c.id);return}delete this.acks[c.id],s("calling ack %s with %j",c.id,c.data),f.withError&&c.data.unshift(null),f.apply(this,c.data)}onconnect(c,f){s("socket connected with id %s",c),this.id=c,this.recovered=f&&this._pid===f,this._pid=f,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(c=>this.emitEvent(c)),this.receiveBuffer=[],this.sendBuffer.forEach(c=>{this.notifyOutgoingListeners(c),this.packet(c)}),this.sendBuffer=[]}ondisconnect(){s("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(c=>c()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(s("performing disconnect (%s)",this.nsp),this.packet({type:n.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(c){return this.flags.compress=c,this}get volatile(){return this.flags.volatile=!0,this}timeout(c){return this.flags.timeout=c,this}onAny(c){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(c),this}prependAny(c){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(c),this}offAny(c){if(!this._anyListeners)return this;if(c){const f=this._anyListeners;for(let g=0;g<f.length;g++)if(c===f[g])return f.splice(g,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(c){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(c),this}prependAnyOutgoing(c){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(c),this}offAnyOutgoing(c){if(!this._anyOutgoingListeners)return this;if(c){const f=this._anyOutgoingListeners;for(let g=0;g<f.length;g++)if(c===f[g])return f.splice(g,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(c){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const f=this._anyOutgoingListeners.slice();for(const g of f)g.apply(this,c.data)}}}return Ln.Socket=y,Ln}var Fn={},fa;function df(){if(fa)return Fn;fa=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.Backoff=void 0;function r(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}return Fn.Backoff=r,r.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var l=Math.random(),a=Math.floor(l*this.jitter*n);n=Math.floor(l*10)&1?n+a:n-a}return Math.min(n,this.max)|0},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(n){this.ms=n},r.prototype.setMax=function(n){this.max=n},r.prototype.setJitter=function(n){this.jitter=n},Fn}var da;function hf(){if(da)return Dn;da=1;var r=Se&&Se.__createBinding||(Object.create?function(C,w,_,A){A===void 0&&(A=_),Object.defineProperty(C,A,{enumerable:!0,get:function(){return w[_]}})}:function(C,w,_,A){A===void 0&&(A=_),C[A]=w[_]}),n=Se&&Se.__setModuleDefault||(Object.create?function(C,w){Object.defineProperty(C,"default",{enumerable:!0,value:w})}:function(C,w){C.default=w}),l=Se&&Se.__importStar||function(C){if(C&&C.__esModule)return C;var w={};if(C!=null)for(var _ in C)_!=="default"&&Object.prototype.hasOwnProperty.call(C,_)&&r(w,C,_);return n(w,C),w},a=Se&&Se.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.Manager=void 0;const h=Zc(),s=nu(),p=l(vs()),y=tu(),d=df(),c=gn,g=a(dt()).default("socket.io-client:manager");class m extends c.Emitter{constructor(w,_){var A;super(),this.nsps={},this.subs=[],w&&typeof w=="object"&&(_=w,w=void 0),_=_||{},_.path=_.path||"/socket.io",this.opts=_,h.installTimerFunctions(this,_),this.reconnection(_.reconnection!==!1),this.reconnectionAttempts(_.reconnectionAttempts||1/0),this.reconnectionDelay(_.reconnectionDelay||1e3),this.reconnectionDelayMax(_.reconnectionDelayMax||5e3),this.randomizationFactor((A=_.randomizationFactor)!==null&&A!==void 0?A:.5),this.backoff=new d.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(_.timeout==null?2e4:_.timeout),this._readyState="closed",this.uri=w;const x=_.parser||p;this.encoder=new x.Encoder,this.decoder=new x.Decoder,this._autoConnect=_.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(w){return arguments.length?(this._reconnection=!!w,this):this._reconnection}reconnectionAttempts(w){return w===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=w,this)}reconnectionDelay(w){var _;return w===void 0?this._reconnectionDelay:(this._reconnectionDelay=w,(_=this.backoff)===null||_===void 0||_.setMin(w),this)}randomizationFactor(w){var _;return w===void 0?this._randomizationFactor:(this._randomizationFactor=w,(_=this.backoff)===null||_===void 0||_.setJitter(w),this)}reconnectionDelayMax(w){var _;return w===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=w,(_=this.backoff)===null||_===void 0||_.setMax(w),this)}timeout(w){return arguments.length?(this._timeout=w,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(w){if(g("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;g("opening %s",this.uri),this.engine=new h.Socket(this.uri,this.opts);const _=this.engine,A=this;this._readyState="opening",this.skipReconnect=!1;const x=y.on(_,"open",function(){A.onopen(),w&&w()}),N=q=>{g("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",q),w?w(q):this.maybeReconnectOnOpen()},B=y.on(_,"error",N);if(this._timeout!==!1){const q=this._timeout;g("connect attempt will timeout after %d",q);const H=this.setTimeoutFn(()=>{g("connect attempt timed out after %d",q),x(),N(new Error("timeout")),_.close()},q);this.opts.autoUnref&&H.unref(),this.subs.push(()=>{this.clearTimeoutFn(H)})}return this.subs.push(x),this.subs.push(B),this}connect(w){return this.open(w)}onopen(){g("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const w=this.engine;this.subs.push(y.on(w,"ping",this.onping.bind(this)),y.on(w,"data",this.ondata.bind(this)),y.on(w,"error",this.onerror.bind(this)),y.on(w,"close",this.onclose.bind(this)),y.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(w){try{this.decoder.add(w)}catch(_){this.onclose("parse error",_)}}ondecoded(w){h.nextTick(()=>{this.emitReserved("packet",w)},this.setTimeoutFn)}onerror(w){g("error",w),this.emitReserved("error",w)}socket(w,_){let A=this.nsps[w];return A?this._autoConnect&&!A.active&&A.connect():(A=new s.Socket(this,w,_),this.nsps[w]=A),A}_destroy(w){const _=Object.keys(this.nsps);for(const A of _)if(this.nsps[A].active){g("socket %s is still active, skipping close",A);return}this._close()}_packet(w){g("writing packet %j",w);const _=this.encoder.encode(w);for(let A=0;A<_.length;A++)this.engine.write(_[A],w.options)}cleanup(){g("cleanup"),this.subs.forEach(w=>w()),this.subs.length=0,this.decoder.destroy()}_close(){g("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(w,_){g("closed due to %s",w),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",w,_),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const w=this;if(this.backoff.attempts>=this._reconnectionAttempts)g("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const _=this.backoff.duration();g("will wait %dms before reconnect attempt",_),this._reconnecting=!0;const A=this.setTimeoutFn(()=>{w.skipReconnect||(g("attempting reconnect"),this.emitReserved("reconnect_attempt",w.backoff.attempts),!w.skipReconnect&&w.open(x=>{x?(g("reconnect attempt error"),w._reconnecting=!1,w.reconnect(),this.emitReserved("reconnect_error",x)):(g("reconnect success"),w.onreconnect())}))},_);this.opts.autoUnref&&A.unref(),this.subs.push(()=>{this.clearTimeoutFn(A)})}}onreconnect(){const w=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",w)}}return Dn.Manager=m,Dn}var ha;function pf(){return ha||(ha=1,function(r,n){var l=Se&&Se.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.connect=n.io=n.Socket=n.Manager=n.protocol=void 0;const a=lf(),h=hf();Object.defineProperty(n,"Manager",{enumerable:!0,get:function(){return h.Manager}});const s=nu();Object.defineProperty(n,"Socket",{enumerable:!0,get:function(){return s.Socket}});const y=l(dt()).default("socket.io-client"),d={};function c(g,m){typeof g=="object"&&(m=g,g=void 0),m=m||{};const C=a.url(g,m.path||"/socket.io"),w=C.source,_=C.id,A=C.path,x=d[_]&&A in d[_].nsps,N=m.forceNew||m["force new connection"]||m.multiplex===!1||x;let B;return N?(y("ignoring socket cache for %s",w),B=new h.Manager(w,m)):(d[_]||(y("new io instance for %s",w),d[_]=new h.Manager(w,m)),B=d[_]),C.query&&!m.query&&(m.query=C.queryKey),B.socket(C.path,m)}n.io=c,n.connect=c,n.default=c,Object.assign(c,{Manager:h.Manager,Socket:s.Socket,io:c,connect:c});var f=vs();Object.defineProperty(n,"protocol",{enumerable:!0,get:function(){return f.protocol}}),r.exports=c}(lr,lr.exports)),lr.exports}var pa={},ga;function gf(){if(ga)return pa;if(ga=1,window.location.hash.toLowerCase()==="#skinvariantsbuilder"){$("#skin-variants").addClass("popup-show");const r=["editor","background","toolbar"],n=["super-light","light","dark","super-dark"],l=()=>{const h=[$("html"),$("iframe[name=ace_outer]").contents().find("html"),$("iframe[name=ace_outer]").contents().find("iframe[name=ace_inner]").contents().find("html")];n.forEach(p=>{r.forEach(y=>{h.forEach(d=>{d.removeClass(`${p}-${y}`)})})}),h.forEach(p=>{p.removeClass("full-width-editor")});const s=[];$("select.skin-variant-color").each(function(){s.push(`${$(this).val()}-${$(this).data("container")}`)}),$("#skin-variant-full-width").is(":checked")&&s.push("full-width-editor"),h.forEach(p=>{p.addClass(s.join(" "))}),$("#skin-variants-result").val(`"skinVariants": "${s.join(" ")}",`)},a=()=>{$("html").attr("class").split(" ").forEach(h=>{const s=h.substring(h.lastIndexOf("-")+1,h.length);if(r.indexOf(s)>-1){const p=h.substring(0,h.lastIndexOf("-"));$(`.skin-variant-color[data-container="${s}"`).val(p)}}),$("#skin-variant-full-width").prop("checked",$("html").hasClass("full-width-editor"))};$(".skin-variant").on("change",()=>{l()}),a(),l()}return pa}// @license magnet:?xt=urn:btih:8e4f440f4c65981c5bf93c76d35135ba5064d8b7&dn=apache-2.0.txt
window.clientVars={randomVersionString:"test"};(function(){const r=location.pathname.split("/"),n=r.slice(0,r.length-2).join("/")+"/";window.$=Jt.jQuery,window.jQuery=Jt.jQuery,window.browser=Ai;var l=va,a=St;l.baseURL=n,l.update(function(){window._postPluginUpdateForTestingDone=!1,window._postPluginUpdateForTesting!=null&&window._postPluginUpdateForTesting(),window._postPluginUpdateForTestingDone=!0,$(function(){a.aCallAll("documentReady")});var h=yr();h.baseURL=n,h.init()}),window.pad=yr().pad,window.chat=Pi().chat,window.padeditbar=ms().padeditbar,window.padimpexp=Jc().padimpexp,window.io=pf(),gf()})();
