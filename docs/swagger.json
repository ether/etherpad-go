{
    "swagger": "2.0",
    "info": {
        "description": "REST API for Etherpad Go - Collaborative Text Editor",
        "title": "Etherpad Go API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "Etherpad Support",
            "url": "https://github.com/ether/etherpad-go",
            "email": "support@etherpad.org"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:9001",
    "basePath": "/",
    "paths": {
        "/admin/api/author": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a new author with the specified name",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Authors"
                ],
                "summary": "Create a new author",
                "parameters": [
                    {
                        "description": "Author data",
                        "name": "author",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/author.CreateDto"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/author.CreateDtoResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/author/createIfNotExistsFor": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates an author for a mapper if it doesn't exist, otherwise returns existing author ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Authors"
                ],
                "summary": "Create an author if not exists for a mapper",
                "parameters": [
                    {
                        "description": "Author mapper and name",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/author.CreateAuthorIfNotExistsForRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/author.CreateDtoResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/author/{authorId}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the information of an author by their ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Authors"
                ],
                "summary": "Get an author",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Author ID",
                        "name": "authorId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/author.Author"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/author/{authorId}/name": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the name of an author",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Authors"
                ],
                "summary": "Get author name",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Author ID",
                        "name": "authorId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/author.AuthorNameResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/author/{authorId}/pads": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns all pad IDs that an author has contributed to",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Authors"
                ],
                "summary": "Get all pads of an author",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Author ID",
                        "name": "authorId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/checkToken": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns ok when the current API token is valid",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Check API token",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/admin/api/groups": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a new group and returns its ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Groups"
                ],
                "summary": "Create a new group",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/groups.GroupIDResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/groups/{groupId}": {
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Deletes a group",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Groups"
                ],
                "summary": "Delete a group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Group ID",
                        "name": "groupId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/groups/{groupId}/pads": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a new pad within a group",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Groups"
                ],
                "summary": "Create a pad in a group",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Group ID",
                        "name": "groupId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Pad data",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/groups.CreateGroupPadRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns a list of all pad IDs",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "List all pads",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.AllPadsResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/readonly/{roId}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the pad ID based on the read-only ID",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get pad ID from read-only ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Read-only ID",
                        "name": "roId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.PadIDResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a new pad with optional initial text",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Create a new pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Initial text and author ID",
                        "name": "request",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/pad.CreatePadRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "409": {
                        "description": "Conflict",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Deletes a pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Delete a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/appendText": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Appends text to the end of a pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Append text to a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Text to append and Author ID",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/pad.AppendTextRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/attributePool": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the attribute pool of a pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get attribute pool of a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.AttributePoolResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/authors": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns an array of author IDs who contributed to this pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "List authors of a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.AuthorsResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/chat": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Creates a chat message for the pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Chat"
                ],
                "summary": "Append a chat message",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Chat message data",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/pad.AppendChatMessageRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/chatHead": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the chat head (last number of the last chat message) of the pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get chat head",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.ChatHeadResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/chatHistory": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns a part of or the whole chat history of this pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Chat"
                ],
                "summary": "Get chat history",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "description": "Start index",
                        "name": "start",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "End index",
                        "name": "end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.ChatHistoryResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/html": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the pad content as HTML",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get pad HTML",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Revision number",
                        "name": "rev",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Sets the text of a pad based on HTML",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Set pad HTML",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "HTML content and Author ID",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/pad.SetHTMLRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/lastEdited": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the timestamp of when the pad was last edited",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get last edited timestamp",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "integer",
                                "format": "int64"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/readOnlyID": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the read-only link ID of a pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get read-only ID",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.ReadOnlyIDResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/restoreRevision": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Restores a revision from the past as a new changeset",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Restore a revision",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Revision and Author ID",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/pad.RestoreRevisionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/revisionChangeset": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the changeset at a given revision, or last revision if rev is not provided",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get revision changeset (optional rev)",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Revision number (optional, defaults to head)",
                        "name": "rev",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.ChangesetResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/revisionsCount": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the number of revisions of this pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get revisions count",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "integer"
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/saveRevision": {
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Saves the current revision of the pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Save a revision",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Revision number (optional, defaults to head)",
                        "name": "request",
                        "in": "body",
                        "schema": {
                            "$ref": "#/definitions/pad.SaveRevisionRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/savedRevisions": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the list of saved revisions of this pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "List saved revisions",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.SavedRevisionsListResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/savedRevisionsCount": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the number of saved revisions of this pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get saved revisions count",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.SavedRevisionsCountResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/text": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the current text of a pad, optionally for a specific revision",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get pad text",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Revision number",
                        "name": "rev",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.TextResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Updates the text of a pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Set pad text",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Text and Author ID",
                        "name": "request",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/pad.SetTextRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/users": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns a list of users currently editing a pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get users currently in a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.PadUsersResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/usersCount": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the number of users currently editing a pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get count of users in a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/pad.PadUsersCountResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/admin/api/pads/{padId}/{rev}/revisionChangeset": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the changeset of a specific revision of a pad",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Pads"
                ],
                "summary": "Get revision changeset",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "padId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Revision number",
                        "name": "rev",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/errors.Error"
                        }
                    }
                }
            }
        },
        "/health": {
            "get": {
                "description": "Returns the health status of the service (RFC Health Check Draft)",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Health"
                ],
                "summary": "Health check endpoint",
                "responses": {
                    "200": {
                        "description": "Service is healthy",
                        "schema": {
                            "$ref": "#/definitions/stats.HealthResponse"
                        }
                    },
                    "503": {
                        "description": "Service is unhealthy",
                        "schema": {
                            "$ref": "#/definitions/stats.HealthResponse"
                        }
                    }
                }
            }
        },
        "/p/{pad}/export/{type}": {
            "get": {
                "description": "Exports the content of a pad to various formats (pdf, word, txt, html, open, etherpad, markdown)",
                "produces": [
                    "application/octet-stream"
                ],
                "tags": [
                    "Export"
                ],
                "summary": "Export a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "pad",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Export type (pdf, word, txt, html, open, etherpad, markdown)",
                        "name": "type",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Exported file",
                        "schema": {
                            "type": "file"
                        }
                    },
                    "400": {
                        "description": "Invalid export type",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Pad not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "503": {
                        "description": "Export not available",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/p/{pad}/import": {
            "post": {
                "description": "Imports the content of a file into an existing or new pad. Supported formats: txt, html, htm, etherpad, docx, doc, odt, rtf, pdf",
                "consumes": [
                    "multipart/form-data"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Import"
                ],
                "summary": "Import a file into a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "pad",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "file",
                        "description": "File to import",
                        "name": "file",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/io.ImportResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/io.ImportResponse"
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "schema": {
                            "$ref": "#/definitions/io.ImportResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error",
                        "schema": {
                            "$ref": "#/definitions/io.ImportResponse"
                        }
                    }
                }
            }
        },
        "/p/{pad}/{rev}/export/{type}": {
            "get": {
                "description": "Exports the content of a pad to various formats (pdf, word, txt, html, open, etherpad, markdown)",
                "produces": [
                    "application/octet-stream"
                ],
                "tags": [
                    "Export"
                ],
                "summary": "Export a pad",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Pad ID",
                        "name": "pad",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Revision number",
                        "name": "rev",
                        "in": "path"
                    },
                    {
                        "type": "string",
                        "description": "Export type (pdf, word, txt, html, open, etherpad, markdown)",
                        "name": "type",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Exported file",
                        "schema": {
                            "type": "file"
                        }
                    },
                    "400": {
                        "description": "Invalid export type",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Pad not found",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "503": {
                        "description": "Export not available",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "apool.APool": {
            "type": "object",
            "properties": {
                "nextNum": {
                    "type": "integer"
                },
                "numToAttrib": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "author.Author": {
            "description": "An author who can collaborate on pads",
            "type": "object",
            "properties": {
                "colorId": {
                    "type": "string",
                    "example": "#ff0000"
                },
                "id": {
                    "type": "string",
                    "example": "a.s8oes9dhwrvt0zif"
                },
                "name": {
                    "type": "string",
                    "example": "John Doe"
                },
                "timestamp": {
                    "type": "integer",
                    "example": 1704067200000
                },
                "token": {
                    "type": "string"
                }
            }
        },
        "author.AuthorNameResponse": {
            "type": "object",
            "properties": {
                "authorName": {
                    "type": "string"
                }
            }
        },
        "author.CreateAuthorIfNotExistsForRequest": {
            "type": "object",
            "properties": {
                "authorMapper": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "author.CreateDto": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "example": "John Doe"
                }
            }
        },
        "author.CreateDtoResponse": {
            "type": "object",
            "properties": {
                "authorId": {
                    "type": "string",
                    "example": "a.s8oes9dhwrvt0zif"
                }
            }
        },
        "errors.Error": {
            "description": "Standardized API error response",
            "type": "object",
            "properties": {
                "error": {
                    "type": "integer",
                    "example": 404
                },
                "message": {
                    "type": "string",
                    "example": "Pad not found"
                }
            }
        },
        "groups.CreateGroupPadRequest": {
            "type": "object",
            "properties": {
                "authorId": {
                    "type": "string"
                },
                "padName": {
                    "type": "string"
                },
                "text": {
                    "type": "string"
                }
            }
        },
        "groups.GroupIDResponse": {
            "type": "object",
            "properties": {
                "groupID": {
                    "type": "string"
                }
            }
        },
        "io.ImportData": {
            "type": "object",
            "properties": {
                "directDatabaseAccess": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "io.ImportResponse": {
            "description": "Response for import operations",
            "type": "object",
            "properties": {
                "code": {
                    "type": "integer",
                    "example": 0
                },
                "data": {
                    "$ref": "#/definitions/io.ImportData"
                },
                "message": {
                    "type": "string",
                    "example": "ok"
                }
            }
        },
        "pad.AllPadsResponse": {
            "type": "object",
            "properties": {
                "padIDs": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "pad.AppendChatMessageRequest": {
            "type": "object",
            "properties": {
                "authorID": {
                    "type": "string"
                },
                "text": {
                    "type": "string"
                },
                "time": {
                    "type": "integer"
                }
            }
        },
        "pad.AppendTextRequest": {
            "type": "object",
            "properties": {
                "authorId": {
                    "type": "string"
                },
                "text": {
                    "type": "string"
                }
            }
        },
        "pad.AttributePoolResponse": {
            "type": "object",
            "properties": {
                "pool": {
                    "$ref": "#/definitions/apool.APool"
                }
            }
        },
        "pad.AuthorsResponse": {
            "type": "object",
            "properties": {
                "authorIDs": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "pad.ChangesetResponse": {
            "type": "object",
            "properties": {
                "changeset": {
                    "type": "string"
                }
            }
        },
        "pad.ChatHeadResponse": {
            "type": "object",
            "properties": {
                "chatHead": {
                    "type": "integer"
                }
            }
        },
        "pad.ChatHistoryResponse": {
            "type": "object",
            "properties": {
                "messages": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/pad.ChatMessageResponse"
                    }
                }
            }
        },
        "pad.ChatMessageResponse": {
            "type": "object",
            "properties": {
                "authorID": {
                    "type": "string"
                },
                "text": {
                    "type": "string"
                },
                "time": {
                    "type": "integer"
                },
                "userName": {
                    "type": "string"
                }
            }
        },
        "pad.CreatePadRequest": {
            "type": "object",
            "properties": {
                "authorId": {
                    "type": "string"
                },
                "text": {
                    "type": "string"
                }
            }
        },
        "pad.PadIDResponse": {
            "type": "object",
            "properties": {
                "padID": {
                    "type": "string"
                }
            }
        },
        "pad.PadUser": {
            "type": "object",
            "properties": {
                "colorId": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "pad.PadUsersCountResponse": {
            "type": "object",
            "properties": {
                "padUsersCount": {
                    "type": "integer"
                }
            }
        },
        "pad.PadUsersResponse": {
            "type": "object",
            "properties": {
                "padUsers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/pad.PadUser"
                    }
                }
            }
        },
        "pad.ReadOnlyIDResponse": {
            "type": "object",
            "properties": {
                "readOnlyID": {
                    "type": "string"
                }
            }
        },
        "pad.RestoreRevisionRequest": {
            "type": "object",
            "properties": {
                "authorId": {
                    "type": "string"
                },
                "rev": {
                    "type": "integer"
                }
            }
        },
        "pad.SaveRevisionRequest": {
            "type": "object",
            "properties": {
                "rev": {
                    "type": "integer"
                }
            }
        },
        "pad.SavedRevisionsCountResponse": {
            "type": "object",
            "properties": {
                "savedRevisions": {
                    "type": "integer"
                }
            }
        },
        "pad.SavedRevisionsListResponse": {
            "type": "object",
            "properties": {
                "savedRevisions": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                }
            }
        },
        "pad.SetHTMLRequest": {
            "type": "object",
            "properties": {
                "authorId": {
                    "type": "string"
                },
                "html": {
                    "type": "string"
                }
            }
        },
        "pad.SetTextRequest": {
            "type": "object",
            "properties": {
                "authorId": {
                    "type": "string"
                },
                "text": {
                    "type": "string"
                }
            }
        },
        "pad.TextResponse": {
            "type": "object",
            "properties": {
                "text": {
                    "type": "string"
                }
            }
        },
        "stats.Check": {
            "description": "Result of a health check",
            "type": "object",
            "properties": {
                "component": {
                    "type": "string",
                    "example": "database"
                },
                "observedAt": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "observedValue": {},
                "output": {
                    "type": "string",
                    "example": "ok"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/stats.HealthStatus"
                        }
                    ],
                    "example": "pass"
                }
            }
        },
        "stats.HealthResponse": {
            "description": "Complete health check response",
            "type": "object",
            "properties": {
                "checks": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "array",
                        "items": {
                            "$ref": "#/definitions/stats.Check"
                        }
                    }
                },
                "releaseId": {
                    "type": "string",
                    "example": "abc123"
                },
                "serviceId": {
                    "type": "string",
                    "example": "etherpad-api"
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/stats.HealthStatus"
                        }
                    ],
                    "example": "pass"
                },
                "version": {
                    "type": "string",
                    "example": "1.0.0"
                }
            }
        },
        "stats.HealthStatus": {
            "description": "Status of a health check (pass, warn, fail)",
            "type": "string",
            "enum": [
                "pass",
                "warn",
                "fail"
            ],
            "x-enum-varnames": [
                "StatusPass",
                "StatusWarn",
                "StatusFail"
            ]
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "Bearer Token for Admin API authentication",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}